// ==UserScript==
// @id            Wasabee.user.js
// @name          IITC plugin: Wasabee Draw Tools
// @namespace     https://wasabee.rocks/
// @version       0.22.20221203095508
// @updateURL     https://cdn2.wasabee.rocks/iitcplugin/prod/wasabee.meta.js
// @downloadURL   https://cdn2.wasabee.rocks/iitcplugin/prod/wasabee.user.js
// @description   Wasabee is not for dating.
// @author        Wasabee Project Team
// @match         https://intel.ingress.com/*
// @category      Draw
// @grant         none
// ==/UserScript==


function wrapper(plugin_info) {
  if (typeof window.plugin !== "function") {
    window.plugin = function () {};
  }

  window.plugin.Wasabee = window.plugin.wasabee = {};
  window.plugin.wasabee.info = plugin_info.script;

  // Code injection
  function setup () {
/*! For license information please see wasabee.user.js.LICENSE.txt */
(()=>{var e={375:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M464 16c-17.67 0-32 14.31-32 32v74.09C392.1 66.52 327.4 32 256 32C161.5 32 78.59 92.34 49.58 182.2c-5.438 16.81 3.797 34.88 20.61 40.28c16.89 5.5 34.88-3.812 40.3-20.59C130.9 138.5 189.4 96 256 96c50.5 0 96.26 24.55 124.4 64H336c-17.67 0-32 14.31-32 32s14.33 32 32 32h128c17.67 0 32-14.31 32-32V48C496 30.31 481.7 16 464 16zM441.8 289.6c-16.92-5.438-34.88 3.812-40.3 20.59C381.1 373.5 322.6 416 256 416c-50.5 0-96.25-24.55-124.4-64H176c17.67 0 32-14.31 32-32s-14.33-32-32-32h-128c-17.67 0-32 14.31-32 32v144c0 17.69 14.33 32 32 32s32-14.31 32-32v-74.09C119.9 445.5 184.6 480 255.1 480c94.45 0 177.4-60.34 206.4-150.2C467.9 313 458.6 294.1 441.8 289.6z"]},t.T8=t.DF},789:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"asterisk",icon:[448,512,[10033,61545],"2a","M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"]},t.$X=t.DF},117:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM99.5 144.8C77.15 176.1 64 214.5 64 256C64 362 149.1 448 256 448C297.5 448 335.9 434.9 367.2 412.5L99.5 144.8zM448 256C448 149.1 362 64 256 64C214.5 64 176.1 77.15 144.8 99.5L412.5 367.2C434.9 335.9 448 297.5 448 256V256z"]},t.gP=t.DF},49:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M118.6 105.4l128 127.1C252.9 239.6 256 247.8 256 255.1s-3.125 16.38-9.375 22.63l-128 127.1c-9.156 9.156-22.91 11.9-34.88 6.943S64 396.9 64 383.1V128c0-12.94 7.781-24.62 19.75-29.58S109.5 96.23 118.6 105.4z"]},t.I4=t.DF},55:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"check",icon:[448,512,[10004,10003],"f00c","M438.6 105.4C451.1 117.9 451.1 138.1 438.6 150.6L182.6 406.6C170.1 419.1 149.9 419.1 137.4 406.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4C21.87 220.9 42.13 220.9 54.63 233.4L159.1 338.7L393.4 105.4C405.9 92.88 426.1 92.88 438.6 105.4H438.6z"]},t.LE=t.DF},98:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"desktop",icon:[576,512,[61704,128421,"desktop-alt"],"f390","M528 0h-480C21.5 0 0 21.5 0 48v320C0 394.5 21.5 416 48 416h192L224 464H152C138.8 464 128 474.8 128 488S138.8 512 152 512h272c13.25 0 24-10.75 24-24s-10.75-24-24-24H352L336 416h192c26.5 0 48-21.5 48-48v-320C576 21.5 554.5 0 528 0zM512 288H64V64h448V288z"]},t.tc=t.DF},755:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"eraser",icon:[512,512,[],"f12d","M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"]},t.xf=t.DF},610:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"left-right",icon:[512,512,[8596,"arrows-alt-h"],"f337","M503.1 273.6l-112 104c-6.984 6.484-17.17 8.219-25.92 4.406s-14.41-12.45-14.41-22v-56l-192 .001V360c0 9.547-5.656 18.19-14.41 22c-8.75 3.812-18.94 2.078-25.92-4.406l-112-104c-9.781-9.094-9.781-26.09 0-35.19l112-104c6.984-6.484 17.17-8.219 25.92-4.406C154 133.8 159.7 142.5 159.7 152v55.1l192-.001v-56c0-9.547 5.656-18.19 14.41-22s18.94-2.078 25.92 4.406l112 104C513.8 247.5 513.8 264.5 503.1 273.6z"]},t.Bq=t.DF},467:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M168.3 499.2C116.1 435 0 279.4 0 192C0 85.96 85.96 0 192 0C298 0 384 85.96 384 192C384 279.4 267 435 215.7 499.2C203.4 514.5 180.6 514.5 168.3 499.2H168.3zM192 256C227.3 256 256 227.3 256 192C256 156.7 227.3 128 192 128C156.7 128 128 156.7 128 192C128 227.3 156.7 256 192 256z"]},t.op=t.DF},102:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"palette",icon:[512,512,[127912],"f53f","M512 255.1C512 256.9 511.1 257.8 511.1 258.7C511.6 295.2 478.4 319.1 441.9 319.1H344C317.5 319.1 296 341.5 296 368C296 371.4 296.4 374.7 297 377.9C299.2 388.1 303.5 397.1 307.9 407.8C313.9 421.6 320 435.3 320 449.8C320 481.7 298.4 510.5 266.6 511.8C263.1 511.9 259.5 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256V255.1zM96 255.1C78.33 255.1 64 270.3 64 287.1C64 305.7 78.33 319.1 96 319.1C113.7 319.1 128 305.7 128 287.1C128 270.3 113.7 255.1 96 255.1zM128 191.1C145.7 191.1 160 177.7 160 159.1C160 142.3 145.7 127.1 128 127.1C110.3 127.1 96 142.3 96 159.1C96 177.7 110.3 191.1 128 191.1zM256 63.1C238.3 63.1 224 78.33 224 95.1C224 113.7 238.3 127.1 256 127.1C273.7 127.1 288 113.7 288 95.1C288 78.33 273.7 63.1 256 63.1zM384 191.1C401.7 191.1 416 177.7 416 159.1C416 142.3 401.7 127.1 384 127.1C366.3 127.1 352 142.3 352 159.1C352 177.7 366.3 191.1 384 191.1z"]},t.q2=t.DF},371:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32zM421.7 220.3L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3z"]},t.Iw=t.DF},986:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"server",icon:[512,512,[],"f233","M480 288H32c-17.62 0-32 14.38-32 32v128c0 17.62 14.38 32 32 32h448c17.62 0 32-14.38 32-32v-128C512 302.4 497.6 288 480 288zM352 408c-13.25 0-24-10.75-24-24s10.75-24 24-24s24 10.75 24 24S365.3 408 352 408zM416 408c-13.25 0-24-10.75-24-24s10.75-24 24-24s24 10.75 24 24S429.3 408 416 408zM480 32H32C14.38 32 0 46.38 0 64v128c0 17.62 14.38 32 32 32h448c17.62 0 32-14.38 32-32V64C512 46.38 497.6 32 480 32zM352 152c-13.25 0-24-10.75-24-24S338.8 104 352 104S376 114.8 376 128S365.3 152 352 152zM416 152c-13.25 0-24-10.75-24-24S402.8 104 416 104S440 114.8 440 128S429.3 152 416 152z"]},t.xf=t.DF},619:(e,t)=>{"use strict";t.DF={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"]},t.$=t.DF},874:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},818:(e,t,a)=>{var o=a(874),n=a(851),i=Object.hasOwnProperty,r={};for(var s in o)i.call(o,s)&&(r[o[s]]=s);var l=e.exports={to:{},get:{}};function c(e,t,a){return Math.min(Math.max(t,e),a)}function d(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,a;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),a="hsl";break;case"hwb":t=l.get.hwb(e),a="hwb";break;default:t=l.get.rgb(e),a="rgb"}return t?{model:a,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,a,n,r=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=t[2],t=t[1],a=0;a<3;a++){var s=2*a;r[a]=parseInt(t.slice(s,s+2),16)}n&&(r[3]=parseInt(n,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(n=(t=t[1])[3],a=0;a<3;a++)r[a]=parseInt(t[a]+t[a],16);n&&(r[3]=parseInt(n+n,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(a=0;a<3;a++)r[a]=parseInt(t[a+1],0);t[4]&&(t[5]?r[3]=.01*parseFloat(t[4]):r[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:i.call(o,t[1])?((r=o[t[1]])[3]=1,r):null:null;for(a=0;a<3;a++)r[a]=Math.round(2.55*parseFloat(t[a+1]));t[4]&&(t[5]?r[3]=.01*parseFloat(t[4]):r[3]=parseFloat(t[4]))}for(a=0;a<3;a++)r[a]=c(r[a],0,255);return r[3]=c(r[3],0,1),r},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var a=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(a)?1:a,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var a=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(a)?1:a,0,1)]}return null},l.to.hex=function(){var e=n(arguments);return"#"+d(e[0])+d(e[1])+d(e[2])+(e[3]<1?d(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=n(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=n(arguments),t=Math.round(e[0]/255*100),a=Math.round(e[1]/255*100),o=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+a+"%, "+o+"%)":"rgba("+t+"%, "+a+"%, "+o+"%, "+e[3]+")"},l.to.hsl=function(){var e=n(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=n(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return r[e.slice(0,3)]}},426:(e,t,a)=>{var o=a(81),n=a(645)(o);n.push([e.id,".wasabee-dialog button.drawb{border:2px solid #daa520;border-radius:35px;cursor:pointer;margin:auto 0 auto auto;padding:4px 17px;text-align:center;width:max-content}.wasabee-dialog-fanfield .container,.wasabee-dialog-flipflop .container,.wasabee-dialog-homogeneous .container,.wasabee-dialog-madrid .container,.wasabee-dialog-multimax .container,.wasabee-dialog-onion .container,.wasabee-dialog-savelinks .container,.wasabee-dialog-starburst .container{grid-gap:.2em .5em;align-items:center;display:grid;grid-template-columns:minmax(min-content,10em) min-content auto;max-width:700px}.wasabee-dialog-link .container{grid-gap:.2em .5em;align-items:center;display:grid;max-width:700px}.wasabee-dialog-fanfield label,.wasabee-dialog-flipflop label,.wasabee-dialog-link label,.wasabee-dialog-madrid label,.wasabee-dialog-multimax label,.wasabee-dialog-onion label,.wasabee-dialog-savelinks label,.wasabee-dialog-starburst label{grid-column:1;text-decoration:dotted underline}.wasabee-dialog-fanfield button,.wasabee-dialog-flipflop button,.wasabee-dialog-homogeneous button,.wasabee-dialog-link button,.wasabee-dialog-madrid button,.wasabee-dialog-multimax button,.wasabee-dialog-onion button,.wasabee-dialog-savelinks button,.wasabee-dialog-starburst button{cursor:pointer;grid-column:2;padding:4px}.wasabee-dialog-homogeneous .drawb{grid-column:4}.wasabee-dialog-link .drawb{grid-column:1/3}.wasabee-dialog-fanfield .drawb,.wasabee-dialog-flipflop .drawb,.wasabee-dialog-madrid .drawb,.wasabee-dialog-multimax .drawb,.wasabee-dialog-onion .drawb,.wasabee-dialog-savelinks .drawb,.wasabee-dialog-starburst .drawb{grid-column:3}.wasabee-dialog-fanfield .desc,.wasabee-dialog-flipflop .desc,.wasabee-dialog-madrid .desc,.wasabee-dialog-multimax .desc,.wasabee-dialog-onion .desc,.wasabee-dialog-savelinks .desc,.wasabee-dialog-starburst .desc{grid-column:1/4}.wasabee-dialog-fanfield .desc.secondary,.wasabee-dialog-starburst .desc.secondary{color:#d3d3d3}.wasabee-dialog-homogeneous .desc{grid-column:1/5}.wasabee-dialog-homogeneous .set-portal-display{grid-column:3/5}.wasabee-dialog-link .portal{grid-column:1/4;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wasabee-dialog-link .add,.wasabee-dialog-link .desc{grid-column:3}",""]),e.exports=n},509:(e,t,a)=>{var o=a(81),n=a(645)(o);n.push([e.id,".ui-dialog{max-width:calc(100vw - 2px)}.ui-dialog a.enl{color:#03fe03}.ui-dialog a.res{color:#00c5ff}.ui-dialog a.mac{color:#f74a4a}",""]),e.exports=n},283:(e,t,a)=>{var o=a(81),n=a(645)(o);n.push([e.id,".wasabee-tooltip{background:rgba(30,130,76,.66);border:1px solid transparent;-webkit-border-radius:4px;border-radius:4px;color:#fff;margin-left:20px;margin-top:-21px;padding:2px 4px;position:absolute;white-space:nowrap;z-index:6}.wasabee-tooltip:before{border-bottom:6px solid transparent;border-right:6px solid rgba(99,99,88,.66);border-top:6px solid transparent;content:\"\";left:-7px;position:absolute;top:7px}.wasabee-tooltip-single{margin-top:-12px}.wasabee-error-tooltip{background-color:#f2dede;border:1px solid #e6b6bd;color:#b94a48}.wasabee-error-tooltip:before{border-right-color:#e6b6bd}.ui-tooltip.wasabee-zone-tooltip:before{border:transparent}.leaflet-popup.wasabee-popup .leaflet-popup-content-wrapper{background:hsla(0,0%,92%,.75)!important;-webkit-border-radius:6px!important;font-weight:bolder}#map .wasabee-popup .leaflet-popup-content{color:#000}.wasabee-popup a.enl{color:#388e3c!important}.wasabee-popup a.res{color:#0087ff!important}.wasabee-popup a.mac{color:#8e1111!important}.wasabee-anchor-popup .info-block,.wasabee-link-popup .info-block{display:flex;flex-wrap:wrap;justify-content:space-between}.wasabee-link-popup .buttonset{display:grid}.wasabee-marker-popup div.desc{color:#000;overflow:hidden;padding:4px;text-overflow:ellipsis;white-space:nowrap}.wasabee-popup-assignment{color:#000;padding:0 4px;text-overflow:ellipsis;white-space:nowrap}.wasabee-popup-assignment a.wasabee-agent-label{margin-left:4px}.wasabee-marker-popup-kind{color:#000;margin-right:4px;text-overflow:ellipsis;white-space:nowrap}.wasabee-marker-popup-comment{cursor:pointer;font-weight:400}.wasabee-marker-popup-comment:hover{text-decoration:underline}.wasabee-marker-popup-kind{cursor:pointer}.wasabee-marker-popup-kind:hover{text-decoration:underline}.wasabee-marker-buttonset button{display:block;width:100%}.wasabee-agent-popup div.desc{color:#000;overflow:hidden;padding:0 4px;text-overflow:ellipsis;white-space:nowrap}.wasabee-agent-popup button{display:block;width:100%}.wasabee-agent-popup ul.assignments{color:#388e3c}.wasabee-agent-popup li.assignment{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wasabee-anchor-popup div.desc{color:#000;overflow:hidden;padding:0 4px;text-overflow:ellipsis;white-space:nowrap}.wasabee-anchor-popup .key-missing{color:brown}.wasabee-anchor-buttonset{display:grid;grid-template-columns:1fr 1fr}.wasabee-anchor-buttonset button{grid-column:1/3;width:100%}.wasabee-anchor-buttonset button.swap{grid-column:1/2}.wasabee-anchor-buttonset button.duplicate{grid-column:2/3}.wasabee-wd-popup ul{padding-left:1em}.wasabee-marker-icon{background-size:cover}.wasabee-marker-icon.CapturePortalMarker{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%2385296a'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%2385296a'/%3E%3Cpath d='m86.734 110.528-7.736 5.429 86.863 169.397 9.735-4.428-44.828-87.224S205.842 193.538 236 142c4.003-6.841 7-16 7-16s-5.78 6.297-22 8c-24.16 2.537-104.488-3.399-131-21-2.099-1.394-3.266-2.472-3.266-2.472Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.CapturePortalMarker.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%2385296a'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%2385296a'/%3E%3Cpath d='m86.734 110.528-7.736 5.429 86.863 169.397 9.735-4.428-44.828-87.224S205.842 193.538 236 142c4.003-6.841 7-16 7-16s-5.78 6.297-22 8c-24.16 2.537-104.488-3.399-131-21-2.099-1.394-3.266-2.472-3.266-2.472Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.CapturePortalMarker.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%2385296a'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%2385296a'/%3E%3Cpath d='m86.734 110.528-7.736 5.429 86.863 169.397 9.735-4.428-44.828-87.224S205.842 193.538 236 142c4.003-6.841 7-16 7-16s-5.78 6.297-22 8c-24.16 2.537-104.488-3.399-131-21-2.099-1.394-3.266-2.472-3.266-2.472Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.CapturePortalMarker.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%2385296a'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%2385296a'/%3E%3Cpath d='m86.734 110.528-7.736 5.429 86.863 169.397 9.735-4.428-44.828-87.224S205.842 193.538 236 142c4.003-6.841 7-16 7-16s-5.78 6.297-22 8c-24.16 2.537-104.488-3.399-131-21-2.099-1.394-3.266-2.472-3.266-2.472Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.LetDecayPortalAlert{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%237d7d7d'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%237d7d7d'/%3E%3Cpath d='M94 123s-1 32.333 3 43c3.732 9.953 26 21 26 21s-22.368 9.465-26 19c-4 10.5-3 44-3 44h-8v9h93v-8h-9s1.667-33.333-2-44c-3.222-9.372-25-20-25-20s21.894-9.822 25-19c3.667-10.833 2-46 2-46h9v-8H85v9h9Z' style='fill:%23fff' transform='translate(25 -4)'/%3E%3Cpath d='M130 245s-.835-4.053-.847-8.241c-.008-2.996-.595-7.06 1.847-7.759 6.934-1.985 20.167-3.333 27-17 3.683-7.365 5.957-23.188 2-31 0 0-19.667-8-24-16-1.564-2.887 15.077 7.331 27.892-.462C174.757 157.93 195 154 195 154s.36 10.553-7 16c-5.211 3.857-21 11-21 11l-2.519 24.418s.104 7.157 4.519 11.582c4.753 4.764 24.013 4.212 26 11 2 6.833 0 18 0 18l-65-1Z' style='fill:%237d7d7d' transform='translate(-5)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.LetDecayPortalAlert.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%237d7d7d'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%237d7d7d'/%3E%3Cpath d='M94 123s-1 32.333 3 43c3.732 9.953 26 21 26 21s-22.368 9.465-26 19c-4 10.5-3 44-3 44h-8v9h93v-8h-9s1.667-33.333-2-44c-3.222-9.372-25-20-25-20s21.894-9.822 25-19c3.667-10.833 2-46 2-46h9v-8H85v9h9Z' style='fill:%23fff' transform='translate(25 -4)'/%3E%3Cpath d='M130 245s-.835-4.053-.847-8.241c-.008-2.996-.595-7.06 1.847-7.759 6.934-1.985 20.167-3.333 27-17 3.683-7.365 5.957-23.188 2-31 0 0-19.667-8-24-16-1.564-2.887 15.077 7.331 27.892-.462C174.757 157.93 195 154 195 154s.36 10.553-7 16c-5.211 3.857-21 11-21 11l-2.519 24.418s.104 7.157 4.519 11.582c4.753 4.764 24.013 4.212 26 11 2 6.833 0 18 0 18l-65-1Z' style='fill:%237d7d7d' transform='translate(-5)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.LetDecayPortalAlert.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%237d7d7d'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%237d7d7d'/%3E%3Cpath d='M94 123s-1 32.333 3 43c3.732 9.953 26 21 26 21s-22.368 9.465-26 19c-4 10.5-3 44-3 44h-8v9h93v-8h-9s1.667-33.333-2-44c-3.222-9.372-25-20-25-20s21.894-9.822 25-19c3.667-10.833 2-46 2-46h9v-8H85v9h9Z' style='fill:%23fff' transform='translate(25 -4)'/%3E%3Cpath d='M130 245s-.835-4.053-.847-8.241c-.008-2.996-.595-7.06 1.847-7.759 6.934-1.985 20.167-3.333 27-17 3.683-7.365 5.957-23.188 2-31 0 0-19.667-8-24-16-1.564-2.887 15.077 7.331 27.892-.462C174.757 157.93 195 154 195 154s.36 10.553-7 16c-5.211 3.857-21 11-21 11l-2.519 24.418s.104 7.157 4.519 11.582c4.753 4.764 24.013 4.212 26 11 2 6.833 0 18 0 18l-65-1Z' style='fill:%237d7d7d' transform='translate(-5)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.LetDecayPortalAlert.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%237d7d7d'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%237d7d7d'/%3E%3Cpath d='M94 123s-1 32.333 3 43c3.732 9.953 26 21 26 21s-22.368 9.465-26 19c-4 10.5-3 44-3 44h-8v9h93v-8h-9s1.667-33.333-2-44c-3.222-9.372-25-20-25-20s21.894-9.822 25-19c3.667-10.833 2-46 2-46h9v-8H85v9h9Z' style='fill:%23fff' transform='translate(25 -4)'/%3E%3Cpath d='M130 245s-.835-4.053-.847-8.241c-.008-2.996-.595-7.06 1.847-7.759 6.934-1.985 20.167-3.333 27-17 3.683-7.365 5.957-23.188 2-31 0 0-19.667-8-24-16-1.564-2.887 15.077 7.331 27.892-.462C174.757 157.93 195 154 195 154s.36 10.553-7 16c-5.211 3.857-21 11-21 11l-2.519 24.418s.104 7.157 4.519 11.582c4.753 4.764 24.013 4.212 26 11 2 6.833 0 18 0 18l-65-1Z' style='fill:%237d7d7d' transform='translate(-5)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.DestroyPortalAlert{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23b7222a'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23b7222a'/%3E%3Ccircle cx='162.5' cy='183.5' r='65.5' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 34.835 45.392)'/%3E%3Cpath d='M159.5 136V86v50ZM159 230v50-50Z' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 37.124 45.392)'/%3E%3Ccircle cx='159.5' cy='184.5' r='5.5' style='fill:%23fff' transform='translate(-84.175 -94.98) scale(1.52577)'/%3E%3Cpath d='M209 184h42-42Z' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 37.124 44.392)'/%3E%3Cpath d='M113 174.862H68A8.142 8.142 0 0 0 59.862 183 8.142 8.142 0 0 0 68 191.138h45a8.142 8.142 0 0 0 8.138-8.138 8.142 8.142 0 0 0-8.138-8.138Z' style='fill:%23fff' transform='matrix(.76289 0 0 .76289 37.124 45.392)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.DestroyPortalAlert.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23b7222a'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23b7222a'/%3E%3Ccircle cx='162.5' cy='183.5' r='65.5' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 34.835 45.392)'/%3E%3Cpath d='M159.5 136V86v50ZM159 230v50-50Z' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 37.124 45.392)'/%3E%3Ccircle cx='159.5' cy='184.5' r='5.5' style='fill:%23fff' transform='translate(-84.175 -94.98) scale(1.52577)'/%3E%3Cpath d='M209 184h42-42Z' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 37.124 44.392)'/%3E%3Cpath d='M113 174.862H68A8.142 8.142 0 0 0 59.862 183 8.142 8.142 0 0 0 68 191.138h45a8.142 8.142 0 0 0 8.138-8.138 8.142 8.142 0 0 0-8.138-8.138Z' style='fill:%23fff' transform='matrix(.76289 0 0 .76289 37.124 45.392)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.DestroyPortalAlert.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23b7222a'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23b7222a'/%3E%3Ccircle cx='162.5' cy='183.5' r='65.5' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 34.835 45.392)'/%3E%3Cpath d='M159.5 136V86v50ZM159 230v50-50Z' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 37.124 45.392)'/%3E%3Ccircle cx='159.5' cy='184.5' r='5.5' style='fill:%23fff' transform='translate(-84.175 -94.98) scale(1.52577)'/%3E%3Cpath d='M209 184h42-42Z' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 37.124 44.392)'/%3E%3Cpath d='M113 174.862H68A8.142 8.142 0 0 0 59.862 183 8.142 8.142 0 0 0 68 191.138h45a8.142 8.142 0 0 0 8.138-8.138 8.142 8.142 0 0 0-8.138-8.138Z' style='fill:%23fff' transform='matrix(.76289 0 0 .76289 37.124 45.392)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.DestroyPortalAlert.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23b7222a'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23b7222a'/%3E%3Ccircle cx='162.5' cy='183.5' r='65.5' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 34.835 45.392)'/%3E%3Cpath d='M159.5 136V86v50ZM159 230v50-50Z' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 37.124 45.392)'/%3E%3Ccircle cx='159.5' cy='184.5' r='5.5' style='fill:%23fff' transform='translate(-84.175 -94.98) scale(1.52577)'/%3E%3Cpath d='M209 184h42-42Z' style='fill:none;stroke:%23fff;stroke-width:16.28px' transform='matrix(.76289 0 0 .76289 37.124 44.392)'/%3E%3Cpath d='M113 174.862H68A8.142 8.142 0 0 0 59.862 183 8.142 8.142 0 0 0 68 191.138h45a8.142 8.142 0 0 0 8.138-8.138 8.142 8.142 0 0 0-8.138-8.138Z' style='fill:%23fff' transform='matrix(.76289 0 0 .76289 37.124 45.392)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.FarmPortalMarker{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23f17030'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23f17030'/%3E%3Cuse xlink:href='%23a' x='70' y='120' width='176' height='143'/%3E%3Cpath d='M122.538 112.791c-1.934-12.24 28.787-17.533 17.117.729 0 0 23.934-9.799 15.114 10.82-5.029 24.429-43.717.032-43.957-1.575-21.691-16.796 3.509-30.807 11.726-9.974Z' style='fill:%23fff'/%3E%3Cdefs%3E%3Cimage id='a' width='176' height='143' xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAACPCAYAAABam1EmAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAQ1klEQVR4nO2dedwV1XnHvw+iKC8WxQVCYhAKDcSdYMEalQgYo2JKjBo1bqVaozVLmyZ2S6JNPs2KbTaN1hibj4qaD6BJRQRJlGjcUbHRmmgScQGXClYQZfn1jzP39Xq5+8ycMzN3vp/PeN93tue5w8/znjnnOc9j5AxJI4GxwGCgL9oGA08Dd5rZ2oDulXjGQjvQCkkG7AscC3wYeF+T07cADwPLgDuAW8xsXepOlpTUImmgpPMl/V7d86ykUyUNCP19SnoISdMkPRpDuLXcJ+ng0N+rpOBI2lPSvASFW8t1kiarbJFLkiYS1sspireaVZKukDRL0pDQ370k50j6kKR1nsRbywZJCyWdKWmb0M+iJGdIOk3SpkDireUBSQeFfiYlOUHSX4ZWbAN+KGn30M+npDXBxoEl7Q/cA2wXyocWrAHONLMFoR0paUwQAUvaEbgf+JMQ9jtgI3C0mS0O7UhJfbwPJ8nNrH2f7IsXYFtgvqQ/De1ISX1CjId+PNryQh9ws6QJoR0p2RqvXQhJ2wG/BfbwaTchHgX2M7MtoR0peQvfLfBJ5FO8AHsDx4d2ouTteGuB5aZvHwXy/Kf4cWBvM9sc2pESh88W+BjyLV6A8cDJoZ3IK5L+LLQPXSFpmFxEWJIsUBTLEH0uSPj+jXgk9PPMI5ImStoo6dTQvrSNpD5J/yBpTcIiuknSuBpb46L9PhgZ6pnmEUmDJT0WPbt1yvqIjqTtJJ0rF/WVNK9IOqaB3WOi42mTn1YkA0j6Ts3zWyFpcGi/tkLSAEknS3oyRfFc38KH61O0XeEqX88070g6ssEz/FQS90/kJU6SSToKeBC4GhiTxH0b8MuYx5NgutyMYkkTJO0KXNng8ElJ2IgtYLn+4GLgv4D9YnvUmgdjHk+CkcA7PNjJLdH/4JcBIxqcMlnS6Lh2YglY0gzgIWBaXEc64DcxjyfFKE928soZwKwW53wsrpGuBCxpG0kXAouA3eI60SEvxjyeFKWAGyBpFPDvbZwaW8ADO71A0ghcP/fwuMa7ZDdgdYvjPigFXAe5GdcrgR3bOH0fSX1xcnd01AJLmgosJ5x4AcbFPJ4UpYDr89fAB9o814D3xDHWtoAlnQfcRuNOuS8mxjyeFMM92ckNksYDX+vwsvfGsdmWgCXNBr7b7vkp8/6Yx5NikCc7uUDSQOAqYPsOL401K9dSkJI+Blwex0jCzFCTmThghic/SgG/nQuAblaupNcCSzoW+DHZSgK4E3C26sRCAGdHx31QCjhC0gHAF7u8/N1xbDcchZA0Hbih2TkBmQlsiaZ0F+Na3dOj/b4oBQxI+iPgOrrXyc5x7NdtWeUS4d2Ky7tbUp+HzOyA0E6EJJptu4Z447lrzKxrEW/VhZA0FjctXIq3OWULDGcRfzJiqGIkW3zbhZIG4f4cDI3pVC/Q0wKWtB/w7QRuZcTQW63yv4m/cdS807MClktMcz3JPYP4ApZ0HG4WpaQ9elLAUb/3UpJNTNPXht1xkg6T9LZx5gHRwTHAFQk61Av0pICB2SS/sLXh+5akkZIWAU8AvwAWStq2cnyAXLKRuZT93k4Zoh7LJyxpH+A7Kdy6bgss6UBc0Z4jqnZPBQ6r/DIA+CpwYApOFR3D36RJcKLVFfPpfKq4HbYScBTs/jNg1zrnf7Tyg0Xdh2E122hgCjApJYeLwnvM7InQTqRN1O9cAqRVKOcEM7uhyt4w4C4aR6q9CAw3Mw00s6eAp+qdFfU19sOJeQruC+yZoON5Z5fQDqRNVXxvmlWe+lvgaCh3Hs3DLHcDdgDWN53+M7ONuDy+9+Oi0ZD0LuAQ4NDoc684nuecwgsYuJAEVk60oA/6Rzh+SFUftwmDaSXgepjZM8C10VbpGx3MW4KeCPTKy82w0A6kiaQzgH/yYGqfSLxfpv0RjsGQQKCOmb0E3BhtyJWtOoi3BD2Z4vajC9sCSzocf2G0x+NWencSjJWMgGsxs9dwEWKLof8F4C6giIEvhRSwXOqnefiLRBxG55GEg8HDCgsz24Ab/C5iStLCdSEkDQduJvvzAjuApyVCZrYc+LoPW54pVAssqQ/XFdwzsCvt4KcFruIi3HRgkRgf2oGkkLQTLgZ8cmhf2sSvgKu6EkVi32gUJtfIFXX8OZCnBNTeW2DM7Je4YPkiMTW0A3GQtAdwB7B/aF86ZED/fzyTRBB0lgiZ5CUW0eqbZcRMLhKIYAJejCuWUhRm5DHVqqS9ceLNa4ahMAI2M5FOSF4oxuIK2OSGKEzxdsJnWYpDsBYY4D+BNwLZToOL4ixM9EmU324p+R/DDifgaLbugRC2U2J/4M9DO9EKSbOAhcCQ0L4kQNAWGOBXAW2nwYXVS12yhFzRnTm46eGixKX0QVgB3x3QdhrsDVyZta5ElGz6DuAzoX1JmNEQVsD3BLSdFqcA38vKqISkmbh8znmZXeuEsRBWwM8HtJ0m5wBfDSliSe+UNBe4iZi5xzLMWAicdVLSJoob/H41cEG0AMALUR/8fNwqiiK8qDVjIzA4tIBfo42kFjnmdeAbwDeikZdUiFr7GcC3cH3xXmFM6BeODYHtp80OwBeAJyTNjlarJIak7SWdicudsIjeEi/A2JD9tAHAenorw80m3OjLUly9kbvN7M1ObhC1tuNwCy3PA3ZP2skccW5IAY+guC9y7bIeVxr3YeAVYE3VZ/XPA3ErdadH2x4hnM0gc0IKeArFm8wo8cuCkH3gPQPaLikGQ0IKeJ+AtkuKwfYhBXxIQNslxWBQEAFH+a+6qSlWUlJNsBb4QHpr+KwkHYIJeHoguyXFIpiAPxzIbkmxGOR9HDiKT/29b7slheTVEC1w2foWm00ebQ0MIeDMrx0r6ZpVwDqP9l7yKuCo9sGhPm2WeOXXnu2t9t0CH01xA9hL/K9z9C7gsv9bXIQrBuOTF7wJOCqoeKQveyXeudPMfuvZptcWeBLFXj7U6/wogE2vAp7q0VaJX1bi0oX5xquA26n9VZJPLotqCvpmtZeZuGi59yuUXYgi8howOiq3hqQ1+CsQM8pXC/w+SvEWlR9UxOuZVcBKXwKe6slOiV/WEy7X891m5i0R3VRPdkr88kUz+0Pll2io1FdGoHvAQ260qP+bZqXzkjAsAebU7BuLv5lWPwLGVbMvep6uXuNFYLaZbanZ7yvru4D7wY+A81pEpKQ+a4FjzOzpOsd8rTT/bzP7P/Aj4Hd6sFHihzeBj5jZvQ2O+4o07M8t7UPA7/JgoyR9NgKnmNnSegclVdJf+aA/o1Mp4JJ22AScbGY/aXLOscA7PPiyGZe4G/Aj4EJVdO9BNgAnthAvwN/7cAZYYmYvVn4Z6MHgZg82StLhOeA4M2saqC7pA7hoQx/Mrf7Fh4BDBHmUxOcpYKqZrWx2kqRtgEv8uMSbwILqHT66EKWA88dS2hBvxOfwVyx8oZmtqd7hQ8AdZSAvCcrzwGxgRjvilTQB+OfUvXqLubU7fHQhXvdgo1N+g+vflTHKjjW4aeGL2y1GE4UIXIOrA+KD9cBPa3f6EPCTHmx0yu7ks9DiRiDJcrbPAJcC3zWztR1e+y+4GtG++KmZbZVzwkcXwneugHYYipsS/QpuXj8vLAV+QrzsNy/gRDsNGGVmX+lUvJKm4fq+Prms3s7UV2RIGkM2W+ElZjZD0o7A8biKPxMD+9SKN3DxBmuB04FP0t5E0bPArbh1a8vMrOuhzSg5zUP4LTRzLzDFzFR7wIeAt8EtO8lalXQBh5nZMugvX3UqcDH+oqq64RYz+xD0+zwaNwNWry/6GvA7M1udlHFJ8/GfHuwjZja/3gFfa+KW47e/1C6PAQeY2RuVHZL6cDXYzsJlkc9E4e4aJjcJqEkNSbOB//Bs9nFgrzqhm4C/Yt/3e7LTKROAL1XvMLN1ZnaFmU3BtW4X497Ss8S5Po1JMkl/B/zAp92IrzUSrzckzVR22SKpacYgSUMlXSJpY1hX+9ksabKnf7v3SvpZoO+5Um6ZUkN8tcBLcON4WcSAuZIaBmOb2Voz+wTuJe8q/ObArccA4Li0bi5pmKQTJc3FVRE9Oi1bLfhmq1K83vp3kuYBs3zZ64KngYPN7JlWJ0r6Y+CvgNOA4Wk71oBLzCxWV0LSLsABuCLh44Ax0edo/DVujXgZN8zXNN+wj4mMCjeSbQG/G7hZ0lQz+99mJ5rZk8DnJH0eV+/uU7h4WJ/Pc6shpYYnulmzybj8HJOAg8iGSJvxb63EC35b4F1wg+hZfmgAD+JiAZqKuJbo+30GJ+a0F7HeDJxRHRfbwKe9gBOAs4ERKfuUJH8AJphZyzAEr0NEkm4FZvi02SVdiRhA0s64PMjnkXyM7HPAp83shjb8GEr2Rk/a5Tgzm9fOib4F/EHgFp82Y9C1iCvIzUKeBpxBvNXZq4Dv4f6sthtsk1cBLwGOqDfrVg/fAjbcNOS+Pu3GILaIK0iaBBwFfBT30tTs2T8LPAK8hIt/uLZ6sqVNe3kU8CZgXzN7rN0LQtSJ+zjwY992Y5CYiH0iF6ubxUCqZnzLzD7byQUhXqiuwyVEzgsTgcVyQSx5YmZoBzpkFXBRpxd5F3CUCLk2p1bWmQjcLikXKQIkDcDFcuSJz5vZq51eFCRQRdIQ3MTBziHsx2AlcJSZPRrakWZIOp0wNSu65VfA+7uJeQgyJhu9SX89hO2Y7AHcISmzS5Hk4jouDe1HB7wJnNNtwE7ISYU5uFC5vLEzcKukL0vytR6sLSTNBOaTvdjrZvyjmT3S7cVBY10lHQ7cFtKHmDyNW5b0o1ZBJ2kj6ZO4RiFPlVB/AUyLEy4ZPFhb0rW4API88xzwfeByM3vBp2FJI4Bv45ZF5Ym1uDHfemla2yYLAh6J60rsGNqXBHgDmIcbKlxayWGbBpJ2BS7ABbdnqivTJqeY2TVxbxJcwACSPo1b+VAkNuGKX98GLAMeTqKaTxQ09Angs/grZ5U0c83spCRulBUBDwQeID9TzN3yHLACN028Itp+3ar/HIn2aNw09JEkmxvCN8/gug6vJHGzTAgYQG6JzO3AoNC+eGYTbhaq0crh4bhVx3l6OWvGdDNL7MU9MwIGkHQELnlxr4m4V5hjZn+b5A0zJWDoD7m8kVLEReMK4NykhxsztzrCzBbhEmd0FD5Yklk2A+cDZ6UxVp65FrhCNCW6gLIlzjMvAyc0KgyTBJlrgSuY2S24xYeZDpwpacgK4MA0xQsZFjCAmS3HrSv7VyBsdpaSdnkVN0Y9ycx+l7axzHYhaomG2a7CXzr7ks7YAlwOfMHndHqmW+BqzOweXBKOiykrH2WNn+OSJJ7jOxYkNy1wNZJG4xIs/wXQNHdWSaoswgUSLWx3FXHS5FLAFaJAoL8BzgH6ArvTK6wFrsSltnoitDO5FnCFKFbgfFzG8rwtU8oLK3C5Ka5uNzeFDwoh4AqSBuOCXk6MPvO0MiGLPIabFV0A3Buqm9CMQgm4GrnaF8figuU/SL4juHwhXAjoAuBGM/ufwP60pLACribKVzYLlyvhEMoC5NU8C9yJywB0k5k9H9ifjugJAVcT5UwYjxPyIcCh+K24E5LNwHLgrsrWZjnZzNJzAq6HpFE4MR+Eq5sxgXylI63HGlwf9vHo8z7gvnZy7uaJUsANkLQTbtZvAq7FHh/9PJrs9KfX4oLhn8IJtXp7MYsvXUlTCrhDogybQ3ErJYbjytbWfg7DTbAMqvms/nlbXMjo68CG6PP1Or+/hBNp7bbazDak/X2zzv8DaocFDs5vmOIAAAAASUVORK5CYII='/%3E%3C/defs%3E%3C/svg%3E\")}.wasabee-marker-icon.FarmPortalMarker.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23f17030'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23f17030'/%3E%3Cuse xlink:href='%23a' x='70' y='120' width='176' height='143'/%3E%3Cpath d='M122.538 112.791c-1.934-12.24 28.787-17.533 17.117.729 0 0 23.934-9.799 15.114 10.82-5.029 24.429-43.717.032-43.957-1.575-21.691-16.796 3.509-30.807 11.726-9.974Z' style='fill:%23fff'/%3E%3Cdefs%3E%3Cimage id='a' width='176' height='143' xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAACPCAYAAABam1EmAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAQ1klEQVR4nO2dedwV1XnHvw+iKC8WxQVCYhAKDcSdYMEalQgYo2JKjBo1bqVaozVLmyZ2S6JNPs2KbTaN1hibj4qaD6BJRQRJlGjcUbHRmmgScQGXClYQZfn1jzP39Xq5+8ycMzN3vp/PeN93tue5w8/znjnnOc9j5AxJI4GxwGCgL9oGA08Dd5rZ2oDulXjGQjvQCkkG7AscC3wYeF+T07cADwPLgDuAW8xsXepOlpTUImmgpPMl/V7d86ykUyUNCP19SnoISdMkPRpDuLXcJ+ng0N+rpOBI2lPSvASFW8t1kiarbJFLkiYS1sspireaVZKukDRL0pDQ370k50j6kKR1nsRbywZJCyWdKWmb0M+iJGdIOk3SpkDireUBSQeFfiYlOUHSX4ZWbAN+KGn30M+npDXBxoEl7Q/cA2wXyocWrAHONLMFoR0paUwQAUvaEbgf+JMQ9jtgI3C0mS0O7UhJfbwPJ8nNrH2f7IsXYFtgvqQ/De1ISX1CjId+PNryQh9ws6QJoR0p2RqvXQhJ2wG/BfbwaTchHgX2M7MtoR0peQvfLfBJ5FO8AHsDx4d2ouTteGuB5aZvHwXy/Kf4cWBvM9sc2pESh88W+BjyLV6A8cDJoZ3IK5L+LLQPXSFpmFxEWJIsUBTLEH0uSPj+jXgk9PPMI5ImStoo6dTQvrSNpD5J/yBpTcIiuknSuBpb46L9PhgZ6pnmEUmDJT0WPbt1yvqIjqTtJJ0rF/WVNK9IOqaB3WOi42mTn1YkA0j6Ts3zWyFpcGi/tkLSAEknS3oyRfFc38KH61O0XeEqX88070g6ssEz/FQS90/kJU6SSToKeBC4GhiTxH0b8MuYx5NgutyMYkkTJO0KXNng8ElJ2IgtYLn+4GLgv4D9YnvUmgdjHk+CkcA7PNjJLdH/4JcBIxqcMlnS6Lh2YglY0gzgIWBaXEc64DcxjyfFKE928soZwKwW53wsrpGuBCxpG0kXAouA3eI60SEvxjyeFKWAGyBpFPDvbZwaW8ADO71A0ghcP/fwuMa7ZDdgdYvjPigFXAe5GdcrgR3bOH0fSX1xcnd01AJLmgosJ5x4AcbFPJ4UpYDr89fAB9o814D3xDHWtoAlnQfcRuNOuS8mxjyeFMM92ckNksYDX+vwsvfGsdmWgCXNBr7b7vkp8/6Yx5NikCc7uUDSQOAqYPsOL401K9dSkJI+Blwex0jCzFCTmThghic/SgG/nQuAblaupNcCSzoW+DHZSgK4E3C26sRCAGdHx31QCjhC0gHAF7u8/N1xbDcchZA0Hbih2TkBmQlsiaZ0F+Na3dOj/b4oBQxI+iPgOrrXyc5x7NdtWeUS4d2Ky7tbUp+HzOyA0E6EJJptu4Z447lrzKxrEW/VhZA0FjctXIq3OWULDGcRfzJiqGIkW3zbhZIG4f4cDI3pVC/Q0wKWtB/w7QRuZcTQW63yv4m/cdS807MClktMcz3JPYP4ApZ0HG4WpaQ9elLAUb/3UpJNTNPXht1xkg6T9LZx5gHRwTHAFQk61Av0pICB2SS/sLXh+5akkZIWAU8AvwAWStq2cnyAXLKRuZT93k4Zoh7LJyxpH+A7Kdy6bgss6UBc0Z4jqnZPBQ6r/DIA+CpwYApOFR3D36RJcKLVFfPpfKq4HbYScBTs/jNg1zrnf7Tyg0Xdh2E122hgCjApJYeLwnvM7InQTqRN1O9cAqRVKOcEM7uhyt4w4C4aR6q9CAw3Mw00s6eAp+qdFfU19sOJeQruC+yZoON5Z5fQDqRNVXxvmlWe+lvgaCh3Hs3DLHcDdgDWN53+M7ONuDy+9+Oi0ZD0LuAQ4NDoc684nuecwgsYuJAEVk60oA/6Rzh+SFUftwmDaSXgepjZM8C10VbpGx3MW4KeCPTKy82w0A6kiaQzgH/yYGqfSLxfpv0RjsGQQKCOmb0E3BhtyJWtOoi3BD2Z4vajC9sCSzocf2G0x+NWencSjJWMgGsxs9dwEWKLof8F4C6giIEvhRSwXOqnefiLRBxG55GEg8HDCgsz24Ab/C5iStLCdSEkDQduJvvzAjuApyVCZrYc+LoPW54pVAssqQ/XFdwzsCvt4KcFruIi3HRgkRgf2oGkkLQTLgZ8cmhf2sSvgKu6EkVi32gUJtfIFXX8OZCnBNTeW2DM7Je4YPkiMTW0A3GQtAdwB7B/aF86ZED/fzyTRBB0lgiZ5CUW0eqbZcRMLhKIYAJejCuWUhRm5DHVqqS9ceLNa4ahMAI2M5FOSF4oxuIK2OSGKEzxdsJnWYpDsBYY4D+BNwLZToOL4ixM9EmU324p+R/DDifgaLbugRC2U2J/4M9DO9EKSbOAhcCQ0L4kQNAWGOBXAW2nwYXVS12yhFzRnTm46eGixKX0QVgB3x3QdhrsDVyZta5ElGz6DuAzoX1JmNEQVsD3BLSdFqcA38vKqISkmbh8znmZXeuEsRBWwM8HtJ0m5wBfDSliSe+UNBe4iZi5xzLMWAicdVLSJoob/H41cEG0AMALUR/8fNwqiiK8qDVjIzA4tIBfo42kFjnmdeAbwDeikZdUiFr7GcC3cH3xXmFM6BeODYHtp80OwBeAJyTNjlarJIak7SWdicudsIjeEi/A2JD9tAHAenorw80m3OjLUly9kbvN7M1ObhC1tuNwCy3PA3ZP2skccW5IAY+guC9y7bIeVxr3YeAVYE3VZ/XPA3ErdadH2x4hnM0gc0IKeArFm8wo8cuCkH3gPQPaLikGQ0IKeJ+AtkuKwfYhBXxIQNslxWBQEAFH+a+6qSlWUlJNsBb4QHpr+KwkHYIJeHoguyXFIpiAPxzIbkmxGOR9HDiKT/29b7slheTVEC1w2foWm00ebQ0MIeDMrx0r6ZpVwDqP9l7yKuCo9sGhPm2WeOXXnu2t9t0CH01xA9hL/K9z9C7gsv9bXIQrBuOTF7wJOCqoeKQveyXeudPMfuvZptcWeBLFXj7U6/wogE2vAp7q0VaJX1bi0oX5xquA26n9VZJPLotqCvpmtZeZuGi59yuUXYgi8howOiq3hqQ1+CsQM8pXC/w+SvEWlR9UxOuZVcBKXwKe6slOiV/WEy7X891m5i0R3VRPdkr88kUz+0Pll2io1FdGoHvAQ260qP+bZqXzkjAsAebU7BuLv5lWPwLGVbMvep6uXuNFYLaZbanZ7yvru4D7wY+A81pEpKQ+a4FjzOzpOsd8rTT/bzP7P/Aj4Hd6sFHihzeBj5jZvQ2O+4o07M8t7UPA7/JgoyR9NgKnmNnSegclVdJf+aA/o1Mp4JJ22AScbGY/aXLOscA7PPiyGZe4G/Aj4EJVdO9BNgAnthAvwN/7cAZYYmYvVn4Z6MHgZg82StLhOeA4M2saqC7pA7hoQx/Mrf7Fh4BDBHmUxOcpYKqZrWx2kqRtgEv8uMSbwILqHT66EKWA88dS2hBvxOfwVyx8oZmtqd7hQ8AdZSAvCcrzwGxgRjvilTQB+OfUvXqLubU7fHQhXvdgo1N+g+vflTHKjjW4aeGL2y1GE4UIXIOrA+KD9cBPa3f6EPCTHmx0yu7ks9DiRiDJcrbPAJcC3zWztR1e+y+4GtG++KmZbZVzwkcXwneugHYYipsS/QpuXj8vLAV+QrzsNy/gRDsNGGVmX+lUvJKm4fq+Prms3s7UV2RIGkM2W+ElZjZD0o7A8biKPxMD+9SKN3DxBmuB04FP0t5E0bPArbh1a8vMrOuhzSg5zUP4LTRzLzDFzFR7wIeAt8EtO8lalXQBh5nZMugvX3UqcDH+oqq64RYz+xD0+zwaNwNWry/6GvA7M1udlHFJ8/GfHuwjZja/3gFfa+KW47e/1C6PAQeY2RuVHZL6cDXYzsJlkc9E4e4aJjcJqEkNSbOB//Bs9nFgrzqhm4C/Yt/3e7LTKROAL1XvMLN1ZnaFmU3BtW4X497Ss8S5Po1JMkl/B/zAp92IrzUSrzckzVR22SKpacYgSUMlXSJpY1hX+9ksabKnf7v3SvpZoO+5Um6ZUkN8tcBLcON4WcSAuZIaBmOb2Voz+wTuJe8q/ObArccA4Li0bi5pmKQTJc3FVRE9Oi1bLfhmq1K83vp3kuYBs3zZ64KngYPN7JlWJ0r6Y+CvgNOA4Wk71oBLzCxWV0LSLsABuCLh44Ax0edo/DVujXgZN8zXNN+wj4mMCjeSbQG/G7hZ0lQz+99mJ5rZk8DnJH0eV+/uU7h4WJ/Pc6shpYYnulmzybj8HJOAg8iGSJvxb63EC35b4F1wg+hZfmgAD+JiAZqKuJbo+30GJ+a0F7HeDJxRHRfbwKe9gBOAs4ERKfuUJH8AJphZyzAEr0NEkm4FZvi02SVdiRhA0s64PMjnkXyM7HPAp83shjb8GEr2Rk/a5Tgzm9fOib4F/EHgFp82Y9C1iCvIzUKeBpxBvNXZq4Dv4f6sthtsk1cBLwGOqDfrVg/fAjbcNOS+Pu3GILaIK0iaBBwFfBT30tTs2T8LPAK8hIt/uLZ6sqVNe3kU8CZgXzN7rN0LQtSJ+zjwY992Y5CYiH0iF6ubxUCqZnzLzD7byQUhXqiuwyVEzgsTgcVyQSx5YmZoBzpkFXBRpxd5F3CUCLk2p1bWmQjcLikXKQIkDcDFcuSJz5vZq51eFCRQRdIQ3MTBziHsx2AlcJSZPRrakWZIOp0wNSu65VfA+7uJeQgyJhu9SX89hO2Y7AHcISmzS5Hk4jouDe1HB7wJnNNtwE7ISYU5uFC5vLEzcKukL0vytR6sLSTNBOaTvdjrZvyjmT3S7cVBY10lHQ7cFtKHmDyNW5b0o1ZBJ2kj6ZO4RiFPlVB/AUyLEy4ZPFhb0rW4API88xzwfeByM3vBp2FJI4Bv45ZF5Ym1uDHfemla2yYLAh6J60rsGNqXBHgDmIcbKlxayWGbBpJ2BS7ABbdnqivTJqeY2TVxbxJcwACSPo1b+VAkNuGKX98GLAMeTqKaTxQ09Angs/grZ5U0c83spCRulBUBDwQeID9TzN3yHLACN028Itp+3ar/HIn2aNw09JEkmxvCN8/gug6vJHGzTAgYQG6JzO3AoNC+eGYTbhaq0crh4bhVx3l6OWvGdDNL7MU9MwIGkHQELnlxr4m4V5hjZn+b5A0zJWDoD7m8kVLEReMK4NykhxsztzrCzBbhEmd0FD5Yklk2A+cDZ6UxVp65FrhCNCW6gLIlzjMvAyc0KgyTBJlrgSuY2S24xYeZDpwpacgK4MA0xQsZFjCAmS3HrSv7VyBsdpaSdnkVN0Y9ycx+l7axzHYhaomG2a7CXzr7ks7YAlwOfMHndHqmW+BqzOweXBKOiykrH2WNn+OSJJ7jOxYkNy1wNZJG4xIs/wXQNHdWSaoswgUSLWx3FXHS5FLAFaJAoL8BzgH6ArvTK6wFrsSltnoitDO5FnCFKFbgfFzG8rwtU8oLK3C5Ka5uNzeFDwoh4AqSBuOCXk6MPvO0MiGLPIabFV0A3Buqm9CMQgm4GrnaF8figuU/SL4juHwhXAjoAuBGM/ufwP60pLACribKVzYLlyvhEMoC5NU8C9yJywB0k5k9H9ifjugJAVcT5UwYjxPyIcCh+K24E5LNwHLgrsrWZjnZzNJzAq6HpFE4MR+Eq5sxgXylI63HGlwf9vHo8z7gvnZy7uaJUsANkLQTbtZvAq7FHh/9PJrs9KfX4oLhn8IJtXp7MYsvXUlTCrhDogybQ3ErJYbjytbWfg7DTbAMqvms/nlbXMjo68CG6PP1Or+/hBNp7bbazDak/X2zzv8DaocFDs5vmOIAAAAASUVORK5CYII='/%3E%3C/defs%3E%3C/svg%3E\")}.wasabee-marker-icon.FarmPortalMarker.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23f17030'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23f17030'/%3E%3Cuse xlink:href='%23a' x='70' y='120' width='176' height='143'/%3E%3Cpath d='M122.538 112.791c-1.934-12.24 28.787-17.533 17.117.729 0 0 23.934-9.799 15.114 10.82-5.029 24.429-43.717.032-43.957-1.575-21.691-16.796 3.509-30.807 11.726-9.974Z' style='fill:%23fff'/%3E%3Cdefs%3E%3Cimage id='a' width='176' height='143' xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAACPCAYAAABam1EmAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAQ1klEQVR4nO2dedwV1XnHvw+iKC8WxQVCYhAKDcSdYMEalQgYo2JKjBo1bqVaozVLmyZ2S6JNPs2KbTaN1hibj4qaD6BJRQRJlGjcUbHRmmgScQGXClYQZfn1jzP39Xq5+8ycMzN3vp/PeN93tue5w8/znjnnOc9j5AxJI4GxwGCgL9oGA08Dd5rZ2oDulXjGQjvQCkkG7AscC3wYeF+T07cADwPLgDuAW8xsXepOlpTUImmgpPMl/V7d86ykUyUNCP19SnoISdMkPRpDuLXcJ+ng0N+rpOBI2lPSvASFW8t1kiarbJFLkiYS1sspireaVZKukDRL0pDQ370k50j6kKR1nsRbywZJCyWdKWmb0M+iJGdIOk3SpkDireUBSQeFfiYlOUHSX4ZWbAN+KGn30M+npDXBxoEl7Q/cA2wXyocWrAHONLMFoR0paUwQAUvaEbgf+JMQ9jtgI3C0mS0O7UhJfbwPJ8nNrH2f7IsXYFtgvqQ/De1ISX1CjId+PNryQh9ws6QJoR0p2RqvXQhJ2wG/BfbwaTchHgX2M7MtoR0peQvfLfBJ5FO8AHsDx4d2ouTteGuB5aZvHwXy/Kf4cWBvM9sc2pESh88W+BjyLV6A8cDJoZ3IK5L+LLQPXSFpmFxEWJIsUBTLEH0uSPj+jXgk9PPMI5ImStoo6dTQvrSNpD5J/yBpTcIiuknSuBpb46L9PhgZ6pnmEUmDJT0WPbt1yvqIjqTtJJ0rF/WVNK9IOqaB3WOi42mTn1YkA0j6Ts3zWyFpcGi/tkLSAEknS3oyRfFc38KH61O0XeEqX88070g6ssEz/FQS90/kJU6SSToKeBC4GhiTxH0b8MuYx5NgutyMYkkTJO0KXNng8ElJ2IgtYLn+4GLgv4D9YnvUmgdjHk+CkcA7PNjJLdH/4JcBIxqcMlnS6Lh2YglY0gzgIWBaXEc64DcxjyfFKE928soZwKwW53wsrpGuBCxpG0kXAouA3eI60SEvxjyeFKWAGyBpFPDvbZwaW8ADO71A0ghcP/fwuMa7ZDdgdYvjPigFXAe5GdcrgR3bOH0fSX1xcnd01AJLmgosJ5x4AcbFPJ4UpYDr89fAB9o814D3xDHWtoAlnQfcRuNOuS8mxjyeFMM92ckNksYDX+vwsvfGsdmWgCXNBr7b7vkp8/6Yx5NikCc7uUDSQOAqYPsOL401K9dSkJI+Blwex0jCzFCTmThghic/SgG/nQuAblaupNcCSzoW+DHZSgK4E3C26sRCAGdHx31QCjhC0gHAF7u8/N1xbDcchZA0Hbih2TkBmQlsiaZ0F+Na3dOj/b4oBQxI+iPgOrrXyc5x7NdtWeUS4d2Ky7tbUp+HzOyA0E6EJJptu4Z447lrzKxrEW/VhZA0FjctXIq3OWULDGcRfzJiqGIkW3zbhZIG4f4cDI3pVC/Q0wKWtB/w7QRuZcTQW63yv4m/cdS807MClktMcz3JPYP4ApZ0HG4WpaQ9elLAUb/3UpJNTNPXht1xkg6T9LZx5gHRwTHAFQk61Av0pICB2SS/sLXh+5akkZIWAU8AvwAWStq2cnyAXLKRuZT93k4Zoh7LJyxpH+A7Kdy6bgss6UBc0Z4jqnZPBQ6r/DIA+CpwYApOFR3D36RJcKLVFfPpfKq4HbYScBTs/jNg1zrnf7Tyg0Xdh2E122hgCjApJYeLwnvM7InQTqRN1O9cAqRVKOcEM7uhyt4w4C4aR6q9CAw3Mw00s6eAp+qdFfU19sOJeQruC+yZoON5Z5fQDqRNVXxvmlWe+lvgaCh3Hs3DLHcDdgDWN53+M7ONuDy+9+Oi0ZD0LuAQ4NDoc684nuecwgsYuJAEVk60oA/6Rzh+SFUftwmDaSXgepjZM8C10VbpGx3MW4KeCPTKy82w0A6kiaQzgH/yYGqfSLxfpv0RjsGQQKCOmb0E3BhtyJWtOoi3BD2Z4vajC9sCSzocf2G0x+NWencSjJWMgGsxs9dwEWKLof8F4C6giIEvhRSwXOqnefiLRBxG55GEg8HDCgsz24Ab/C5iStLCdSEkDQduJvvzAjuApyVCZrYc+LoPW54pVAssqQ/XFdwzsCvt4KcFruIi3HRgkRgf2oGkkLQTLgZ8cmhf2sSvgKu6EkVi32gUJtfIFXX8OZCnBNTeW2DM7Je4YPkiMTW0A3GQtAdwB7B/aF86ZED/fzyTRBB0lgiZ5CUW0eqbZcRMLhKIYAJejCuWUhRm5DHVqqS9ceLNa4ahMAI2M5FOSF4oxuIK2OSGKEzxdsJnWYpDsBYY4D+BNwLZToOL4ixM9EmU324p+R/DDifgaLbugRC2U2J/4M9DO9EKSbOAhcCQ0L4kQNAWGOBXAW2nwYXVS12yhFzRnTm46eGixKX0QVgB3x3QdhrsDVyZta5ElGz6DuAzoX1JmNEQVsD3BLSdFqcA38vKqISkmbh8znmZXeuEsRBWwM8HtJ0m5wBfDSliSe+UNBe4iZi5xzLMWAicdVLSJoob/H41cEG0AMALUR/8fNwqiiK8qDVjIzA4tIBfo42kFjnmdeAbwDeikZdUiFr7GcC3cH3xXmFM6BeODYHtp80OwBeAJyTNjlarJIak7SWdicudsIjeEi/A2JD9tAHAenorw80m3OjLUly9kbvN7M1ObhC1tuNwCy3PA3ZP2skccW5IAY+guC9y7bIeVxr3YeAVYE3VZ/XPA3ErdadH2x4hnM0gc0IKeArFm8wo8cuCkH3gPQPaLikGQ0IKeJ+AtkuKwfYhBXxIQNslxWBQEAFH+a+6qSlWUlJNsBb4QHpr+KwkHYIJeHoguyXFIpiAPxzIbkmxGOR9HDiKT/29b7slheTVEC1w2foWm00ebQ0MIeDMrx0r6ZpVwDqP9l7yKuCo9sGhPm2WeOXXnu2t9t0CH01xA9hL/K9z9C7gsv9bXIQrBuOTF7wJOCqoeKQveyXeudPMfuvZptcWeBLFXj7U6/wogE2vAp7q0VaJX1bi0oX5xquA26n9VZJPLotqCvpmtZeZuGi59yuUXYgi8howOiq3hqQ1+CsQM8pXC/w+SvEWlR9UxOuZVcBKXwKe6slOiV/WEy7X891m5i0R3VRPdkr88kUz+0Pll2io1FdGoHvAQ260qP+bZqXzkjAsAebU7BuLv5lWPwLGVbMvep6uXuNFYLaZbanZ7yvru4D7wY+A81pEpKQ+a4FjzOzpOsd8rTT/bzP7P/Aj4Hd6sFHihzeBj5jZvQ2O+4o07M8t7UPA7/JgoyR9NgKnmNnSegclVdJf+aA/o1Mp4JJ22AScbGY/aXLOscA7PPiyGZe4G/Aj4EJVdO9BNgAnthAvwN/7cAZYYmYvVn4Z6MHgZg82StLhOeA4M2saqC7pA7hoQx/Mrf7Fh4BDBHmUxOcpYKqZrWx2kqRtgEv8uMSbwILqHT66EKWA88dS2hBvxOfwVyx8oZmtqd7hQ8AdZSAvCcrzwGxgRjvilTQB+OfUvXqLubU7fHQhXvdgo1N+g+vflTHKjjW4aeGL2y1GE4UIXIOrA+KD9cBPa3f6EPCTHmx0yu7ks9DiRiDJcrbPAJcC3zWztR1e+y+4GtG++KmZbZVzwkcXwneugHYYipsS/QpuXj8vLAV+QrzsNy/gRDsNGGVmX+lUvJKm4fq+Prms3s7UV2RIGkM2W+ElZjZD0o7A8biKPxMD+9SKN3DxBmuB04FP0t5E0bPArbh1a8vMrOuhzSg5zUP4LTRzLzDFzFR7wIeAt8EtO8lalXQBh5nZMugvX3UqcDH+oqq64RYz+xD0+zwaNwNWry/6GvA7M1udlHFJ8/GfHuwjZja/3gFfa+KW47e/1C6PAQeY2RuVHZL6cDXYzsJlkc9E4e4aJjcJqEkNSbOB//Bs9nFgrzqhm4C/Yt/3e7LTKROAL1XvMLN1ZnaFmU3BtW4X497Ss8S5Po1JMkl/B/zAp92IrzUSrzckzVR22SKpacYgSUMlXSJpY1hX+9ksabKnf7v3SvpZoO+5Um6ZUkN8tcBLcON4WcSAuZIaBmOb2Voz+wTuJe8q/ObArccA4Li0bi5pmKQTJc3FVRE9Oi1bLfhmq1K83vp3kuYBs3zZ64KngYPN7JlWJ0r6Y+CvgNOA4Wk71oBLzCxWV0LSLsABuCLh44Ax0edo/DVujXgZN8zXNN+wj4mMCjeSbQG/G7hZ0lQz+99mJ5rZk8DnJH0eV+/uU7h4WJ/Pc6shpYYnulmzybj8HJOAg8iGSJvxb63EC35b4F1wg+hZfmgAD+JiAZqKuJbo+30GJ+a0F7HeDJxRHRfbwKe9gBOAs4ERKfuUJH8AJphZyzAEr0NEkm4FZvi02SVdiRhA0s64PMjnkXyM7HPAp83shjb8GEr2Rk/a5Tgzm9fOib4F/EHgFp82Y9C1iCvIzUKeBpxBvNXZq4Dv4f6sthtsk1cBLwGOqDfrVg/fAjbcNOS+Pu3GILaIK0iaBBwFfBT30tTs2T8LPAK8hIt/uLZ6sqVNe3kU8CZgXzN7rN0LQtSJ+zjwY992Y5CYiH0iF6ubxUCqZnzLzD7byQUhXqiuwyVEzgsTgcVyQSx5YmZoBzpkFXBRpxd5F3CUCLk2p1bWmQjcLikXKQIkDcDFcuSJz5vZq51eFCRQRdIQ3MTBziHsx2AlcJSZPRrakWZIOp0wNSu65VfA+7uJeQgyJhu9SX89hO2Y7AHcISmzS5Hk4jouDe1HB7wJnNNtwE7ISYU5uFC5vLEzcKukL0vytR6sLSTNBOaTvdjrZvyjmT3S7cVBY10lHQ7cFtKHmDyNW5b0o1ZBJ2kj6ZO4RiFPlVB/AUyLEy4ZPFhb0rW4API88xzwfeByM3vBp2FJI4Bv45ZF5Ym1uDHfemla2yYLAh6J60rsGNqXBHgDmIcbKlxayWGbBpJ2BS7ABbdnqivTJqeY2TVxbxJcwACSPo1b+VAkNuGKX98GLAMeTqKaTxQ09Angs/grZ5U0c83spCRulBUBDwQeID9TzN3yHLACN028Itp+3ar/HIn2aNw09JEkmxvCN8/gug6vJHGzTAgYQG6JzO3AoNC+eGYTbhaq0crh4bhVx3l6OWvGdDNL7MU9MwIGkHQELnlxr4m4V5hjZn+b5A0zJWDoD7m8kVLEReMK4NykhxsztzrCzBbhEmd0FD5Yklk2A+cDZ6UxVp65FrhCNCW6gLIlzjMvAyc0KgyTBJlrgSuY2S24xYeZDpwpacgK4MA0xQsZFjCAmS3HrSv7VyBsdpaSdnkVN0Y9ycx+l7axzHYhaomG2a7CXzr7ks7YAlwOfMHndHqmW+BqzOweXBKOiykrH2WNn+OSJJ7jOxYkNy1wNZJG4xIs/wXQNHdWSaoswgUSLWx3FXHS5FLAFaJAoL8BzgH6ArvTK6wFrsSltnoitDO5FnCFKFbgfFzG8rwtU8oLK3C5Ka5uNzeFDwoh4AqSBuOCXk6MPvO0MiGLPIabFV0A3Buqm9CMQgm4GrnaF8figuU/SL4juHwhXAjoAuBGM/ufwP60pLACribKVzYLlyvhEMoC5NU8C9yJywB0k5k9H9ifjugJAVcT5UwYjxPyIcCh+K24E5LNwHLgrsrWZjnZzNJzAq6HpFE4MR+Eq5sxgXylI63HGlwf9vHo8z7gvnZy7uaJUsANkLQTbtZvAq7FHh/9PJrs9KfX4oLhn8IJtXp7MYsvXUlTCrhDogybQ3ErJYbjytbWfg7DTbAMqvms/nlbXMjo68CG6PP1Or+/hBNp7bbazDak/X2zzv8DaocFDs5vmOIAAAAASUVORK5CYII='/%3E%3C/defs%3E%3C/svg%3E\")}.wasabee-marker-icon.FarmPortalMarker.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23f17030'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23f17030'/%3E%3Cuse xlink:href='%23a' x='70' y='120' width='176' height='143'/%3E%3Cpath d='M122.538 112.791c-1.934-12.24 28.787-17.533 17.117.729 0 0 23.934-9.799 15.114 10.82-5.029 24.429-43.717.032-43.957-1.575-21.691-16.796 3.509-30.807 11.726-9.974Z' style='fill:%23fff'/%3E%3Cdefs%3E%3Cimage id='a' width='176' height='143' xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAACPCAYAAABam1EmAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAQ1klEQVR4nO2dedwV1XnHvw+iKC8WxQVCYhAKDcSdYMEalQgYo2JKjBo1bqVaozVLmyZ2S6JNPs2KbTaN1hibj4qaD6BJRQRJlGjcUbHRmmgScQGXClYQZfn1jzP39Xq5+8ycMzN3vp/PeN93tue5w8/znjnnOc9j5AxJI4GxwGCgL9oGA08Dd5rZ2oDulXjGQjvQCkkG7AscC3wYeF+T07cADwPLgDuAW8xsXepOlpTUImmgpPMl/V7d86ykUyUNCP19SnoISdMkPRpDuLXcJ+ng0N+rpOBI2lPSvASFW8t1kiarbJFLkiYS1sspireaVZKukDRL0pDQ370k50j6kKR1nsRbywZJCyWdKWmb0M+iJGdIOk3SpkDireUBSQeFfiYlOUHSX4ZWbAN+KGn30M+npDXBxoEl7Q/cA2wXyocWrAHONLMFoR0paUwQAUvaEbgf+JMQ9jtgI3C0mS0O7UhJfbwPJ8nNrH2f7IsXYFtgvqQ/De1ISX1CjId+PNryQh9ws6QJoR0p2RqvXQhJ2wG/BfbwaTchHgX2M7MtoR0peQvfLfBJ5FO8AHsDx4d2ouTteGuB5aZvHwXy/Kf4cWBvM9sc2pESh88W+BjyLV6A8cDJoZ3IK5L+LLQPXSFpmFxEWJIsUBTLEH0uSPj+jXgk9PPMI5ImStoo6dTQvrSNpD5J/yBpTcIiuknSuBpb46L9PhgZ6pnmEUmDJT0WPbt1yvqIjqTtJJ0rF/WVNK9IOqaB3WOi42mTn1YkA0j6Ts3zWyFpcGi/tkLSAEknS3oyRfFc38KH61O0XeEqX88070g6ssEz/FQS90/kJU6SSToKeBC4GhiTxH0b8MuYx5NgutyMYkkTJO0KXNng8ElJ2IgtYLn+4GLgv4D9YnvUmgdjHk+CkcA7PNjJLdH/4JcBIxqcMlnS6Lh2YglY0gzgIWBaXEc64DcxjyfFKE928soZwKwW53wsrpGuBCxpG0kXAouA3eI60SEvxjyeFKWAGyBpFPDvbZwaW8ADO71A0ghcP/fwuMa7ZDdgdYvjPigFXAe5GdcrgR3bOH0fSX1xcnd01AJLmgosJ5x4AcbFPJ4UpYDr89fAB9o814D3xDHWtoAlnQfcRuNOuS8mxjyeFMM92ckNksYDX+vwsvfGsdmWgCXNBr7b7vkp8/6Yx5NikCc7uUDSQOAqYPsOL401K9dSkJI+Blwex0jCzFCTmThghic/SgG/nQuAblaupNcCSzoW+DHZSgK4E3C26sRCAGdHx31QCjhC0gHAF7u8/N1xbDcchZA0Hbih2TkBmQlsiaZ0F+Na3dOj/b4oBQxI+iPgOrrXyc5x7NdtWeUS4d2Ky7tbUp+HzOyA0E6EJJptu4Z447lrzKxrEW/VhZA0FjctXIq3OWULDGcRfzJiqGIkW3zbhZIG4f4cDI3pVC/Q0wKWtB/w7QRuZcTQW63yv4m/cdS807MClktMcz3JPYP4ApZ0HG4WpaQ9elLAUb/3UpJNTNPXht1xkg6T9LZx5gHRwTHAFQk61Av0pICB2SS/sLXh+5akkZIWAU8AvwAWStq2cnyAXLKRuZT93k4Zoh7LJyxpH+A7Kdy6bgss6UBc0Z4jqnZPBQ6r/DIA+CpwYApOFR3D36RJcKLVFfPpfKq4HbYScBTs/jNg1zrnf7Tyg0Xdh2E122hgCjApJYeLwnvM7InQTqRN1O9cAqRVKOcEM7uhyt4w4C4aR6q9CAw3Mw00s6eAp+qdFfU19sOJeQruC+yZoON5Z5fQDqRNVXxvmlWe+lvgaCh3Hs3DLHcDdgDWN53+M7ONuDy+9+Oi0ZD0LuAQ4NDoc684nuecwgsYuJAEVk60oA/6Rzh+SFUftwmDaSXgepjZM8C10VbpGx3MW4KeCPTKy82w0A6kiaQzgH/yYGqfSLxfpv0RjsGQQKCOmb0E3BhtyJWtOoi3BD2Z4vajC9sCSzocf2G0x+NWencSjJWMgGsxs9dwEWKLof8F4C6giIEvhRSwXOqnefiLRBxG55GEg8HDCgsz24Ab/C5iStLCdSEkDQduJvvzAjuApyVCZrYc+LoPW54pVAssqQ/XFdwzsCvt4KcFruIi3HRgkRgf2oGkkLQTLgZ8cmhf2sSvgKu6EkVi32gUJtfIFXX8OZCnBNTeW2DM7Je4YPkiMTW0A3GQtAdwB7B/aF86ZED/fzyTRBB0lgiZ5CUW0eqbZcRMLhKIYAJejCuWUhRm5DHVqqS9ceLNa4ahMAI2M5FOSF4oxuIK2OSGKEzxdsJnWYpDsBYY4D+BNwLZToOL4ixM9EmU324p+R/DDifgaLbugRC2U2J/4M9DO9EKSbOAhcCQ0L4kQNAWGOBXAW2nwYXVS12yhFzRnTm46eGixKX0QVgB3x3QdhrsDVyZta5ElGz6DuAzoX1JmNEQVsD3BLSdFqcA38vKqISkmbh8znmZXeuEsRBWwM8HtJ0m5wBfDSliSe+UNBe4iZi5xzLMWAicdVLSJoob/H41cEG0AMALUR/8fNwqiiK8qDVjIzA4tIBfo42kFjnmdeAbwDeikZdUiFr7GcC3cH3xXmFM6BeODYHtp80OwBeAJyTNjlarJIak7SWdicudsIjeEi/A2JD9tAHAenorw80m3OjLUly9kbvN7M1ObhC1tuNwCy3PA3ZP2skccW5IAY+guC9y7bIeVxr3YeAVYE3VZ/XPA3ErdadH2x4hnM0gc0IKeArFm8wo8cuCkH3gPQPaLikGQ0IKeJ+AtkuKwfYhBXxIQNslxWBQEAFH+a+6qSlWUlJNsBb4QHpr+KwkHYIJeHoguyXFIpiAPxzIbkmxGOR9HDiKT/29b7slheTVEC1w2foWm00ebQ0MIeDMrx0r6ZpVwDqP9l7yKuCo9sGhPm2WeOXXnu2t9t0CH01xA9hL/K9z9C7gsv9bXIQrBuOTF7wJOCqoeKQveyXeudPMfuvZptcWeBLFXj7U6/wogE2vAp7q0VaJX1bi0oX5xquA26n9VZJPLotqCvpmtZeZuGi59yuUXYgi8howOiq3hqQ1+CsQM8pXC/w+SvEWlR9UxOuZVcBKXwKe6slOiV/WEy7X891m5i0R3VRPdkr88kUz+0Pll2io1FdGoHvAQ260qP+bZqXzkjAsAebU7BuLv5lWPwLGVbMvep6uXuNFYLaZbanZ7yvru4D7wY+A81pEpKQ+a4FjzOzpOsd8rTT/bzP7P/Aj4Hd6sFHihzeBj5jZvQ2O+4o07M8t7UPA7/JgoyR9NgKnmNnSegclVdJf+aA/o1Mp4JJ22AScbGY/aXLOscA7PPiyGZe4G/Aj4EJVdO9BNgAnthAvwN/7cAZYYmYvVn4Z6MHgZg82StLhOeA4M2saqC7pA7hoQx/Mrf7Fh4BDBHmUxOcpYKqZrWx2kqRtgEv8uMSbwILqHT66EKWA88dS2hBvxOfwVyx8oZmtqd7hQ8AdZSAvCcrzwGxgRjvilTQB+OfUvXqLubU7fHQhXvdgo1N+g+vflTHKjjW4aeGL2y1GE4UIXIOrA+KD9cBPa3f6EPCTHmx0yu7ks9DiRiDJcrbPAJcC3zWztR1e+y+4GtG++KmZbZVzwkcXwneugHYYipsS/QpuXj8vLAV+QrzsNy/gRDsNGGVmX+lUvJKm4fq+Prms3s7UV2RIGkM2W+ElZjZD0o7A8biKPxMD+9SKN3DxBmuB04FP0t5E0bPArbh1a8vMrOuhzSg5zUP4LTRzLzDFzFR7wIeAt8EtO8lalXQBh5nZMugvX3UqcDH+oqq64RYz+xD0+zwaNwNWry/6GvA7M1udlHFJ8/GfHuwjZja/3gFfa+KW47e/1C6PAQeY2RuVHZL6cDXYzsJlkc9E4e4aJjcJqEkNSbOB//Bs9nFgrzqhm4C/Yt/3e7LTKROAL1XvMLN1ZnaFmU3BtW4X497Ss8S5Po1JMkl/B/zAp92IrzUSrzckzVR22SKpacYgSUMlXSJpY1hX+9ksabKnf7v3SvpZoO+5Um6ZUkN8tcBLcON4WcSAuZIaBmOb2Voz+wTuJe8q/ObArccA4Li0bi5pmKQTJc3FVRE9Oi1bLfhmq1K83vp3kuYBs3zZ64KngYPN7JlWJ0r6Y+CvgNOA4Wk71oBLzCxWV0LSLsABuCLh44Ax0edo/DVujXgZN8zXNN+wj4mMCjeSbQG/G7hZ0lQz+99mJ5rZk8DnJH0eV+/uU7h4WJ/Pc6shpYYnulmzybj8HJOAg8iGSJvxb63EC35b4F1wg+hZfmgAD+JiAZqKuJbo+30GJ+a0F7HeDJxRHRfbwKe9gBOAs4ERKfuUJH8AJphZyzAEr0NEkm4FZvi02SVdiRhA0s64PMjnkXyM7HPAp83shjb8GEr2Rk/a5Tgzm9fOib4F/EHgFp82Y9C1iCvIzUKeBpxBvNXZq4Dv4f6sthtsk1cBLwGOqDfrVg/fAjbcNOS+Pu3GILaIK0iaBBwFfBT30tTs2T8LPAK8hIt/uLZ6sqVNe3kU8CZgXzN7rN0LQtSJ+zjwY992Y5CYiH0iF6ubxUCqZnzLzD7byQUhXqiuwyVEzgsTgcVyQSx5YmZoBzpkFXBRpxd5F3CUCLk2p1bWmQjcLikXKQIkDcDFcuSJz5vZq51eFCRQRdIQ3MTBziHsx2AlcJSZPRrakWZIOp0wNSu65VfA+7uJeQgyJhu9SX89hO2Y7AHcISmzS5Hk4jouDe1HB7wJnNNtwE7ISYU5uFC5vLEzcKukL0vytR6sLSTNBOaTvdjrZvyjmT3S7cVBY10lHQ7cFtKHmDyNW5b0o1ZBJ2kj6ZO4RiFPlVB/AUyLEy4ZPFhb0rW4API88xzwfeByM3vBp2FJI4Bv45ZF5Ym1uDHfemla2yYLAh6J60rsGNqXBHgDmIcbKlxayWGbBpJ2BS7ABbdnqivTJqeY2TVxbxJcwACSPo1b+VAkNuGKX98GLAMeTqKaTxQ09Angs/grZ5U0c83spCRulBUBDwQeID9TzN3yHLACN028Itp+3ar/HIn2aNw09JEkmxvCN8/gug6vJHGzTAgYQG6JzO3AoNC+eGYTbhaq0crh4bhVx3l6OWvGdDNL7MU9MwIGkHQELnlxr4m4V5hjZn+b5A0zJWDoD7m8kVLEReMK4NykhxsztzrCzBbhEmd0FD5Yklk2A+cDZ6UxVp65FrhCNCW6gLIlzjMvAyc0KgyTBJlrgSuY2S24xYeZDpwpacgK4MA0xQsZFjCAmS3HrSv7VyBsdpaSdnkVN0Y9ycx+l7axzHYhaomG2a7CXzr7ks7YAlwOfMHndHqmW+BqzOweXBKOiykrH2WNn+OSJJ7jOxYkNy1wNZJG4xIs/wXQNHdWSaoswgUSLWx3FXHS5FLAFaJAoL8BzgH6ArvTK6wFrsSltnoitDO5FnCFKFbgfFzG8rwtU8oLK3C5Ka5uNzeFDwoh4AqSBuOCXk6MPvO0MiGLPIabFV0A3Buqm9CMQgm4GrnaF8figuU/SL4juHwhXAjoAuBGM/ufwP60pLACribKVzYLlyvhEMoC5NU8C9yJywB0k5k9H9ifjugJAVcT5UwYjxPyIcCh+K24E5LNwHLgrsrWZjnZzNJzAq6HpFE4MR+Eq5sxgXylI63HGlwf9vHo8z7gvnZy7uaJUsANkLQTbtZvAq7FHh/9PJrs9KfX4oLhn8IJtXp7MYsvXUlTCrhDogybQ3ErJYbjytbWfg7DTbAMqvms/nlbXMjo68CG6PP1Or+/hBNp7bbazDak/X2zzv8DaocFDs5vmOIAAAAASUVORK5CYII='/%3E%3C/defs%3E%3C/svg%3E\")}.wasabee-marker-icon.GotoPortalMarker{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23e235a9'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23e235a9'/%3E%3Cpath d='M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0ZM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80Z' style='fill:%23fff;fill-rule:nonzero' transform='matrix(.27734 0 0 .27734 106 116)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.GotoPortalMarker.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23e235a9'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23e235a9'/%3E%3Cpath d='M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0ZM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80Z' style='fill:%23fff;fill-rule:nonzero' transform='matrix(.27734 0 0 .27734 106 116)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.GotoPortalMarker.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23e235a9'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23e235a9'/%3E%3Cpath d='M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0ZM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80Z' style='fill:%23fff;fill-rule:nonzero' transform='matrix(.27734 0 0 .27734 106 116)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.GotoPortalMarker.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23e235a9'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23e235a9'/%3E%3Cpath d='M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0ZM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80Z' style='fill:%23fff;fill-rule:nonzero' transform='matrix(.27734 0 0 .27734 106 116)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.GetKeyPortalMarker{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%2378b32c'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%2378b32c'/%3E%3Cpath d='M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A24.011 24.011 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001ZM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48Z' style='fill:%23fff;fill-rule:nonzero' transform='translate(92 115) scale(.26367)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.GetKeyPortalMarker.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%2378b32c'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%2378b32c'/%3E%3Cpath d='M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A24.011 24.011 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001ZM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48Z' style='fill:%23fff;fill-rule:nonzero' transform='translate(92 115) scale(.26367)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.GetKeyPortalMarker.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%2378b32c'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%2378b32c'/%3E%3Cpath d='M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A24.011 24.011 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001ZM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48Z' style='fill:%23fff;fill-rule:nonzero' transform='translate(92 115) scale(.26367)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.GetKeyPortalMarker.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%2378b32c'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%2378b32c'/%3E%3Cpath d='M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A24.011 24.011 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001ZM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48Z' style='fill:%23fff;fill-rule:nonzero' transform='translate(92 115) scale(.26367)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.CreateLinkAlert{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%230a5d00'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%230a5d00'/%3E%3Ccircle cx='97.5' cy='232.5' r='17.5' style='fill:%23fff' transform='matrix(.91706 -.75782 .75782 .91706 -160.998 89.266)'/%3E%3Ccircle cx='97.5' cy='232.5' r='17.5' style='fill:%23fff' transform='matrix(.91706 -.75782 .75782 .91706 -52.425 .075)'/%3E%3Cpath style='fill:%23fff' d='M94 230h135v9H94z' transform='matrix(.74708 -.61735 1.08552 1.31362 -210.742 -29.006)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.CreateLinkAlert.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%230a5d00'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%230a5d00'/%3E%3Ccircle cx='97.5' cy='232.5' r='17.5' style='fill:%23fff' transform='matrix(.91706 -.75782 .75782 .91706 -160.998 89.266)'/%3E%3Ccircle cx='97.5' cy='232.5' r='17.5' style='fill:%23fff' transform='matrix(.91706 -.75782 .75782 .91706 -52.425 .075)'/%3E%3Cpath style='fill:%23fff' d='M94 230h135v9H94z' transform='matrix(.74708 -.61735 1.08552 1.31362 -210.742 -29.006)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.CreateLinkAlert.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%230a5d00'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%230a5d00'/%3E%3Ccircle cx='97.5' cy='232.5' r='17.5' style='fill:%23fff' transform='matrix(.91706 -.75782 .75782 .91706 -160.998 89.266)'/%3E%3Ccircle cx='97.5' cy='232.5' r='17.5' style='fill:%23fff' transform='matrix(.91706 -.75782 .75782 .91706 -52.425 .075)'/%3E%3Cpath style='fill:%23fff' d='M94 230h135v9H94z' transform='matrix(.74708 -.61735 1.08552 1.31362 -210.742 -29.006)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.CreateLinkAlert.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%230a5d00'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%230a5d00'/%3E%3Ccircle cx='97.5' cy='232.5' r='17.5' style='fill:%23fff' transform='matrix(.91706 -.75782 .75782 .91706 -160.998 89.266)'/%3E%3Ccircle cx='97.5' cy='232.5' r='17.5' style='fill:%23fff' transform='matrix(.91706 -.75782 .75782 .91706 -52.425 .075)'/%3E%3Cpath style='fill:%23fff' d='M94 230h135v9H94z' transform='matrix(.74708 -.61735 1.08552 1.31362 -210.742 -29.006)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.MeetAgentPortalMarker{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%236b543d'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%236b543d'/%3E%3Cpath d='M157.5 85c18.502 0 33.5 14.998 33.5 33.5 0 18.502-14.998 33.5-33.5 33.5-18.502 0-33.5-14.998-33.5-33.5 0-18.502 14.998-33.5 33.5-33.5ZM157.5 158c24.577 0 44.5 19.923 44.5 44.5v31c0 34.475 1.973 34.5-44.5 34.5-46.332 0-44.5 1.243-44.5-34.5v-31c0-24.577 19.923-44.5 44.5-44.5Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.MeetAgentPortalMarker.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%236b543d'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%236b543d'/%3E%3Cpath d='M157.5 85c18.502 0 33.5 14.998 33.5 33.5 0 18.502-14.998 33.5-33.5 33.5-18.502 0-33.5-14.998-33.5-33.5 0-18.502 14.998-33.5 33.5-33.5ZM157.5 158c24.577 0 44.5 19.923 44.5 44.5v31c0 34.475 1.973 34.5-44.5 34.5-46.332 0-44.5 1.243-44.5-34.5v-31c0-24.577 19.923-44.5 44.5-44.5Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.MeetAgentPortalMarker.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%236b543d'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%236b543d'/%3E%3Cpath d='M157.5 85c18.502 0 33.5 14.998 33.5 33.5 0 18.502-14.998 33.5-33.5 33.5-18.502 0-33.5-14.998-33.5-33.5 0-18.502 14.998-33.5 33.5-33.5ZM157.5 158c24.577 0 44.5 19.923 44.5 44.5v31c0 34.475 1.973 34.5-44.5 34.5-46.332 0-44.5 1.243-44.5-34.5v-31c0-24.577 19.923-44.5 44.5-44.5Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.MeetAgentPortalMarker.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%236b543d'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%236b543d'/%3E%3Cpath d='M157.5 85c18.502 0 33.5 14.998 33.5 33.5 0 18.502-14.998 33.5-33.5 33.5-18.502 0-33.5-14.998-33.5-33.5 0-18.502 14.998-33.5 33.5-33.5ZM157.5 158c24.577 0 44.5 19.923 44.5 44.5v31c0 34.475 1.973 34.5-44.5 34.5-46.332 0-44.5 1.243-44.5-34.5v-31c0-24.577 19.923-44.5 44.5-44.5Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.OtherPortalAlert{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%233c3c3c'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%233c3c3c'/%3E%3Cpath d='M230 126 86 186.891 87 194l54 21 21 55 8-1 60-143Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.OtherPortalAlert.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%233c3c3c'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%233c3c3c'/%3E%3Cpath d='M230 126 86 186.891 87 194l54 21 21 55 8-1 60-143Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.OtherPortalAlert.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%233c3c3c'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%233c3c3c'/%3E%3Cpath d='M230 126 86 186.891 87 194l54 21 21 55 8-1 60-143Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.OtherPortalAlert.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%233c3c3c'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%233c3c3c'/%3E%3Cpath d='M230 126 86 186.891 87 194l54 21 21 55 8-1 60-143Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.RechargePortalAlert{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%233dcdff'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%233dcdff'/%3E%3Cpath d='M118 109v89h24l-1 81 57-105h-32l34-86-82 21Z' style='fill:%23fff' transform='translate(0 8)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.RechargePortalAlert.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%233dcdff'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%233dcdff'/%3E%3Cpath d='M118 109v89h24l-1 81 57-105h-32l34-86-82 21Z' style='fill:%23fff' transform='translate(0 8)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.RechargePortalAlert.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%233dcdff'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%233dcdff'/%3E%3Cpath d='M118 109v89h24l-1 81 57-105h-32l34-86-82 21Z' style='fill:%23fff' transform='translate(0 8)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.RechargePortalAlert.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%233dcdff'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%233dcdff'/%3E%3Cpath d='M118 109v89h24l-1 81 57-105h-32l34-86-82 21Z' style='fill:%23fff' transform='translate(0 8)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.UpgradePortalAlert{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23298566'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23298566'/%3E%3Cpath d='M190 267h-65v-84l-50 10 82.5-115L240 193l-50-10v84Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.UpgradePortalAlert.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23298566'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23298566'/%3E%3Cpath d='M190 267h-65v-84l-50 10 82.5-115L240 193l-50-10v84Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.UpgradePortalAlert.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23298566'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23298566'/%3E%3Cpath d='M190 267h-65v-84l-50 10 82.5-115L240 193l-50-10v84Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.UpgradePortalAlert.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%23298566'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%23298566'/%3E%3Cpath d='M190 267h-65v-84l-50 10 82.5-115L240 193l-50-10v84Z' style='fill:%23fff'/%3E%3C/svg%3E\")}.wasabee-marker-icon.UseVirusPortalAlert{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%238920c3'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%238920c3'/%3E%3Cpath d='m113 207-24 24-3 20 36-35 15.397 15.397 4.93.242 65.382-66.348s10.22 6.78 14.935 2.065S219 155 219 155l-17-19 10-11 12 11 8-9-32-32-9 9 11 12-10 10-18-17c-6.2-4.349-10.056-8.171-14.342-4.312-4.831 4.35 1.936 14.395 2.891 15.763l-65.19 65.19.309 5.175L113 207Z' style='fill:%23fff' transform='translate(6 10)'/%3E%3Cpath d='m176 123 28 27-31 31-26-28 29-30Z' style='fill:%238920c3' transform='translate(-29 46)'/%3E%3Cpath d='m176 164 7 7-5 5-7-7 5-5Z' style='fill:%238920c3' transform='translate(15 2)'/%3E%3Cpath d='m176 164 7 7-5 5-7-7 5-5Z' style='fill:%238920c3' transform='translate(4 13)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.UseVirusPortalAlert.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%238920c3'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%238920c3'/%3E%3Cpath d='m113 207-24 24-3 20 36-35 15.397 15.397 4.93.242 65.382-66.348s10.22 6.78 14.935 2.065S219 155 219 155l-17-19 10-11 12 11 8-9-32-32-9 9 11 12-10 10-18-17c-6.2-4.349-10.056-8.171-14.342-4.312-4.831 4.35 1.936 14.395 2.891 15.763l-65.19 65.19.309 5.175L113 207Z' style='fill:%23fff' transform='translate(6 10)'/%3E%3Cpath d='m176 123 28 27-31 31-26-28 29-30Z' style='fill:%238920c3' transform='translate(-29 46)'/%3E%3Cpath d='m176 164 7 7-5 5-7-7 5-5Z' style='fill:%238920c3' transform='translate(15 2)'/%3E%3Cpath d='m176 164 7 7-5 5-7-7 5-5Z' style='fill:%238920c3' transform='translate(4 13)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.UseVirusPortalAlert.wasabee-status-acknowledged{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%238920c3'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23ca8b28'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%238920c3'/%3E%3Cpath d='m113 207-24 24-3 20 36-35 15.397 15.397 4.93.242 65.382-66.348s10.22 6.78 14.935 2.065S219 155 219 155l-17-19 10-11 12 11 8-9-32-32-9 9 11 12-10 10-18-17c-6.2-4.349-10.056-8.171-14.342-4.312-4.831 4.35 1.936 14.395 2.891 15.763l-65.19 65.19.309 5.175L113 207Z' style='fill:%23fff' transform='translate(6 10)'/%3E%3Cpath d='m176 123 28 27-31 31-26-28 29-30Z' style='fill:%238920c3' transform='translate(-29 46)'/%3E%3Cpath d='m176 164 7 7-5 5-7-7 5-5Z' style='fill:%238920c3' transform='translate(15 2)'/%3E%3Cpath d='m176 164 7 7-5 5-7-7 5-5Z' style='fill:%238920c3' transform='translate(4 13)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.UseVirusPortalAlert.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%238920c3'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%238920c3'/%3E%3Cpath d='m113 207-24 24-3 20 36-35 15.397 15.397 4.93.242 65.382-66.348s10.22 6.78 14.935 2.065S219 155 219 155l-17-19 10-11 12 11 8-9-32-32-9 9 11 12-10 10-18-17c-6.2-4.349-10.056-8.171-14.342-4.312-4.831 4.35 1.936 14.395 2.891 15.763l-65.19 65.19.309 5.175L113 207Z' style='fill:%23fff' transform='translate(6 10)'/%3E%3Cpath d='m176 123 28 27-31 31-26-28 29-30Z' style='fill:%238920c3' transform='translate(-29 46)'/%3E%3Cpath d='m176 164 7 7-5 5-7-7 5-5Z' style='fill:%238920c3' transform='translate(15 2)'/%3E%3Cpath d='m176 164 7 7-5 5-7-7 5-5Z' style='fill:%238920c3' transform='translate(4 13)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.ExcludeMarker{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%230d3188'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23f0f0f0'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%230d3188'/%3E%3Cpath d='M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8Zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200Zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17Z' style='fill:%23fff;fill-rule:nonzero' transform='translate(74.339 99.339) scale(.33266)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.ExcludeMarker.wasabee-status-acknowledged,.wasabee-marker-icon.ExcludeMarker.wasabee-status-assigned{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%230d3188'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%23c92327'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%230d3188'/%3E%3Cpath d='M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8Zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200Zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17Z' style='fill:%23fff;fill-rule:nonzero' transform='translate(74.339 99.339) scale(.33266)'/%3E%3C/svg%3E\")}.wasabee-marker-icon.ExcludeMarker.wasabee-status-completed{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%230d3188'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%230d3188'/%3E%3Cpath d='M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8Zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200Zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17Z' style='fill:%23fff;fill-rule:nonzero' transform='translate(74.339 99.339) scale(.33266)'/%3E%3C/svg%3E\")}.wasabee-defense-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 316 540' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2'%3E%3Cpath d='m0 323 158 92 158-92-158 217L0 323Z' style='fill:%2378b32c'/%3E%3Cpath d='M160 0 1 92v183l158 92 157-92V91L160 0Z' style='fill:%233c3c3c'/%3E%3Cpath d='m40.242 115.042 118.585-69.383 119.007 67.372-.287 138.601-118.195 69.416-118.478-69.711-.632-136.295Z' style='fill:%2378b32c'/%3E%3Cpath d='M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A24.011 24.011 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001ZM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48Z' style='fill:%23fff;fill-rule:nonzero' transform='translate(92 115) scale(.26367)'/%3E%3C/svg%3E\");background-size:cover}.wasabee-anchor-icon{background-size:25px 41px}.wasabee-anchor-icon.wasabee-layer-main{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 25 41' style='fill:%23dd3d45'%3E%3Cpath d='m12 41-2-3V18h4v20Z' style='fill:%23b0b0b0'/%3E%3Cpath d='m12 41-2-3V18h2Z' style='fill:silver'/%3E%3Ccircle cx='12' cy='13' r='9'/%3E%3Ccircle cx='12' cy='13' r='7' style='fill:%23fff;fill-opacity:.1'/%3E%3Cpath d='M7 13a5 5 0 0 1 5-5' style='stroke:%23fff;stroke-opacity:.4;fill:none;stroke-linecap:round;stroke-width:2'/%3E%3C/svg%3E\")}.wasabee-anchor-icon.wasabee-layer-groupa{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 25 41' style='fill:%23f77d07'%3E%3Cpath d='m12 41-2-3V18h4v20Z' style='fill:%23b0b0b0'/%3E%3Cpath d='m12 41-2-3V18h2Z' style='fill:silver'/%3E%3Ccircle cx='12' cy='13' r='9'/%3E%3Ccircle cx='12' cy='13' r='7' style='fill:%23fff;fill-opacity:.1'/%3E%3Cpath d='M7 13a5 5 0 0 1 5-5' style='stroke:%23fff;stroke-opacity:.4;fill:none;stroke-linecap:round;stroke-width:2'/%3E%3C/svg%3E\")}.wasabee-anchor-icon.wasabee-layer-groupb{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 25 41' style='fill:%23f3df47'%3E%3Cpath d='m12 41-2-3V18h4v20Z' style='fill:%23b0b0b0'/%3E%3Cpath d='m12 41-2-3V18h2Z' style='fill:silver'/%3E%3Ccircle cx='12' cy='13' r='9'/%3E%3Ccircle cx='12' cy='13' r='7' style='fill:%23fff;fill-opacity:.1'/%3E%3Cpath d='M7 13a5 5 0 0 1 5-5' style='stroke:%23fff;stroke-opacity:.4;fill:none;stroke-linecap:round;stroke-width:2'/%3E%3C/svg%3E\")}.wasabee-anchor-icon.wasabee-layer-groupc{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 25 41' style='fill:%23ab9b6b'%3E%3Cpath d='m12 41-2-3V18h4v20Z' style='fill:%23b0b0b0'/%3E%3Cpath d='m12 41-2-3V18h2Z' style='fill:silver'/%3E%3Ccircle cx='12' cy='13' r='9'/%3E%3Ccircle cx='12' cy='13' r='7' style='fill:%23fff;fill-opacity:.1'/%3E%3Cpath d='M7 13a5 5 0 0 1 5-5' style='stroke:%23fff;stroke-opacity:.4;fill:none;stroke-linecap:round;stroke-width:2'/%3E%3C/svg%3E\")}.wasabee-anchor-icon.wasabee-layer-groupd{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 25 41' style='fill:%238546d8'%3E%3Cpath d='m12 41-2-3V18h4v20Z' style='fill:%23b0b0b0'/%3E%3Cpath d='m12 41-2-3V18h2Z' style='fill:silver'/%3E%3Ccircle cx='12' cy='13' r='9'/%3E%3Ccircle cx='12' cy='13' r='7' style='fill:%23fff;fill-opacity:.1'/%3E%3Cpath d='M7 13a5 5 0 0 1 5-5' style='stroke:%23fff;stroke-opacity:.4;fill:none;stroke-linecap:round;stroke-width:2'/%3E%3C/svg%3E\")}.wasabee-anchor-icon.wasabee-layer-groupe{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 25 41' style='fill:%2300d4b7'%3E%3Cpath d='m12 41-2-3V18h4v20Z' style='fill:%23b0b0b0'/%3E%3Cpath d='m12 41-2-3V18h2Z' style='fill:silver'/%3E%3Ccircle cx='12' cy='13' r='9'/%3E%3Ccircle cx='12' cy='13' r='7' style='fill:%23fff;fill-opacity:.1'/%3E%3Cpath d='M7 13a5 5 0 0 1 5-5' style='stroke:%23fff;stroke-opacity:.4;fill:none;stroke-linecap:round;stroke-width:2'/%3E%3C/svg%3E\")}.wasabee-anchor-icon.wasabee-layer-groupf{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 25 41' style='fill:%23dc3d96'%3E%3Cpath d='m12 41-2-3V18h4v20Z' style='fill:%23b0b0b0'/%3E%3Cpath d='m12 41-2-3V18h2Z' style='fill:silver'/%3E%3Ccircle cx='12' cy='13' r='9'/%3E%3Ccircle cx='12' cy='13' r='7' style='fill:%23fff;fill-opacity:.1'/%3E%3Cpath d='M7 13a5 5 0 0 1 5-5' style='stroke:%23fff;stroke-opacity:.4;fill:none;stroke-linecap:round;stroke-width:2'/%3E%3C/svg%3E\")}.wasabee-portal-comment,.wasabee-portal-hardness{font-size:smaller;font-weight:lighter;margin-left:12px}.wasabee-portal-hardness a{color:red!important}",""]),e.exports=n},241:(e,t,a)=>{var o=a(81),n=a(645)(o);n.push([e.id,".wasabee-pane{background:transparent;border:0;height:100%;left:0;overflow:auto;position:absolute;top:0;width:100%}.wasabee-pane.hidden{display:none}.wasabee-pane .wasabee-dialog .header{background-color:rgba(8,48,78,.9);border:1px solid #20a8b1;color:#ffce00;font-size:1.3em;font-weight:700;line-height:1.5em;position:sticky;text-align:center;top:0}.wasabee-pane .wasabee-dialog .content{overflow-y:hidden}.wasabee-pane .wasabee-dialog .buttonset{background-color:rgba(8,48,78,.9);border:1px solid #20a8b1;bottom:0;position:sticky;text-align:right}.wasabee-pane .wasabee-dialog .buttonset button{background-color:rgba(8,48,78,.9);border:1px solid #ffce00;color:#ffce00;margin:2px;min-width:40px;padding:2px 4px}",""]),e.exports=n},397:(e,t,a)=>{var o=a(81),n=a(645)(o);n.push([e.id,".wasabee-dialog-blockerlist.wasabee-small-screen .ui-dialog-content,.wasabee-dialog-checklist.wasabee-small-screen .ui-dialog-content{padding:0}.wasabee-dialog-checklist.wasabee-small-screen .wasabee-table td:first-child input{width:3em}.wasabee-dialog-checklist.wasabee-small-screen .wasabee-table td:nth-child(3) span{display:inline-block;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom;white-space:nowrap;width:5em}.wasabee-dialog-checklist.wasabee-small-screen .wasabee-table td:nth-child(2)>div,.wasabee-dialog-linklist.wasabee-small-screen .wasabee-table td:nth-child(2)>div{grid-column-gap:2px;align-items:center;display:grid;grid-template-columns:auto auto auto}.wasabee-dialog-checklist.wasabee-small-screen .wasabee-table td:nth-child(2) a.wasabee-portal,.wasabee-dialog-linklist.wasabee-small-screen .wasabee-table td:nth-child(2) a.wasabee-portal{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wasabee-dialog-checklist.wasabee-small-screen .wasabee-table td:nth-child(2)>a.wasabee-portal\n.wasabee-dialog-linklist.wasabee-small-screen .wasabee-table td:nth-child(2)>a.wasabee-portal{display:inline-block;vertical-align:bottom;width:calc(100vw - 13em - 24px)}.wasabee-dialog-blockerlist.wasabee-small-screen .wasabee-table a.wasabee-portal{display:inline-block;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom;white-space:nowrap;width:40vw}.leaflet-touch li.wasabee-subactions a{width:inherit}",""]),e.exports=n},850:(e,t,a)=>{var o=a(81),n=a(645)(o);n.push([e.id,".wasabee-buttons{display:block;position:relative;text-align:center;text-decoration:none}.wasabee-buttons .leaflet-bar{list-style:none;padding-left:0}.wasabee-buttons .leaflet-bar>li{position:relative}.leaflet-touch .wasabee-buttons .leaflet-bar>li>a,.wasabee-buttons .leaflet-bar>li>a{border-radius:unset}.wasabee-buttons .leaflet-bar>li>a{border-bottom:1px solid #ccc}.wasabee-buttons .leaflet-bar>li:first-child>a{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-touch .wasabee-buttons .leaflet-bar>li:first-child>a{border-top-left-radius:2px;border-top-right-radius:2px}.wasabee-buttons .leaflet-bar>li:last-child>a{border-bottom:none;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.leaflet-touch .wasabee-buttons .leaflet-bar>li:last-child>a{border-bottom:none;border-bottom-left-radius:2px;border-bottom-right-radius:2px}.wasabee-actions{display:none;left:26px;list-style:none;margin:0;padding:0;position:absolute;top:0;white-space:nowrap}.leaflet-touch .wasabee-actions{left:30px}.wasabee-buttons.leaflet-control a.active{background-color:#3c9}.wasabee-buttons.leaflet-control a.wasabee-toolbar-quickdelete.active{background-color:#e66}.wasabee-buttons.leaflet-control a.wasabee-toolbar-quickdelete.active.blink{animation:blink 2s infinite}@keyframes blink{50%{background-color:red}}.wasabee-actions li{border-bottom:1px solid transparent;display:block}.wasabee-subactions li{vertical-align:middle}.wasabee-subactions a{background-color:rgba(30,130,76,.66);border-left:1px solid #aaa;color:#fff;min-width:50px;padding-left:8px;padding-right:8px;width:auto}.wasabee-subactions a:hover{background-color:#a0a098;width:auto}.wasabee-subactions li:first-child a{border-left:none}.wasabee-subactions li:last-child a{-webkit-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0}.wasabee-actions-image{text-align:center;vertical-align:middle}.wasabee-toolbar-wasabee{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 800 600' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-miterlimit:10'%3E%3Cpath d='m693.958 342.221 141.486 33.873-136.558 35.954-4.928-69.827Z' style='fill:%23f2e794' transform='translate(-110 -67)'/%3E%3Cpath d='M554.884 74.903c45.364 16.383 61.546 89.138 36.145 162.503-25.401 73.365-93.848 113.396-128.131 103.174-40.752-12.15-61.546-89.138-36.144-162.503 25.401-73.365 82.767-119.557 128.13-103.174Z' style='fill:%23b6b6b6' transform='translate(-110 -67)'/%3E%3Cpath d='M479.375 188.5c128.751 0 233.125 84.786 233.125 189.375S608.126 567.25 479.375 567.25 246.25 482.464 246.25 377.875 350.624 188.5 479.375 188.5Z' style='fill:%23f2e794' transform='translate(-110 -67)'/%3E%3Cpath d='M716.932 123.894c39.34 28.655 33.999 103.001-11.93 166.058-45.93 63.056-124.039 81.874-154.395 62.289-36.085-23.283-33.999-103.002 11.93-166.058 45.93-63.057 115.055-90.944 154.395-62.289Z' style='fill:%23d6d6d6' transform='translate(-110 -67)'/%3E%3Cpath d='M397.5 364.75c6.213 0 11.25 9.514 11.25 21.25s-5.037 21.25-11.25 21.25-11.25-9.514-11.25-21.25 5.037-21.25 11.25-21.25ZM288.75 356c6.213 0 11.25 9.514 11.25 21.25s-5.037 21.25-11.25 21.25-11.25-9.514-11.25-21.25S282.537 356 288.75 356Z' style='fill:%232b2b21' transform='translate(-110 -67)'/%3E%3Cpath d='M312.505 424.759c3.092 13.713 19.538 54.991 29.407 54.991 9.881-3.814 13.814-30.418 19.335-52.807-32.987 1.55-34.736-.313-48.742-2.184Z' style='fill:%232b2b21;fill-opacity:.6' transform='translate(-110 -67)'/%3E%3C/svg%3E\")}.wasabee-toolbar-wasabee.wasabee-logged-in{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 800 600' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-miterlimit:10'%3E%3Cpath d='m693.958 342.221 141.486 33.873-136.558 35.954-4.928-69.827Z' style='fill:%2333cb99' transform='translate(-110 -67)'/%3E%3Cpath d='M554.884 74.903c45.364 16.383 61.546 89.138 36.145 162.503-25.401 73.365-93.848 113.396-128.131 103.174-40.752-12.15-61.546-89.138-36.144-162.503 25.401-73.365 82.767-119.557 128.13-103.174Z' style='fill:%23b6b6b6' transform='translate(-110 -67)'/%3E%3Cpath d='M479.375 188.5c128.751 0 233.125 84.786 233.125 189.375S608.126 567.25 479.375 567.25 246.25 482.464 246.25 377.875 350.624 188.5 479.375 188.5Z' style='fill:%2333cb99' transform='translate(-110 -67)'/%3E%3Cpath d='M716.932 123.894c39.34 28.655 33.999 103.001-11.93 166.058-45.93 63.056-124.039 81.874-154.395 62.289-36.085-23.283-33.999-103.002 11.93-166.058 45.93-63.057 115.055-90.944 154.395-62.289Z' style='fill:%23d6d6d6' transform='translate(-110 -67)'/%3E%3Cpath d='M397.5 364.75c6.213 0 11.25 9.514 11.25 21.25s-5.037 21.25-11.25 21.25-11.25-9.514-11.25-21.25 5.037-21.25 11.25-21.25ZM288.75 356c6.213 0 11.25 9.514 11.25 21.25s-5.037 21.25-11.25 21.25-11.25-9.514-11.25-21.25S282.537 356 288.75 356Z' style='fill:%2327775b' transform='translate(-110 -67)'/%3E%3Cpath d='M312.505 424.759c3.092 13.713 19.538 54.991 29.407 54.991 9.881-3.814 13.814-30.418 19.335-52.807-32.987 1.55-34.736-.313-48.742-2.184Z' style='fill:%231f3d33;fill-opacity:.6' transform='translate(-110 -67)'/%3E%3Cpath d='m194.107 270.297 78.954 152.659 66.91-72.312-145.864-80.347' style='fill:%231f6d53;stroke:%23203e34;stroke-width:10.42px' transform='translate(-110 -67)'/%3E%3Cpath d='M520.629 305.114 402.867 437.686l-62.896-85.703 177.981-48.208' style='fill:%23206d53;stroke:%23203e34;stroke-width:10.42px' transform='translate(-110 -67)'/%3E%3Cpath d='M198.121 260.923c5.913 0 10.706 4.797 10.706 10.713 0 5.917-4.793 10.713-10.706 10.713-5.912 0-10.705-4.796-10.705-10.713 0-5.916 4.793-10.713 10.705-10.713Z' style='fill:%2307bd81' transform='translate(-110 -67)'/%3E%3Cpath d='M198.121 250.507c-11.663 0-21.122 9.458-21.122 21.129 0 11.672 9.459 21.13 21.122 21.13 11.664 0 21.123-9.458 21.123-21.13 0-11.671-9.459-21.129-21.123-21.129Zm0 10.416c5.913 0 10.706 4.797 10.706 10.713 0 5.917-4.793 10.713-10.706 10.713-5.912 0-10.705-4.796-10.705-10.713 0-5.916 4.793-10.713 10.705-10.713Z' style='fill:%23203e34' transform='translate(-110 -67)'/%3E%3Cpath d='M273.061 413.582c5.912 0 10.705 4.796 10.705 10.713 0 5.916-4.793 10.713-10.705 10.713-5.913 0-10.706-4.797-10.706-10.713 0-5.917 4.793-10.713 10.706-10.713Z' style='fill:%2308bd80' transform='translate(-110 -67)'/%3E%3Cpath d='M273.061 403.165c-11.664 0-21.123 9.458-21.123 21.13 0 11.671 9.459 21.129 21.123 21.129 11.663 0 21.122-9.458 21.122-21.129 0-11.672-9.459-21.13-21.122-21.13Zm0 10.417c5.912 0 10.705 4.796 10.705 10.713 0 5.916-4.793 10.713-10.705 10.713-5.913 0-10.706-4.797-10.706-10.713 0-5.917 4.793-10.713 10.706-10.713Z' style='fill:%23203e34' transform='translate(-110 -67)'/%3E%3Cpath d='M338.633 343.948c5.912 0 10.705 4.796 10.705 10.713 0 5.916-4.793 10.713-10.705 10.713-5.913 0-10.706-4.797-10.706-10.713 0-5.917 4.793-10.713 10.706-10.713Z' style='fill:%2307bd81' transform='translate(-110 -67)'/%3E%3Cpath d='M338.633 333.531c-11.664 0-21.122 9.458-21.122 21.13 0 11.671 9.458 21.129 21.122 21.129 11.663 0 21.122-9.458 21.122-21.129 0-11.672-9.459-21.13-21.122-21.13Zm0 10.417c5.912 0 10.705 4.796 10.705 10.713 0 5.916-4.793 10.713-10.705 10.713-5.913 0-10.706-4.797-10.706-10.713 0-5.917 4.793-10.713 10.706-10.713Z' style='fill:%23203e34' transform='translate(-110 -67)'/%3E%3Cpath d='M402.867 429.651c5.912 0 10.705 4.796 10.705 10.713 0 5.916-4.793 10.713-10.705 10.713-5.913 0-10.706-4.797-10.706-10.713 0-5.917 4.793-10.713 10.706-10.713Z' style='fill:%2307bd81' transform='translate(-110 -67)'/%3E%3Cpath d='M402.867 419.234c-11.664 0-21.123 9.459-21.123 21.13s9.459 21.129 21.123 21.129c11.663 0 21.122-9.458 21.122-21.129 0-11.671-9.459-21.13-21.122-21.13Zm0 10.417c5.912 0 10.705 4.796 10.705 10.713 0 5.916-4.793 10.713-10.705 10.713-5.913 0-10.706-4.797-10.706-10.713 0-5.917 4.793-10.713 10.706-10.713Z' style='fill:%23203e34' transform='translate(-110 -67)'/%3E%3Cpath d='M520.629 293.062c5.912 0 10.705 4.796 10.705 10.713 0 5.916-4.793 10.713-10.705 10.713-5.913 0-10.706-4.797-10.706-10.713 0-5.917 4.793-10.713 10.706-10.713Z' style='fill:%2307bd81' transform='translate(-110 -67)'/%3E%3Cpath d='M520.629 282.645c-11.664 0-21.123 9.458-21.123 21.13 0 11.671 9.459 21.129 21.123 21.129 11.663 0 21.122-9.458 21.122-21.129 0-11.672-9.459-21.13-21.122-21.13Zm0 10.417c5.912 0 10.705 4.796 10.705 10.713 0 5.916-4.793 10.713-10.705 10.713-5.913 0-10.706-4.797-10.706-10.713 0-5.917 4.793-10.713 10.706-10.713Z' style='fill:%231f3d33' transform='translate(-110 -67)'/%3E%3C/svg%3E\")}.wasabee-toolbar-op{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 191 152' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:1.5'%3E%3Cpath d='M91 86h135' style='fill:none;stroke:%23000;stroke-width:10px' transform='translate(-48 -61)'/%3E%3Cpath d='M91 86h135' style='fill:none;stroke:%23000;stroke-width:10px' transform='translate(-48 -11)'/%3E%3Cpath d='M91 86h135' style='fill:none;stroke:%23000;stroke-width:10px' transform='translate(-48 39)'/%3E%3Ccircle cx='65' cy='84' r='6' style='stroke:%23000;stroke-opacity:0;stroke-width:10px' transform='translate(-51 -59)'/%3E%3Ccircle cx='65' cy='84' r='6' style='stroke:%23000;stroke-opacity:0;stroke-width:10px' transform='translate(-51 -9)'/%3E%3Ccircle cx='65' cy='84' r='6' style='stroke:%23000;stroke-opacity:0;stroke-width:10px' transform='translate(-51 41)'/%3E%3C/svg%3E\");background-size:60%}.wasabee-toolbar-quickdraw{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 300 300' xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5'%3E%3Cpath d='M0 16 8.079 0 16 16H0Z' style='fill:none;stroke:%23000;stroke-width:.44px' transform='translate(4 5) scale(18.1875)'/%3E%3Cpath d='M8 294 151 66l143 229-284.144-3.959L151 169l141.159 123.051' style='fill:none;stroke:%23000;stroke-width:8.74px' transform='matrix(1 0 0 .82096 0 52.817)'/%3E%3C/svg%3E\");background-size:60%}.wasabee-toolbar-quickdelete{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='26' height='26'%3E%3Cpath d='m5 7 3 15h10l3-15M5.5 9.5 20 12 6.5 14.5 19 17 7.5 19.5 18 22m2.5-12.5L6 12l13.5 2.5L7 17l11.5 2.5L8 22' fill='none' stroke='%23000'/%3E%3C/svg%3E\");background-size:60%}.wasabee-toolbar-link{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='26' height='26'%3E%3Cg style='fill:none;stroke:%23000;stroke-width:2'%3E%3Cpath d='M9 13a4 4 90 1 0 4 4M13 9a4 4 90 1 1 4 4'/%3E%3C/g%3E%3Cpath stroke='%23000' stroke-width='2' stroke-linecap='round' d='m9 17 8-8'/%3E%3Cg style='stroke:%23000;stroke-width:2;stroke-linecap:square'%3E%3Cpath d='M20 18v4M18 20h4'/%3E%3C/g%3E%3C/svg%3E\")}.wasabee-toolbar-marker{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='26' height='26'%3E%3Cpath d='M6 8v6l5 3 5-3V8l-5-3v4a2 2-180 0 1 0 4 2 2-180 0 1 0-4V5'/%3E%3Cpath d='m6 16 5 3 5-3-5 7z'/%3E%3Cg style='stroke:%23000;stroke-width:2;stroke-linecap:square'%3E%3Cpath d='M19 17v4M17 19h4'/%3E%3C/g%3E%3C/svg%3E\")}.wasabee-toolbar-sync{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='26' height='26'%3E%3Cpath d='M11 8h4v4h3l-5 5-5-5h3z'/%3E%3Cpath stroke='%23000' stroke-linecap='round' d='M8 19h10'/%3E%3C/svg%3E\")}.wasabee-toolbar-sync.loading,.wasabee-toolbar-upload.loading{background-image:url(data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==)}.wasabee-toolbar-upload{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='26' height='26'%3E%3Cpath d='M8 9a5 5 0 0 0 1 11h8l-2-2h-4v-4H8l5-5 5 5h-3v4l2 2a5 5 0 0 0 1-11A6 8 0 0 0 8 9'/%3E%3C/svg%3E\")}",""]),e.exports=n},868:(e,t,a)=>{var o=a(81),n=a(645)(o);n.push([e.id,'.wasabee-table tr{background:rgba(25,63,95,.75)}.wasabee-table tbody tr:nth-child(odd){background:rgba(8,48,78,.75)}.wasabee-table>thead .sortable:before{content:" ";display:inline-block;float:right;min-width:1em;text-align:right}.wasabee-table{border-collapse:collapse;clear:both;empty-cells:show;width:100%}.wasabee-table td,.wasabee-table th{border-style:solid;border-width:0 1px;padding:3px 4px;text-align:left;vertical-align:baseline}.wasabee-table td:first-child,.wasabee-table th:first-child{border-left-width:0}.wasabee-table td:last-child,.wasabee-table th:last-child{border-right-width:0}.wasabee-table>thead .sortable.asc:before{content:"\\25b2"}.wasabee-table>thead .sortable.desc:before{content:"\\25bc"}.wasabee-table input[type=color]{vertical-align:middle}.wasabee-dialog-agent ul{padding-left:0}.wasabee-dialog-agent li{list-style:none}.wasabee-agent-label a{color:#ffb;font-size:12px;line-height:16px;overflow:hidden;padding:2px;pointer-events:none;text-align:center;text-overflow:ellipsis;text-shadow:1px 1px #000,1px -1px #000,-1px 1px #000,-1px -1px #000,0 0 5px #000;white-space:nowrap}.wasabee-dialog .container{align-items:center}.wasabee-dialog input[type=checkbox]{margin:auto}.wasabee-dialog button.drawb:before{content:""}.wasabee-dialog-about{max-width:min-content}.wasabee-agent-menu{align-items:center}.wasabee-dialog-auth .content{display:grid}.wasabee-dialog-autodraws div.container{display:grid;grid-template-columns:1fr;padding:4px}.wasabee-dialog-autodraws a{grid-column-end:2;grid-column-start:1}.wasabee-dialog-confirm{align-items:center}.wasabee-dialog-wdkeys div.container{display:grid}.wasabee-dialog-wdkeys div.portal{padding:4px 0 8px}.wasabee-dialog-wdkeys input{padding:4px}.wasabee-dialog-export textarea{height:250px;resize:vertical;width:96%}.wasabee-dialog-import textarea{height:250px;resize:vertical;width:100%}.wasabee-dialog-keyslist .enough{color:#03fe03;font-weight:700}.wasabee-dialog-keyslist .notenough{color:#ffce00;font-weight:700}.wasabee-dialog-manageteam div.container{display:grid;grid-template-columns:1fr 1fr 1fr}.wasabee-dialog-manageteam div.list{grid-column-end:4;grid-column-start:1}.wasabee-dialog-manageteam label{grid-column-end:2;grid-column-start:1}.wasabee-dialog-manageteam input{grid-column-end:3;grid-column-start:2;margin:2px}.wasabee-dialog-manageteam button{grid-column-end:4;grid-column-start:3}.wasabee-dialog-markeradd div.content{align-items:baseline;column-gap:8px;display:grid;grid-template-columns:repeat(2,auto);row-gap:8px}.wasabee-dialog-markeradd div.portal{grid-column:1/span 2}.wasabee-dialog-markeradd div.content button{border:2px solid #daa520;border-radius:35px;cursor:pointer;grid-column:1/span 2;margin:0 25px;padding:4px;text-align:center;text-decoration:underline}.wasabee-dialog-markeradd div.bulk{grid-column:2}.wasabee-dialog-markeradd div.content input{grid-column:1/span 2}.wasabee-dialog-op-settings .ui-tabs-panel{padding-top:12px}.wasabee-dialog-newop div.buttonset{display:grid;grid-template-columns:1fr}.wasabee-dialog-op-settings div.advanced,.wasabee-dialog-op-settings div.topset{align-items:center;display:grid;gap:4px 6px;grid-template-columns:auto auto}.wasabee-dialog-op-settings div.advanced .desc{font-weight:700;grid-column:1/3}.wasabee-dialog-op-settings div.advanced .checkbox{grid-column:1/3}.wasabee-dialog-op-settings div.advanced .checkbox input{margin-right:.5rem;vertical-align:middle}.wasabee-dialog-op-settings div.advanced .import{grid-column:2}.wasabee-dialog-op-settings div.advanced select{width:100%}.wasabee-dialog-op-settings textarea{height:50px;resize:vertical;width:auto}.wasabee-dialog-op-settings p.comment,.wasabee-dialog-op-settings textarea{grid-column-end:3;grid-column-start:1}.wasabee-dialog-op-settings input[type=color]{min-width:100%;-moz-transform:scale(1)}.wasabee-dialog-op-settings div.buttonset{display:grid;grid-template-columns:1fr}.wasabee-dialog-op-settings div.buttonset button{margin:4px;width:100%}.wasabee-dialog-op-settings .wasabee-table .actions{white-space:nowrap}.wasabee-dialog-op-settings .wasabee-table .actions a{padding:.25em}.wasabee-dialog-ops div.container{overflow-y:hidden}.wasabee-dialog-ops .wasabee-table .actions{white-space:nowrap}.wasabee-dialog-ops .wasabee-table .actions a{padding:.25em}.wasabee-dialog-ops .wasabee-table.hideOps .visibility{display:none}.wasabee-dialog-checklist .wasabee-table .actions{white-space:nowrap}.wasabee-dialog-checklist .wasabee-table .actions a{padding:.25em}.wasabee-dialog-checklist .wasabee-table .order input{width:4rem}.wasabee-dialog-perms .add-perm{display:grid;grid-template-columns:repeat(4,auto)}.wasabee-dialog-perms .add-perm select{width:100%}.wasabee-dialog-prompt .container{display:grid}.wasabee-dialog-prompt input,.wasabee-dialog-prompt label{padding:4px}.wasabee-dialog-setcomment .container{display:grid}.wasabee-dialog-setcomment div.desc{padding:4px}.wasabee-dialog-setcomment input{padding:4px;width:96%}.wasabee-dialog-settings div.container>*{display:block;margin:.3em 0;width:100%}.wasabee-dialog-settings div.container>:first-child{border:none;margin:0}.wasabee-dialog-settings label{border-top:1px solid #fff5;padding:.3em 0 0}.wasabee-dialog-settings label.checkbox input{margin-right:.5rem;vertical-align:middle}.wasabee-dialog-trawl div.container{display:grid;grid-template-columns:1fr}.wasabee-dialog-trawl div.container div{display:grid;grid-template-columns:auto auto}.wasabee-dialog-wasabee div.container{display:grid}.wasabee-dialog-wasabee button.sendloc,.wasabee-dialog-wasabee button.server{grid-column-start:1}.wasabee-dialog-skin div.content{display:grid;grid-template-columns:auto auto}.wasabee-dialog-skin div.desc{grid-column:1/span 2}.wasabee-dialog-skin ol.left{margin-right:1em}.wasabee-dialog-skin ol.left,.wasabee-dialog-skin ul.right{border:1px solid #fff;clear:both;padding-left:0}.wasabee-dialog-skin ul.right{list-style-type:none}.wasabee-dialog-skin li{border:1px solid #888;height:1.5em;list-style-position:inside;padding:3px}.wasabee-link-seperator{padding-left:.5em;padding-right:.5em}.CapturePortalMarker{color:#7d7d7d}.LetDecayPortalAlert{color:#000}.DestroyPortalAlert{color:#ce3b37}.FarmPortalMarker{color:#f17030}.GotoPortalMarker{color:#e235a9}.GetKeyPortalMarker{color:#78b32c}.CreateLinkAlert{color:#0a5d00}.MeetAgentPortalMarker{color:#6b553d}.OtherPortalAlert{color:#3c3c3c}.RechargePortalAlert,.UpgradePortalAlert{color:#298566}.UseVirusPortalAlert{color:#400080}.ExcludeMarker{color:#009}.field-count li.empty-field-link div{display:inline;padding-left:1em}.field-count li.inner-link>div{display:inline}.field-count ul{padding-left:1em}.wasabee-dialog-conflict .conflicts{background:#0004;border-collapse:collapse;clear:both;empty-cells:show;width:100%}.wasabee-dialog-conflict .conflicts tr:nth-child(odd){background:#0004}.wasabee-dialog-conflict .conflicts td,.wasabee-dialog-conflict .conflicts th{border-style:solid;border-width:0 1px;padding:3px 4px;text-align:left;vertical-align:baseline}.wasabee-dialog-conflict .conflicts td:first-child,.wasabee-dialog-conflict .conflicts th:first-child{border-left-width:0}.wasabee-dialog-conflict .conflicts td:last-child,.wasabee-dialog-conflict .conflicts th:last-child{border-right-width:0}.wasabee-dialog-conflict .conflicts th:nth-child(2),.wasabee-dialog-conflict .conflicts th:nth-child(3){width:2em}.wasabee-dialog-conflict .strike{padding-right:.5em;text-decoration:line-through red}.wasabee-dialog-conflict .diff-label{padding-right:.5em}#dialog-wasabee-filter{padding:0}#dialog-wasabee-filter .ui-tabs-panel{padding:12px}.wasabee-dialog-filter .tabs .nav{padding-left:12px}.wasabee-dialog-filter .filters,.wasabee-dialog-filter .filters .set-portal-small{grid-gap:.3em .6em;align-items:center;display:grid;grid-template-columns:auto auto}.wasabee-dialog-filter .filters .set-portal-small{grid-template-columns:auto min-content}.wasabee-dialog-filter .filters .apply{grid-column:1/3}.wasabee-dialog-filter .actions{grid-gap:.3em .6em;align-items:center;display:grid;grid-template-columns:auto auto auto}.wasabee-dialog-filter .actions .desc{grid-column:1/4}.wasabee-dialog-filter .filters .desc{grid-column:1/3}.wasabee-dialog-filter label.checkbox input{margin-right:.5rem}input[type=color].hidden-color-picker{border:0;height:0;margin:0;padding:0;visibility:hidden;width:0}',""]),e.exports=n},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",o=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),o&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),o&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,o,n,i){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);o&&r[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),a&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=a):d[2]=a),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),t.push(d))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},171:e=>{e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},158:e=>{e.exports='<svg>\n\t<symbol id="wasabee-anchor-icon" viewBox="0 0 25 41">\n\t\t<path d="M 12,41 l -2,-3 l 0,-20 l 4,0 l 0,20 Z" style="fill: #b0b0b0;"/>\n\t\t<path d="M 12,41 l -2,-3 l 0,-20 l 2,0 Z" style="fill: #c0c0c0;"/>\n\t\t<circle cx="12" cy="13" r="9" />\n\t\t<circle cx="12" cy="13" r="7" style="fill: white; fill-opacity: .1"/>\n\t\t<path d="M 7,13 a 5,5,0,0,1,5,-5" style="stroke: white; stroke-opacity: .4;fill: none;stroke-linecap: round;stroke-width: 2;"/>\n\t</symbol>\n</svg>\n'},851:(e,t,a)=>{"use strict";var o=a(171),n=Array.prototype.concat,i=Array.prototype.slice,r=e.exports=function(e){for(var t=[],a=0,r=e.length;a<r;a++){var s=e[a];o(s)?t=n.call(t,i.call(s)):t.push(s)}return t};r.wrap=function(e){return function(){return e(r(arguments))}}},840:(e,t,a)=>{var o=a(426);o&&o.__esModule&&(o=o.default),e.exports="string"==typeof o?o:o.toString()},419:(e,t,a)=>{var o=a(509);o&&o.__esModule&&(o=o.default),e.exports="string"==typeof o?o:o.toString()},282:(e,t,a)=>{var o=a(283);o&&o.__esModule&&(o=o.default),e.exports="string"==typeof o?o:o.toString()},525:(e,t,a)=>{var o=a(241);o&&o.__esModule&&(o=o.default),e.exports="string"==typeof o?o:o.toString()},118:(e,t,a)=>{var o=a(397);o&&o.__esModule&&(o=o.default),e.exports="string"==typeof o?o:o.toString()},835:(e,t,a)=>{var o=a(850);o&&o.__esModule&&(o=o.default),e.exports="string"==typeof o?o:o.toString()},226:(e,t,a)=>{var o=a(868);o&&o.__esModule&&(o=o.default),e.exports="string"==typeof o?o:o.toString()}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,a),i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=a(226),t=a.n(e),o=a(840),n=a.n(o),i=a(835),r=a.n(i),s=a(282),l=a.n(s),c=a(525),d=a.n(c),u=a(118),p=a.n(u),m=a(419),h=a.n(m);const g=JSON.parse('{"ABOUT_WASABEE":"ber Wasabee","acknowledged":"Besttigt","ADD LINK TITLE":"Dialog - Links hinzufgen","ADD MARKER TITLE":"Dialog - Markierung hinzufgen","ADD_AGENT":"Fge Agent hinzu:","ADD_BL":"Fge Portal zur Ankerkette hinzu:","ADD_BULK":"Bulk hinzufgen","ADD_BUTTON_LINKS":"Alle Links auf einmal hinzufgen.","ADD_LINKS":"Fge Links hinzu","ADD_MARKER":"Fge Markierung hinzu","ADD_NEW_OP":"Fge Op hinzu","ADD_SUCC_INSTR":"Erfolgreich hinzugefgt","ADD_ZONE":"Zone hinzufgen","ADD":"Hinzufgen","ADD1":"Ersten Link hinzufgen","ADD2":"Zweiten Link hinzufgen","AGENT_STATS":"Agent Stats","AGENT":"Agent","AGES":"vor langer Zeit","ALREADY_HAS_MARKER":"Dieses Portal hat bereits eine Markierung. Bitte whle ein anderes Portal.","AMAZ_TEAM_NAME":"Toller Teamname","ANCHOR ASSIGNMENT":"Alle ausgehenden Links zuweisen an:","ANCHOR_GMAP":"Google Map","ANCHOR_PORTAL":"Anker Portal","ANCHOR_PORTAL2":"Anker Portal 2","ANCHOR_PORTAL3":"Anker Portal 3","ANCHOR1":"Anker 1","ANCHOR2":"Anker 2","ANCHOR3":"Anker 3","ANCHORS_AS_BOOKMARKS":"Anker als Lesezeichen","API_KEY":"Rocks API-Schlssel:","ASS_TO":"Zugewiesen an","ASSIGN LINK PROMPT":"Link zugewiesenen von: {portalName}","ASSIGN MARKER PROMPT":"Markierung zugewiesenen von: {portalName}","ASSIGN OUTBOUND PROMPT":"Alle ausgehenden Links zugewiesenen von: {portalName}","ASSIGN OUTBOUND":"Ordne ausgehende Links zu","ASSIGN":"Zuweisen","ASSIGNED_ONLY_SHORT":"nz","ASSIGNED_ONLY":"Nur zugewiesen","assigned":"Zugewiesen","AUTH INCOMPAT":"Du hast ein Plugin aktiviert welches inkompatibel zu Wasabee ist.","AUTH REQUIRED":"Authorisierung bentigt","AUTH TOKEN REJECTED":"Senden des Autorisierungcodes ist fehlgeschlagen: {error}","AUTH_SELECT_ACCOUNT":"Benutzerkonto auswhlen","AUTO_DRAWS":"Auto-draw","AUTODRAWS":"Wasabee Auto-draw Optionen","AUTODRAW_PORTALS_SET":"Portale","autodraw.common.draw_button":"Draw","autodraw.fanfield.result":"Fanfield hat {links} Links und {fields} Felder fr {ap} AP gefunden","autodraw.flipflop.result":"Flip flop: hat {count} Links gefunden","autodraw.homogeneous.missing_split":"Konnte {count} Teilungen nicht finden, versuche weniger Tiefe oder eine andere Region","autodraw.homogeneous.order":"Ordnung","autodraw.homogeneous.portals_required":"{count} erforderlich","autodraw.madrid.auto_determined":"Automatisch bestimmt","autodraw.madrid.balanced":"Ausgeglichen","autodraw.madrid.result":"Madrid hat {count} Ebenen gefunden","autodraw.multimax.result":"Multimax hat {count} Ebenen gefunden","autodraw.multimax.result_both_side":"Multimax hat {count1} und {count2} Ebenen gefunden","autodraw.onion.variant":"Option","autodraw.onion.variant.equilateral":"~Gleichseitig","autodraw.onion.variant.grow":"Los!","autodraw.onion.variant.balanced":"Perfekt ausgeglichen","AUTOLOAD_RATE":"Portaldetail-Anfragerate (ms)","AUTOLOAD":"Fehlende Portal-Details automatisch laden","AUTOMARK STOP":"Automatische Markierung gestoppt - Portale nicht vollstndig geladen.","AUTOMARK":"Auto-Markieren","BAT_TOAD":"Kampffrsche","BLOCKER LIST TITLE":"Zeige alle Blocker an","BLOCKER TITLE":"Blocker","CANCEL":"Abbrechen","CAPSULE":"Kapsel","CapturePortalMarker":"Capture","CHANGE SERVER PROMPT":"Neuer Wasabee Server","CHANGE SERVER":"Wechsle Server","CHANGE_WAS_SERVER":"Wechsle Wasabee Server","CHECKLIST BUTTON TITLE":"Checkliste Operationen","CHECKLIST BUTTON":"Checliste","CLEAR LINKS":"Links lschen","CLEAR MARKERS":"Markierung aufheben","CLEAR_EVERYTHING":"Lsche Portale/Links/Marker fr aktuelle OP","CLEAROPS BUTTON TITLE":"Lsche alle Wasabee Daten","CLEAROPS BUTTON":"Lsche Wasabee Daten","CLEAROPS PROMPT":"Das wird alle Wasabee Daten Lschen. Bei dem nchsten Sync wird alles wiederhergestellt.","CLOSE":"Schlieen","COMMENT":"Kommentar","COMPLETED BY":"Abgeschlossen von {agentName}","completed":"Abgeschlossen","CON_DEL":"Besttige Lschen: {opName}","COUNT":"Anzahl","CREATE_NEW_TEAM":"Erstelle neues Team","CreateLinkAlert":"Link","CUR_USER_INFO":"Aktuelle Nutzer Informationen","D_SHOW_LIST":"Defensive Schlssel eingeben","DEFAULT OP NAME":"Neue Operation: {date}","DELETE ANCHOR PROMPT":"Mchtest du den Anker mit allen zugewiesenen Links lschen? :","DELETE ANCHOR TITLE":"Anker lschen","DELETE MARKER PROMPT":"Mchtest du die Markierung lschen? :","DELETE MARKER TITLE":"Markierung lschen","DELETE_ANCHOR":"Lschen","DELETE_LINK":"Lschen","DELETE_OP":"Lsche {opName}","DESCRIP_PLACEHOLD":"Beschreibung (optional)","DestroyPortalAlert":"Zerstren","dialog.about.download_mobile_app":"<h3>Wasabee App: </h3><div class=\'desc\'><a href=\'https://app.wasabee.rocks\' target=\'_blank\'>Lade die Feld-Agenten App herunter</a></div>","dialog.agent_comment.text":"Comment:","dialog.agent_comment.title":"Kommentar fr {agentName} einfgen","dialog.auth.ott.button":"Einmal-Token Login","dialog.auth.ott.text":"Holen Sie sich einen Token vom <a href=\\"{url}\\" target=\\"_blank\\">Wasabee Server</a>, dann fgen Sie diesen hier ein","dialog.auth.ott.title":"Einmal-Token","dialog.blockers.clear_automark":"Automarkierung lschen","dialog.clear_all.text":"Mchten Sie {opName} zurcksetzen?","dialog.clear_all.title":"Clear: {opName}","dialog.clear_links.text":"Mchten Sie alle Links von {opName} entfernen?","dialog.clear_links.title":"Links lschen: {opName}","dialog.clear_markers.text":"Mchten Sie alle Markierungen von {opName} entfernen?","dialog.clear_markers.title":"Clear Markers: {opName}","dialog.checklist.count_fields":"Count fields","dialog.checklist.count_fields.no_empty":"Found {fieldCount} fields and no empty field","dialog.checklist.count_fields.with_empty":"Found {fieldCount} fields and {emptyCount} empty field(s) on {linkCount} link(s)","dialog.checklist.count_fields.link_from_inside":"Found {count} links from covered portals","dialog.checklist.count_fields.link_from_inside.covered_at_order":" bei {order} per Link ","dialog.common.color":"Color","dialog.common.commands":"Befehle","dialog.common.commands_short":"Cmds","dialog.common.delete":"Lschen","dialog.common.links":"Links","dialog.common.markers":"Markers","dialog.common.name":"Name","dialog.common.off":"Aus","dialog.common.on":"Ein","dialog.common.owner":"Eigentmer","dialog.common.zone_all":"All","dialog.filter.actions.description":"Apply a change to all visible tasks","dialog.filter.actions.delete_visible":"Delete","dialog.filter.actions.delete_hidden":"Delete all other tasks","dialog.filter.actions.shift.label":"Offset","dialog.filter.actions.shift.button":"Shift","dialog.filter.actions.title":"Actions","dialog.filter.filters.apply":"Apply filters","dialog.filter.filters.description":"Select the properties to filter the tasks you want to see&change.","dialog.filter.filters.field.task":"Task","dialog.filter.filters.field.min_order":"Min order","dialog.filter.filters.field.max_order":"Max order","dialog.filter.filters.title":"Filters","dialog.filter.title":"Filters&Actions","dialog.firebase.setup":"Besuche {url} und drcke den Button, um Live-Updates zu autorisieren. Du musst IITC spter neu laden.","dialog.import.url":"Von URL befllen","dialog.import.success_message":"Import abgeschlossen. {count} Portale gefunden und {faked} geflscht verwendet. Bitte nutze die Swap-Funktion, um geflschte Portale zu den echten Portalen am gleichen Ort zu bewegen. Das Einzoomen der \'Laden\'-Portale in der Checkliste kann sie zum Laden zwingen.","dialog.keys.update_error":"Portal not in op yet, please sync to server first","dialog.leave_team.text":"If you leave {teamName} you cannot rejoin unless the owner re-adds you.","dialog.leave_team.title":"Verlassen: {teamName}","dialog.link_list.length":"Lnge","dialog.link_list.level":"Min Lvl","dialog.link_list.all_from":"Set all outbound","dialog.link_list.all_to":"Set all inbound","dialog.conflict.cancel_upload":"Upload abbrechen","dialog.conflict.conflicts":"Konflikte:","dialog.conflict.local":"Lokale Kopie","dialog.conflict.server":"Server-Kopie","dialog.conflict.zone":"Zone: {name}","dialog.conflict.prop.assignedTo":"Zuweisen:","dialog.conflict.prop.comment":"Kommentar:","dialog.conflict.prop.color":"Farbe:","dialog.conflict.prop.deltaminutes":"Delta:","dialog.conflict.prop.fromPortal":"Von:","dialog.conflict.prop.hardness":"Schwiergkeitsgrad:","dialog.conflict.prop.order":"Reihenfolge:","dialog.conflict.prop.state":"Status:","dialog.conflict.prop.toPortal":"Nach:","dialog.conflict.prop.zone":"Zone:","dialog.conflict.prop.zone_points":"Shape has changed","dialog.online_agents.actions":"Actions","dialog.online_agents.last_seen":"Zuletzt gesehen","dialog.online_agents.title":"Agenten online","dialog.op_settings.advanced":"Advanced","dialog.op_settings.import.desc":"Import links/markers/zones from another OP","dialog.op_settings.import.collision_default":"In case of conflicts, use imported links/markers","dialog.op_settings.import.select_op":"Select OP","dialog.op_settings.import.select_color":"OP link color","dialog.op_settings.import.button":"Import","dialog.op_settings.setting":"Settings","dialog.op_settings.zones":"Zonen","dialog.ops_list.background_disable":"Disable background","dialog.ops_list.background_enable":"Im Hintergrund anzeigen","dialog.ops_list.download":"{opName} herunterladen","dialog.ops_list.last_fetched":"Zuletzt abgerufen: {date}","dialog.ops_list.local_change":"Local has changed","dialog.ops_list.remote_change":"Remote has changed","dialog.ops_list.toggle_hide":"Ein-/Ausblenden umschalten","dialog.ops_list.unhide_ops":"Alle OPs anzeigen","dialog.remove_agent.text":"Mchten Sie {agentName} aus {teamName} entfernen?","dialog.remove_agent.title":"Remove: {agentName}","dialog.setcomment.portal_hardness":"Schwierigkeitsgrad","dialog.settings.disable_live_updates":"Disable live updates","dialog.team_list.load_wd_keys":"W-D-Schlssel laden","dialog.team_list.share_wd_keys":"W-D Schlssel teilen","dialog.team_manage.join_link":"Beitrittslink","dialog.team_manage.join_link.create":"Erzeugen","dialog.team_manage.join_link.revoke":"Widerrufen","dialog.team_members.location":"Standort wird geteilt","dialog.team_members.wd_keys":"W-D Schlssel teilen","dialog.team_message":"Teamankndigung: {message} von {sender}","dialog.update_warning":"Wasabee ist veraltet. Bitte aktualisiere ber deinen Plugin Manager oder gehe zu <a href=\'https://wasabee.rocks\'>https://wasabee.rocks</a>","dialog.zone_color.title":"Zonenfarbe","dialog.zone_color.text":"Set the color of all links in zone {zoneName}","dialog.zones.color":"Farbe","dialog.zones.color_links":"Color links","dialog.zones.delete.title":"Delete zone {zoneName}","dialog.zones.delete.text":"Do you want to delete zone {zoneName} ?","dialog.zones.delete_zone_shape":"Reset the shape","dialog.zones.draw_zone_shape":"Draw the boundaries","dialog.zones.id":"ID","dialog.zones.jump_to":"Jump to zone","dialog.zones.stop_drawing":"Stop drawing","dialog.zones.title":"Zonen","DRAW TOOLS FORMAT":"Draw Tools Format","DUPE_OP":"Dupliziere Operation","END_PORT":"Endportal","ExcludeMarker":"Von Auto-Draw/Markieren ausschlieen","EXPORT OP TITLE":"Exportiere aktuelle Operation ","EXPORT OP":"Exportiere Op","EXPORT":"Exportieren:","FAKED":"Gefaked: [{portalId}]","FANFIELD":"Fcherfeld!","FANFIELD2":"Fcherfeld","FarmPortalMarker":"Farm","FLIP_FLOP_NAME":"Flip flop","FLIP_FLOP_TITLE":"Flip flop","FLIP_FLOP_DESC":"Findet fr einen gegebenen Anker, eine Reihe von sichtbaren Portalen und einer Anzahl von SBUL ein Fcher-Feld, um Portale vom Anker in absteigender Reihenfolge (nach Distanz) anzulinken, um die Suche nach dem nchsten korrekten Schlssel zu vermeiden.","FLIP_FLOP_INSTRUCTION":"Whle ein Portal aus, zoome nach genug, um genug Portale zu sehen und klicke auf Zeichnen. Sobald ein Fcher-Feld gefunden wurde, kannst du nach anderen Ankern fr einen darauf folgenden Wiederaufbau suchen","FLIP_FLOP_FIND_ANCHORS":"Finde andere Anker","FROM_1-2":"von Basis 1-2","FROM_1-3":"von Basis 1-3","FROM_2-3":"von Basis 2-3","FROM_DEPTH":"von innen heraus","FROM_PORT":"Von Portal","GET DT":"Existierenden DrawTools Draw erhalten","GetKeyPortalMarker":"Schlssel beziehen","GotoPortalMarker":"Gehe zu","H-GEN_INST":"Portale fr das uere Layer festlegen. Whle die Anzahl der Aufteilungen. Klicke auf Zeichnen","HF_DEEP_SEARCH":"Ausfhrliche Suche","HF_DRAW_BUTTON":"Zeichnen","HF_REDRAW_BUTTON":"Neu zeichnen","HG":"Homogenes Feld","HOURS":"vor ({hours} Stunden)","HOW_TO_VIDS":"<h3>Erklrungsvideos:</h3><ul><li><a href=\'https://youtu.be/YxHo-5pj0R4\'>0.15 Intro</a></li><li><a href=\'https://www.youtube.com/watch?v=vYZOeqGGyMg\'>Altes Intro</li><li><a href=\'https://www.youtube.com/watch?v=6i8vX3O8vG4&t=9s\'>Server Intro</a></li><li><a href=\'https://www.youtube.com/watch?v=HomPiLbRsxE\'>Teams and Permissions</a></li></ul>","IMP_NOPE":"Import Fehlgeschlagen: {error}","IMP_WAS_OP":"Importiere Wasabee Operation","IMPORT_OP_SUCCESS":"Importierte Operation: {opName}. Erfolgreich.","IMPORT_OP_TITLE":"Importierte Op: {date}","IMPORT_OP":"Importiere Operation","IMPOSSIBLE":"Unmglich","INGNAME_GID":"Ingress name oder GoogleID","INPUT_DT_KEY_COUNT":"Eingabe defensiver Schlssel","INVALID REQUEST":"Ungltige Anfrage","IOS NEED FAKE UA":"Du musst \'Custom UserAgent for Webviews\' in den IITC-Mobile Einstellungen aktivieren der Login wird fehlgeschlagen","KEY_LIST2":"Schlsselliste: {opName}","KEYS":"Schlssel","KNOWN_BLOCK":"Bekannte Blocker: {opName}","LA DESC":"Ausgehend von der Anzahl und Typ von Link-Amps knnte ein niedrigeres Portallevel ausreichen","LA":"L8+ einige LA","LANG":"Sprache","LEAVE":"Verlassen","LetDecayPortalAlert":"Decayen lassen","LINK ASSIGNMENT":"Link zuweisen an:","LINK STATE PROMPT":"Linkstatus","LINK STATE":"Linkstatus festlegen:","LINKS BUTTON TITLE":"Links","LINKS":"Links","LINKS2":"{portalName} : Links ({outgoing}/{incoming})","LOAD PORTALS":"Portale laden","LOADING":"[laden]","LOADING1":"Lade: [{portalGuid}]","LOC_PROC":"Standort verarbeitet","LOCATION SUB":"Standort registriert","LOCFRMSER":" (lokal und vom Server)","LOG IN":"Einloggen","LOG_OUT":"Ausloggen","MADRID_SET_1":"Whle die Region fr den Baselink-Anker 2 zu Anker 3","MADRID_SET_2":"Whle die Region fr den Baselink-Anker 3 zu Anker 1","MADRID_SET_3":"Whle die Region fr den Baselink-Anker 1 zu Anker 2","MADRID_TITLE":"Madrid Protokoll","MADRID_WAS_TAKEN":"Madrid Protokoll","MADRID":"Zeichnen","MANAGE_TEAM":"Verwalten {teamName}","MANAGE":"Verwalten","MARKER ASSIGNMENT":"Marker zuweisen an:","MARKER LIST TITLE":"Liste der Markierungen","MARKER LIST":"Markierungen","MARKER STATE PROMPT":"Marker Status","MARKER STATE":"Marker-Status setzen:","MARKER_LIST":"Liste Makerierungen: {opName}","MARKERS BUTTON TITLE":"Markierungen","MAX_SPLITS":"Max. Aufteilungen","MAX":"Fcherfeld","MeetAgentPortalMarker":"Treffe Agenten","MERGE ON UPDATE":"Beim Update zusammenfhren","MERGE_CHANGES_LOCAL":"Lokale nderungen","MERGE_CHANGES_MERGE":"Ergebnis zusammenfhren","MERGE_CHANGES_REMOTE":"nderungen Dritter","MERGE_LOCAL":"Lokal speichern","MERGE_MESSAGE":"It seems that {opName} has local changes. Do you want to merge your modifications with the server OP, replace the local version with the server version, or cancel?","MERGE_REBASE":"Rebase","MERGE_REPLACE":"Replace","MERGE_TITLE":"Lokal&Remote-OP zusammenfhren","MIN_SRC_PORT_LVL":"Minimaler bentigter Level im Ausgangsportal","MINUTES":"vor ({minutes} Minuten)","MM":"Maximale Feldanzahl","MM_BOTH_SIDE":"Benutze beide Basisseiten","MM_INSERT_ORDER":"Am Ende einfgen","MM_SET_ALL_PORTALS":"Alle sichtbaren Portale","MM_SET_ALL_KEYS":"All GetKey Markers","MM_SET_KEYS_ZONE":"GetKey: {zoneName}","MM_SPINE":"Spine","MULTI_M_TITLE":"Draw Max Layers","MULTI_M":"Maximale Feldanzahl","MUST_NOT_BE_EMPTY":"Darf nicht leer sein.","MY_CAP_ID":"Kapsel ID","MY_COUNT":"Meine Anzahl","NAME_REQ":"Name bentigt","NAME":"Name:","NEW_OP":"Neue Operation","NEW_TEAM_NAME":"Neuer Teamname","NEW_TEAM":"New Team","NEW_WAS_SERVER":"Neuer Wasabee Server","NEWOP BUTTON TITLE":"Neue Operation erstellen","NEWOP BUTTON":"Neue Op","NO_DT_ITEMS":"Keine DrawTools Daten erkannt","NO_LABEL":"No label set","NO_STOCK_INTEL":"Wasabee untersttzt keine Standard Intel imports","NO_TITLE":"No title set","NO LONGER AVAILABLE":"Ressource vom Server entfernt: {error}","NO LONGER AVAILABLE SHORT":"Ressource vom Server entfernt","NOT LOGGED IN SHORT":"Nicht eingeloggt.","NOT LOGGED IN":"Nicht eingeloggt: {error}","NOT_LOADED":"Nicht vollstndig geladen - bitte erneut probieren.","NOT_SET":"nicht gesetzt","NTNAME":"Name","OK":"OK","ON_HAND":"Verfgbar","ONION_WAS_TAKEN":"Zwiebel","ONION":"Zeichnen","ONLY_DT_IMP":" (nur fr DrawTools imports)","OP DELETED":"Operation vom Server entfernt: {opID}","OP PERM DENIED":"Keine Berechtigung fr Operation: {opID}","OP_CHECKLIST":"Operation Checkliste: {opName}","OP_NAME_UNSET":"Operationsname ist leer.","OP_PERMS":"OP-Berechtigungen","OP_SETTINGS_BUTTON":"OP ","OP_SETTINGS_TITLE":"Operationseinstellungen","OPEN_REQUEST":"[ffne Anfrage]","OPER_COLOR":"Operation Color:","OPER_NAME":"Operation Name:","OPERATIONS":"Operationen","OPS BUTTON TITLE":"Operationen","OPS BUTTON":"Ops","ORDER":"Reihenfolge","OtherPortalAlert":"Sonstiges","PASTE_INSTRUCT":"Fge einen Wasabee Drawtools export hier ein.\\n\\nWasabee kann nicht mit dem Standard intel format umgehen.\\n\\nEs gibt einen Experimentellen Import vom IITC-DrawTools format.\\n\\n Vor dem Importieren bitte sicherstellen das alles geladen ist und die IITC es zwischengespeichert hat. Jedes nicht zwischengespeicherte Portal wird verflscht. \\n\\nDu musst die \'Wechsel\' Funktion verwenden um die verflschten Portale zu korrigieren. (Sie sollten bereits an der richtigen Position sein - aber dem falschen Portal zugeordnet).","pending":"Ausstehend","PERM DENIED":"Keine Berechtigung: {error}","PERM DENIED SHORT":"Keine Berechtigung","PERMS":"{opName} Berechtigungen","PLEASE_SELECT_PORTAL":"Bitte whle ein Portal","popup.anchor.duplicate":"Duplicate","popup.anchor.keys":"Schlssel: {onHand} / {required}","popup.anchor.keys_mycount":"Me: {myCount} / {required}","popup.marker.state_button":"Status setzen","PORTAL KEY LIST":"Schlsselliste fr Portal {portalName}","PORTAL_COUNT":"{count} Portale","PORTAL":"Portal","QD BUTTON CHANGE COLOR":"Klicken, um die nchste Linkfarbe zu ndern","QD BUTTON END":"Klicken um das Feld zeichnen zu beenden","QD BUTTON TOGGLE MODE":"Klicken, um den Zeichenmodus zu ndern","QD CHANGE COLOR":"Farbe ndern","QD END":"Ende","QD TITLE":"Schnelle Layer Zeichnung","QD TOGGLE MODE":"Modus ndern","QDBASE":"Basis Link","QDCONT":"Klicke auf ein Portal der Kette.","QDNEXT":"Klicke auf das zweite Ankerportal.","QDSTART":"Klicke auf das erste Ankerportal.","READ_SHORT":"RO","READ":"lesen","RechargePortalAlert":"Aufladen","REFERENCE_TIME":"Reference Time:","REM_LOC_CP":"Lokale Kopie von {opName} entfernen","REMOVE_TEAM_CONFIRM_LABEL":"Mchtest du {teamName} permanent vom Server entfernen?","REMOVE_TEAM_CONFIRM_TITLE":"Entferne Team {teamName}","REMOVE_TEAM":"Team entfernen:","REMOVE":"Entfernen","RENAME_TEAM":"Team umbenennen:","RENAME":"Umbenennen","REQUIRED":"Bentigt","RESET":"Reset","REVERSE":"Umkehren","ROCKS_COM":"enl.rocks community:","ROLE":"Rolle","SAVELINKS TITLE":"Links speichern","SAVELINKS_DRAW":"Links speichern","SAVELINKS":"Links speichern","SECONDS":"vor ({seconds} Sekunden)","SEL_SB_ANCHOR":"Whle einen Anker, Zomme in das Areal und fge es zum Starburst hinzu.","SEL_SB_ANCHOR2":"Zoomen Sie heraus. Stellen Sie sicher, dass Portale alle geladen sind, und klicken Sie dann auf zeichnen.","SEL_SL_ANCHOR":"Select the portal to save the links of. Click save links button and look at checklist.","SEL_SRC_ANC2":"Lege Quelle und Anker 2 fest","SEL_SRC_PORT":"Whle ein Quellportal","SELECT PORTAL":"Portal zum senden auswhlen","SELECT_FAN_PORTALS":"Whle ein Ankerportal, whle ein Startportal und ein Endportal, danach zoome in die Gegend des Fchers. Warte bis alle Portale geladen sind. Drcke anschlieend den \'Fcherfeld\' Knopf.","SELECT_FAN_PORTALS2":"Warten Sie, bis alle Portale geladen wurden, und klicken Sie dann auf Zeichen.","SELECT_INSTRUCTIONS":"Whle zwei Ankerportale. Zoome in die Gegend der Portalkette - warte bis die Portale geladen sind und drcke den \'Maximale Feldanzahl\' Knopf.","SELECT_ONION_PORTALS":"Layers build from the inside out. Zoom in to center and select starting portal, then zoom out to area.","SELF SWAP":"Du kannst das Portal nicht mit sich selbst tauschen - Whle ein anderes.","SEND ANALYTICS":"Anonymisierte Analysedaten senden","SEND LOCATION":"Share Location (only when IITC is in foreground)","SEND TARGET AGENT":"Select target recipient","SEND TARGET CONFIRM":"Mchtest du {portalName} an {agent} senden?","SEND TARGET":"Sende Ziel","SEND_LOC":"Sende Standort","SET_3_PORT":"Bitte whle zuerst drei Portale!","SET_COMMENT":"Fge Kommentar hinzu","SET_LCOMMENT":"Setze Kommentar fr Link:","SET_LINK_COMMENT":"Set comment for link:","SET_LINKS_ZONES":"Set Links to Zones","SET_MARKER_COMMENT":"Set comment for marker on:","SET_MARKER_TYPE_TITLE":"Markierungstyp ndern","SET_MARKERS_ZONES":"Set Markers to Zones","SET_MCOMMENT":"Setze Kommentar fr Markierung: {portalName}","SET_NEW_OP":"Bitte gebe einen neuen Operationnamen ein","SET_PCOMMENT":"Setze Kommentar fr Portal: {portalName}","SET_PORT_COMMENT":"Set comment for portal:","SET_PORTAL_COMMENT":"Portalkommentar festlegen","SET":"setzen","SETTINGS_TOOLBOX":"Wasabee-Einstellungen","SETTINGS_TITLE":"Erweiterte Einstellungen","SKINS_AVAILABLE":"Es gibt {count} verfgbare Skins.","SKINS_BUTTON":"Skins konfigurieren","SKINS_DESCRIPTION":"Verfgbare Skins befinden sich in der rechten Spalte. Verschieben Sie Skins, die Sie verwenden mchten, auf die linke Spalte.","SKINS_MANAGE_TITLE":"Skins verwalten","SKIP_CONFIRM_ALWAYS":"Nie nachfragen (mit Vorsicht zu verwenden)","SKIP_CONFIRM_ENTITY":"Nur nach Team/Op fragen","SKIP_CONFIRM_NEVER":"Immer nachfragen","SKIP_CONFIRM":"Besttigung berspringen","SOURCE_PORT":"Quellportal","STARBURST TITLE":"Starburst ","STARBURST_DRAW":"Zeichnen","STARBURST":"Linkstern","START_PORT":"Startportal","STATE":"Status","SUPPORT_INSTRUCT":"Fr Hilfe trete bitte der Telegram Gruppe bei <a href=\'https://t.me/joinchat/DuNYdxhhRPurom1I8VAXmw\' target=\'_blank\'>The Wasabee User Telegram Channel</a> ","SWAP PROMPT":"Mchtest du tauschen?:","SWAP TITLE":"Portale tauschen","SWAP WITH":" mit ","SWAP":"Wechseln","swap.marker.title":"Swap marker","swap.marker.prompt":"Do you want to swap the marker:","SYNC DONE":"Download abgeschlossen <br> <a href=\'https://github.com/wasabee-project/Wasabee-IITC/wiki\' target=\'_blank\'>Klicken Sie HIER fr Hinweise, Tipps und Dokumentation.</a>","SYNC":"Download verfgbarer Operationen","TARGET SENT":"Ziel gesendet","TEAM STATE":"Standort teilen","TEAM_CREATED":"Team {teamName} erstellt.","TEAM_NAME":"Team-Name","TEAM":"Team","TEAMS BUTTON TITLE":"Auflistung Wasabee Teams","TEAMS BUTTON":"Teams","TO_PORT":"zu Portal","toolbar.op.filter":"Filters","toolbar.op.redo":"Redo","toolbar.op.title":"Op: {opName}","toolbar.op.undo":"Undo","toolbar.quick_delete.apply.text":"bernehmen","toolbar.quick_delete.apply.title":"Ausgewhlte Links/Marker lschen","toolbar.quick_delete.cancel.text":"Abbrechen","toolbar.quick_delete.cancel.title":"Abbrechen","toolbar.quick_delete.clear.text":"Clear all","toolbar.quick_delete.clear.title":"Clear all links and markers","toolbar.quick_delete.stop.text":"Stoppen","toolbar.quick_delete.stop.title":"Lschmodus beenden","toolbar.quick_delete.title":"Schnell-Lschen","toolbar.quick_delete.tooltip.toggle_mode":"Auf Objekte klicken um diese zur Lschung zu markieren","toolbar.quick_delete.tooltip.quick_mode":"Klicken Sie auf Objekte um diese sofort zu lschen","toolbar.quick_draw.tooltip.star_mode.anchor":"Whlen Sie den Linkstern-Anker","toolbar.quick_draw.tooltip.star_mode.portal":"Ein Portal auswhlen","toolbar.quick_draw.tooltip.single_mode.first":"Erstes Portal anklicken","toolbar.quick_draw.tooltip.single_mode.next":"Nchstes Portal anklicken","toolbar.quick_draw.tooltip.portal_fail":"Portaldaten nicht geladen, bitte versuchen Sie es erneut","toolbar.quick_draw.tooltip.burst.portal":"Select a portal","toolbar.quick_draw.toggle.text":"Mode: {mode}","toolbar.quick_draw.mode.burst":"Burst","toolbar.quick_draw.mode.multilayer":"Multilayer","toolbar.quick_draw.mode.singlelink":"Simple Path","toolbar.quick_draw.mode.starburst":"Star","toolbar.wasabee.settings":"Einstellungen","toolbox.teammates":"Teammitglieder online","TRAWL SKIP TILES":"Trawl Skip Tiles","TRAWL TITLE":"Trawl Lanes","TRAWL WARNING":"Dies wird die Daten alle Quadranten unter allen gezeichneten Links laden. Dies ist ein langsamer Prozess.","TRAWL_AUTOMARK":"Blocker nach Suche automatisch markieren","TRAWL_BULK_LOAD_WARNING":"Diese Methode ldt die Daten der Quadranten so schnell wie mglich. Die Verwendung erfolgt auf eigene Gefahr.","TRAWL_BULK_LOAD":"Bulk Load Tile Data","TRAWL_CLEAR_MARKERS":"Clear virus/destroy markers before trawling","TRAWL_REMAINING":"Noch {count} Quadranten","TRAWL":"Suche nach Blockern","TRAWLING":"Suche die Linkschneisen nach Blockern ab, schlieen Sie diesen Dialog um abzubrechen","TYPE":"Typ","UNASSIGNED":"Nicht zugewiesenen","UNKNOWN":"Unbekannt","UPDATE HOVER":"UPDATE {opName} auf dem Server","UPDATE PERM DENIED":"You do not have permission to update","UPDATE_CONFLICT_DESC":"The OP has been modified on server since last sync. Do you want to replace the server version by the current one?","UPDATE_CONFLICT_TITLE":"Konflikt mit Server gefunden","UPDATE_COUNT":"Aktualisiere Anzahl","UPDATED":"Erfolgreich aktualisiert","UpgradePortalAlert":"Upgrade","UPLOAD BUTTON HOVER":"UPLOAD {opName} (aktuell nicht auf dem Server)","UPLOADED":"Erfolgreich hochgeladen","USE PANES ON MOBILE":"Use panes (need reload)","USE_VALID_NAME":"Bitte verwende einen gltigen Operationsnamen","UseVirusPortalAlert":"Virus benutzen","VRLA DESC":"Ausgehend von der Anzahl und Typ von Link-Amps knnte ein niedrigeres Portallevel ausreichen","VRLA":"L8+ einige VRLA","WASABEE BUTTON TITLE":"Wasabee: Es ist grn und bringt Schlmpfe zum heulen.","WASABEE_D_LIST":"Eingabe defensiver Schlssel","WD BUTTON TITLE":"Speicher Verteidigungs Schlssel","WD BUTTON":"W-D Schlssel","WRITE_SHORT":"RW","WRITE":"schreiben","WSERVER":"Server: {url}","YESNO_DEL":"Bist du dir sicher das du {opName} lschen willst?","ZONE_DRAW":"Click to set the zone boundaries","ZONE":"Zoniert","smallScreen":{"ADD_LINKS":"+ Links","ADD_MARKER":"+ Markierungen"}}'),f=JSON.parse('{"ABOUT_WASABEE":"Acerca de Wasabee","acknowledged":"Recibido","ADD LINK TITLE":"Aadir enlaces","ADD MARKER TITLE":"Texto de Aadir Marcadores","ADD_AGENT":"Aadir agente:","ADD_BL":"Aadir enlaces anidados:","ADD_BULK":"Aadir masivamente","ADD_BUTTON_LINKS":"Aadir todos los enlaces a la vez.","ADD_LINKS":"Aadir enlaces","ADD_MARKER":"Aadir marcador","ADD_NEW_OP":"Aadir nueva Op","ADD_SUCC_INSTR":"Agente aadido correctamente","ADD_ZONE":"Aadir Zona","ADD":"Agregar","ADD1":"Aadir primer enlace","ADD2":"Aadir segundo enlace","AGENT_STATS":"Estadsticas de agente","AGENT":"Agente","AGES":"(Hace demasiado tiempo)","ALREADY_HAS_MARKER":"Este portal ya tiene un marcador. Elige un portal diferente.","AMAZ_TEAM_NAME":"Excelente nombre de equipo","ANCHOR ASSIGNMENT":"Assign all outbound links to:","ANCHOR_GMAP":"Google Map","ANCHOR_PORTAL":"Portal Ancla","ANCHOR_PORTAL2":"Portal Ancla 2","ANCHOR_PORTAL3":"Portal Ancla 3","ANCHOR1":"Ancla 1","ANCHOR2":"Ancla 2","ANCHOR3":"Ancla 3","ANCHORS_AS_BOOKMARKS":"Anclas a Marcadores","API_KEY":"Rocks API key:","ASS_TO":"Asignado A","ASSIGN LINK PROMPT":"Asignar link de {portalName}","ASSIGN MARKER PROMPT":"Asignar marcador de {portalName}","ASSIGN OUTBOUND PROMPT":"Asignar todos los links de salida de {portalName}","ASSIGN OUTBOUND":"Asignar Links de salida","ASSIGN":"Asignar","ASSIGNED_ONLY_SHORT":"SA","ASSIGNED_ONLY":"Slo asignados","assigned":"Asignado","AUTH INCOMPAT":"Has activado un plugin en TamperMonkey que es incompatible con Wasabee","AUTH REQUIRED":"Autenticacin Requerida","AUTH TOKEN REJECTED":"Envo de token de autorizacin al servidor rechazado: {error}","AUTH_SELECT_ACCOUNT":"Seleccionar cuenta","AUTO_DRAWS":"Autodibujar","AUTODRAWS":"Opciones de dibujo automtico de Wasabee","AUTODRAW_PORTALS_SET":"Portales","autodraw.common.draw_button":"Dibujar","autodraw.fanfield.result":"Fanfield ha encontrado {links} enlaces y {fields} campos para {ap} AP","autodraw.flipflop.result":"Flip flop: encontr {count} enlaces","autodraw.homogeneous.missing_split":"Imposible encontrar {count} divisiones, prueba menos nivel o una regin diferente","autodraw.homogeneous.order":"Orden","autodraw.homogeneous.portals_required":"{count} requeridos","autodraw.madrid.auto_determined":"Auto-determinado","autodraw.madrid.balanced":"Equilibrado","autodraw.madrid.result":"Madrid ha encontrado {count} capas","autodraw.multimax.result":"Multimax ha encontrado {count} capas","autodraw.multimax.result_both_side":"Multimax encontr {count1} y {count2} capas","autodraw.onion.variant":"Opcin","autodraw.onion.variant.equilateral":"~Equiltero","autodraw.onion.variant.grow":"Permitir que crezca","autodraw.onion.variant.balanced":"Equilibrio perfecto","AUTOLOAD_RATE":"Tasa de solicitud de detalles de portales (ms)","AUTOLOAD":"Cargar automticamente los detalles del portal faltante","AUTOMARK STOP":"El Marcado-Automtico se detuvo debido a que los portales no estaban cargado","AUTOMARK":"Automarcar","BAT_TOAD":"Sapitos de Batalla","BLOCKER LIST TITLE":"Mostrar todos los bloqueos","BLOCKER TITLE":"Bloqueos","CANCEL":"Cancelar","CAPSULE":"Cpsula","CapturePortalMarker":"Capturar","CHANGE SERVER PROMPT":"Nuevo Servidor Wasabee","CHANGE SERVER":"Cambiar Servidor","CHANGE_WAS_SERVER":"Cambiar Servidor de Wasabee","CHECKLIST BUTTON TITLE":"Lista de Verificacin de la Operacin","CHECKLIST BUTTON":"Lista de Verificacin","CLEAR LINKS":"Borrar Enlaces","CLEAR MARKERS":"Borrar marcadores","CLEAR_EVERYTHING":"Borrar Portales/Links/Marcadores","CLEAROPS BUTTON TITLE":"Borrar TODOS los Datos de Wasabee","CLEAROPS BUTTON":"Borrar Datos de Wasabee","CLEAROPS PROMPT":"Esta opcin borrar todas las OPS y datos relacionados a Wasabee. Todo ser restaurado desde el servidor en la prxima sincronizacin.","CLOSE":"Cerrar","COMMENT":"Comentario","COMPLETED BY":"Completado por {agentName}","completed":"Completo","CON_DEL":"Confirmar Borrado {opName}","COUNT":"Contar","CREATE_NEW_TEAM":"Crear Nuevo Equipo","CreateLinkAlert":"Linkear","CUR_USER_INFO":"Informacin Actual de Usuario","D_SHOW_LIST":"Ingresar Llaves de Defensa","DEFAULT OP NAME":"Nueva Op: {date}","DELETE ANCHOR PROMPT":"Quisieras borrar esta ancla y todos los links asociados","DELETE ANCHOR TITLE":"Borrar Ancla","DELETE MARKER PROMPT":"Quisieras borrar este marcador","DELETE MARKER TITLE":"Borrar Marcador","DELETE_ANCHOR":"Borrar","DELETE_LINK":"Borrar","DELETE_OP":"Borrar {opName}","DESCRIP_PLACEHOLD":"Descripcin (opcional)","DestroyPortalAlert":"Destruir","dialog.about.download_mobile_app":"<h3>Aplicacin Wasabee: </h3><div class=\'desc\'><a href=\'https://app.wasabee.rocks\' target=\'_blank\'>Descargar la aplicacin para agentes sobre el terreno</a></div>","dialog.agent_comment.text":"Comment:","dialog.agent_comment.title":"Establecer comentario para {agentName}","dialog.auth.ott.button":"Inicio de sesin con token de un nico uso","dialog.auth.ott.text":"Obtn un token en el <a href=\\"{url}\\" target=\\"_blank\\">Servidor Wasabee</a> y pgalo aqu despus","dialog.auth.ott.title":"Token de un slo uso","dialog.blockers.clear_automark":"Limpiar Automarcado","dialog.clear_all.text":"Quieres reiniciar {opName}?","dialog.clear_all.title":"Limpiar: {opName}","dialog.clear_links.text":"Quieres eliminar todos los enlaces de {opName}?","dialog.clear_links.title":"Eliminar enlaces: {opName}","dialog.clear_markers.text":"Quieres eliminar todos los marcadores de {opName}?","dialog.clear_markers.title":"Eliminar marcadores: {opName}","dialog.checklist.count_fields":"Contar campos","dialog.checklist.count_fields.no_empty":"Se encontraron {fieldCount} campos y ningn campo vaco","dialog.checklist.count_fields.with_empty":"Se encontraron {fieldCount} campos y {emptyCount} campo(s) vaco(s) con {linkCount} enlace(s)","dialog.checklist.count_fields.link_from_inside":"Se han encontrado {count} enlaces desde portales cubiertos","dialog.checklist.count_fields.link_from_inside.covered_at_order":" en {order} por el enlace ","dialog.common.color":"Color","dialog.common.commands":"Acciones","dialog.common.commands_short":"Acns","dialog.common.delete":"Borrar","dialog.common.links":"Enlaces","dialog.common.markers":"Marcadores","dialog.common.name":"Nombre","dialog.common.off":"Desactivado","dialog.common.on":"Activado","dialog.common.owner":"Propietario","dialog.common.zone_all":"Todas","dialog.filter.actions.description":"Aplicar un cambio a todas las tareas visibles","dialog.filter.actions.delete_visible":"Borrar","dialog.filter.actions.delete_hidden":"Borrar las dems tareas","dialog.filter.actions.shift.label":"Desplazamiento","dialog.filter.actions.shift.button":"Cambiar","dialog.filter.actions.title":"Acciones","dialog.filter.filters.apply":"Aplicar filtros","dialog.filter.filters.description":"Seleccione las propiedades para filtrar las tareas que desea ver y cambiar.","dialog.filter.filters.field.task":"Tarea","dialog.filter.filters.field.min_order":"Orden mnimo","dialog.filter.filters.field.max_order":"Orden mximo","dialog.filter.filters.title":"Filtros","dialog.filter.title":"Filtros y acciones","dialog.firebase.setup":"Visita {url} y pulsa el botn para autorizar las actualizaciones en vivo. Necesitars recargar IITC despus.","dialog.import.url":"Importar desde URL","dialog.import.success_message":"Importacin completada. Se encontraron {count} portales y se usaron {faked} portales falsos. Utilice la funcin de intercambio para mover portales falsos a los portales reales en la misma ubicacin. Acercar el zoom en los portales \'Cargando\' de la lista de verificacin podra conseguir que se carguen.","dialog.keys.update_error":"El portal no est en la op todava, por favor sincroniza al servidor primero","dialog.leave_team.text":"Si abandonas {teamName} no puedes volver a unirte a menos que el propietario te vuelva a aadir.","dialog.leave_team.title":"Abandonar: {teamName}","dialog.link_list.length":"Longitud","dialog.link_list.level":"Nivel min.","dialog.link_list.all_from":"Poner todo saliente","dialog.link_list.all_to":"Poner todos entrantes","dialog.conflict.cancel_upload":"Cancelar subida","dialog.conflict.conflicts":"Conflictos:","dialog.conflict.local":"Copia local","dialog.conflict.server":"Copia del servidor","dialog.conflict.zone":"Zona: {name}","dialog.conflict.prop.assignedTo":"Asignar:","dialog.conflict.prop.comment":"Comentario:","dialog.conflict.prop.color":"Color:","dialog.conflict.prop.deltaminutes":"Delta:","dialog.conflict.prop.fromPortal":"Desde:","dialog.conflict.prop.hardness":"Dificultad:","dialog.conflict.prop.order":"Orden:","dialog.conflict.prop.state":"Estado:","dialog.conflict.prop.toPortal":"Hasta:","dialog.conflict.prop.zone":"Zona:","dialog.conflict.prop.zone_points":"La forma ha cambiado","dialog.online_agents.actions":"Acciones","dialog.online_agents.last_seen":"Visto por ltima vez","dialog.online_agents.title":"Agentes activos","dialog.op_settings.advanced":"Avanzadas","dialog.op_settings.import.desc":"Importar enlaces/marcadores/zonas de otra OP","dialog.op_settings.import.collision_default":"En caso de conflictos, se preferirn los enlaces o marcadores de la OP importada","dialog.op_settings.import.select_op":"Seleccione OP","dialog.op_settings.import.select_color":"Color enlaces OP","dialog.op_settings.import.button":"Importar","dialog.op_settings.setting":"Ajustes","dialog.op_settings.zones":"Zonas","dialog.ops_list.background_disable":"Desactivar mostrar por detrs","dialog.ops_list.background_enable":"Mostrar por detrs","dialog.ops_list.download":"Descargar {opName}","dialog.ops_list.last_fetched":"ltima recuperacin: {date}","dialog.ops_list.local_change":"OP local ha cambiado","dialog.ops_list.remote_change":"OP remota ha cambiado","dialog.ops_list.toggle_hide":"Mostrar / Ocultar","dialog.ops_list.unhide_ops":"Mostrar todas las OPs","dialog.remove_agent.text":"Quieres retirar a {agentName} de {teamName}?","dialog.remove_agent.title":"Retirar: {agentName}","dialog.setcomment.portal_hardness":"Dificultad","dialog.settings.disable_live_updates":"Desactivar actualizaciones en vivo","dialog.team_list.load_wd_keys":"Cargar llaves W-D","dialog.team_list.share_wd_keys":"Compartir llaves W-D","dialog.team_manage.join_link":"Enlace de unin","dialog.team_manage.join_link.create":"Crear","dialog.team_manage.join_link.revoke":"Anular","dialog.team_members.location":"Compartir ubicacin","dialog.team_members.wd_keys":"Compartir llaves W-D","dialog.team_message":"Anuncio de equipo: {message} de {sender}","dialog.update_warning":"Wasabee est desactualizado. Por favor, actualice usando su gestor de complementos o vaya a <a href=\'https://wasabee.rocks\'>https://wasabee.rocks</a>","dialog.zone_color.title":"Color para la zona","dialog.zone_color.text":"Establecer el color de todos los enlaces de la zona {zoneName}","dialog.zones.color":"Color","dialog.zones.color_links":"Colorear enlaces","dialog.zones.delete.title":"Eliminar la zona {zoneName}","dialog.zones.delete.text":"Quieres eliminar la zona {zoneName} ?","dialog.zones.delete_zone_shape":"Restablecer la forma","dialog.zones.draw_zone_shape":"Dibujar lmites de zona","dialog.zones.id":"ID","dialog.zones.jump_to":"Ir a la zona","dialog.zones.stop_drawing":"Finalizar dibujo","dialog.zones.title":"Zonas","DRAW TOOLS FORMAT":"Formato Draw Tools","DUPE_OP":"Duplicar Operacin","END_PORT":"Portal de Fin","ExcludeMarker":"Excluir del Dibujo/Marcado Automtico","EXPORT OP TITLE":"Exportar Op actual","EXPORT OP":"Exportar Op","EXPORT":"Exportar","FAKED":"Virtual: [{portalId}]","FANFIELD":"Dibujar!","FANFIELD2":"Fanfield","FarmPortalMarker":"Farmear","FLIP_FLOP_NAME":"Flip flop","FLIP_FLOP_TITLE":"Flip flop","FLIP_FLOP_DESC":"Dados un ancla determinado, un conjunto de portales visibles y una cantidad de SBUL, encuentra un fanfield para lanzar enlaces desde el ancla en orden de distancia descendente para evitar buscar llaves.","FLIP_FLOP_INSTRUCTION":"Selecciona un portal, acrcate para ver suficientes portales y pulsa Dibujar. Cuando se encuentre un campo de fanfield, puedes buscar otros ancls para relanzar consecutivamente","FLIP_FLOP_FIND_ANCHORS":"Encontrar otros anclas","FROM_1-2":"desde la base 1-2","FROM_1-3":"desde la base 1-3","FROM_2-3":"desde la base 2-3","FROM_DEPTH":"desde el interior","FROM_PORT":"Desde el Portal","GET DT":"Obtener el dibujo existente de DrawTools","GetKeyPortalMarker":"Obtener Keys","GotoPortalMarker":"Ir A","H-GEN_INST":"Establece portales para la capa exterior. Elige el nmero de divisiones. Haz clic en dibujar","HF_DEEP_SEARCH":"Bsqueda exhaustiva","HF_DRAW_BUTTON":"Dibujar","HF_REDRAW_BUTTON":"Redibujar","HG":"Campo homogneo","HOURS":"(Hace {hours} horas)","HOW_TO_VIDS":"<h3>Videos de Cmo Se Hace:</h3><ul><li><a href=\'https://youtu.be/YxHo-5pj0R4\'>0.15 Introduccin</a></li><li><a href=\'https://www.youtube.com/watch?v=vYZOeqGGyMg\'>Introduccin Antigua</li><li><a href=\'https://www.youtube.com/watch?v=6i8vX3O8vG4&t=9s\'>Introduccin al Servidor</a></li><li><a href=\'https://www.youtube.com/watch?v=HomPiLbRsxE\'>Equipos y Permisos</a></li></ul>","IMP_NOPE":"Importacin Fall: {error}","IMP_WAS_OP":"Importar Operacin Wasabee","IMPORT_OP_SUCCESS":"Operacin {opName} Importada Exitosamente.","IMPORT_OP_TITLE":"Importar Op {date}","IMPORT_OP":"Importar Operacin","IMPOSSIBLE":"Imposible","INGNAME_GID":"Nombre de Ingress o GoogleID","INPUT_DT_KEY_COUNT":"Ingresa el Conteo de Llaves Defensivas","INVALID REQUEST":"Solicitud No Vlida","IOS NEED FAKE UA":"Debes configurar un \'UsuarioAgente Personalizado para Vista Web\' en las opciones de configuracin de IITC-Mobile o el inicio de sesin fallar","KEY_LIST2":"Lista de Llaves {opName}","KEYS":"Llaves","KNOWN_BLOCK":"Bloqueos Conocidos {opName}","LA DESC":"Dependiendo del nmero y tipo de Link Amps usados, un portal de origen de menor nivel puede ser suficiente.","LA":"L8+ algunos LA","LANG":"Idioma","LEAVE":"Salir","LetDecayPortalAlert":"Dejar Decaer","LINK ASSIGNMENT":"Assign link to:","LINK STATE PROMPT":"Estado del Link","LINK STATE":"Set link status:","LINKS BUTTON TITLE":"Enlaces","LINKS":"Enlaces","LINKS2":"{portalName}: Enlaces ({outgoing}/{incoming})","LOAD PORTALS":"Cargar Portales","LOADING":"[cargando]","LOADING1":"Cargando: [{portalGuid}]","LOC_PROC":"ubicacin procesada","LOCATION SUB":"Ubicacin registrada","LOCFRMSER":"(localmente y del servidor)","LOG IN":"Iniciar Sesin","LOG_OUT":"Cerrar sesin","MADRID_SET_1":"Selecciona el rea para el link base del Ancla 2 al Ancla 3","MADRID_SET_2":"Selecciona el rea para el link base del Ancla 3 al Ancla 1","MADRID_SET_3":"Selecciona el rea para el link base del Ancla 1 al Ancla 2","MADRID_TITLE":"Protocolo Madrid","MADRID_WAS_TAKEN":"Protocolo Madrid","MADRID":"Dibujar","MANAGE_TEAM":"Gestionar {teamName}","MANAGE":"Gestionar","MARKER ASSIGNMENT":"Assign marker to:","MARKER LIST TITLE":"Lista de Marcadores","MARKER LIST":"Marcadores","MARKER STATE PROMPT":"Estado Del Marcador","MARKER STATE":"Set marker state:","MARKER_LIST":"Listad de Marcadores {opName}","MARKERS BUTTON TITLE":"Marcadores","MAX_SPLITS":"Divisiones mximas","MAX":"Fan Field","MeetAgentPortalMarker":"Encontrar Agent","MERGE ON UPDATE":"Combinar al actualizar","MERGE_CHANGES_LOCAL":"Cambios locales","MERGE_CHANGES_MERGE":"Combinar resultado","MERGE_CHANGES_REMOTE":"Cambios remotos","MERGE_LOCAL":"Mantener local","MERGE_MESSAGE":"It seems that {opName} has local changes. Do you want to merge your modifications with the server OP, replace the local version with the server version, or cancel?","MERGE_REBASE":"Rebase","MERGE_REPLACE":"Replace","MERGE_TITLE":"Combinar OP local y remota","MIN_SRC_PORT_LVL":"Nivel mnimo requerido para el portal fuente","MINUTES":"(Hace {minutes} minutos)","MM":"Multimax","MM_BOTH_SIDE":"Usar ambos lados de la base","MM_INSERT_ORDER":"Insertar al final","MM_SET_ALL_PORTALS":"Todos los portales visibles","MM_SET_ALL_KEYS":"Todos los marcadores de Obtener llave","MM_SET_KEYS_ZONE":"Obtener llave: {zoneName}","MM_SPINE":"Espinazo","MULTI_M_TITLE":"Dibujar Mximas Capas","MULTI_M":"Multimax","MUST_NOT_BE_EMPTY":"No Debe Quedar Vaco","MY_CAP_ID":"ID de Mi Cpsula","MY_COUNT":"Mi Conteo","NAME_REQ":"Requiere Nombre","NAME":"Nombre","NEW_OP":"Nueva Operacin","NEW_TEAM_NAME":"Nuevo Nombre de Equipo","NEW_TEAM":"Nuevo equipo","NEW_WAS_SERVER":"Nuevo Servidor de Wasabee","NEWOP BUTTON TITLE":"Crear una nueva Operacin","NEWOP BUTTON":"Nueva Op","NO_DT_ITEMS":"No se detect elementos dibujados con DrawTools","NO_LABEL":"Sin etiqueta definida","NO_STOCK_INTEL":"Wasabee no soporta la importacin de dibujos trazados en intel regular","NO_TITLE":"Sin ttulo definido","NO LONGER AVAILABLE":"Recurso eliminado del servidor: {error}","NO LONGER AVAILABLE SHORT":"Recurso eliminado del servidor","NOT LOGGED IN SHORT":"Sesin No Iniciada","NOT LOGGED IN":"Sesin No Iniciada: {error}","NOT_LOADED":"No est cargado completamente, intentar de nuevo.","NOT_SET":"no definido","NTNAME":"Nombre","OK":"Aceptar","ON_HAND":"En Mano","ONION_WAS_TAKEN":"Onion","ONION":"Dibujar","ONLY_DT_IMP":"(solo para importaciones de DrawTools)","OP DELETED":"Operacin eliminada del servidor: {opID}","OP PERM DENIED":"Permiso denegado a la operacin: {opID}","OP_CHECKLIST":"Lista de Verificacin de la Operacin {opName}","OP_NAME_UNSET":"Se Removi el Nombre de Operacin","OP_PERMS":"Permisos para la Op","OP_SETTINGS_BUTTON":"Op ","OP_SETTINGS_TITLE":"Ajustes de Operacin","OPEN_REQUEST":"[abrir solicitud]","OPER_COLOR":"Color de la Operacin","OPER_NAME":"Nombre de la Operacin","OPERATIONS":"Operaciones","OPS BUTTON TITLE":"Operaciones","OPS BUTTON":"Ops","ORDER":"Orden","OtherPortalAlert":"Otro","PASTE_INSTRUCT":"Pega un dibujo exportado de Wasabee aqu.\\n\\nWasabee no puede importar del formato normal de intel.\\n\\nHay soporte experimental para importar del formato DrawTools de IITC.\\n\\nAntes de importar del formato DrawTools, revise las reas y asegrese que todos los portales carguen para que estn en la cach de IITC. Cualquier portal que no haya estado pre-cargado ser falsificado. Tendrs que usar la opcin \'intercambiar\' para mover las anclas de los portales falsos a los portales reales (estarn en la ubicacin correcta, pero no asociados con el portal.\\n\\nPortales en la cach puede que no estn nombrados correctamente.","pending":"Pendiente","PERM DENIED":"Permiso denegado: {error}","PERM DENIED SHORT":"Permiso denegado","PERMS":"{opName} permisos","PLEASE_SELECT_PORTAL":"Por favor, seleccionar un portal","popup.anchor.duplicate":"Duplicar","popup.anchor.keys":"Llaves: {onHand} / {required}","popup.anchor.keys_mycount":"Yo: {myCount} / {required}","popup.marker.state_button":"Establecer el estado","PORTAL KEY LIST":"Lista de Llaves del Portal {portalName}","PORTAL_COUNT":"{count} portales","PORTAL":"Portal","QD BUTTON CHANGE COLOR":"Haz clic para cambiar el color de los siguientes enlaces","QD BUTTON END":"Dar click para detener dibujo de campos","QD BUTTON TOGGLE MODE":"Haz clic para cambiar el modo de dibujo","QD CHANGE COLOR":"Cambiar color","QD END":"Finalizar","QD TITLE":"Dibujar Capas Rpido","QD TOGGLE MODE":"Cambiar modo","QDBASE":"Link Base","QDCONT":"Dar click a un portal anidado para dibujar el campo.","QDNEXT":"Dar click al segundo portal ancla.","QDSTART":"Dar click al primer portal ancla.","READ_SHORT":"SL","READ":"Leer","RechargePortalAlert":"Recargar","REFERENCE_TIME":"Hora de referencia:","REM_LOC_CP":"Borrar copia local de {opName}","REMOVE_TEAM_CONFIRM_LABEL":"Deseas remover {teamName} permanentemente del Servidor Wasabee?","REMOVE_TEAM_CONFIRM_TITLE":"Remover Equipo {teamName}","REMOVE_TEAM":"Remover Equipo","REMOVE":"Remover","RENAME_TEAM":"Renombrar Equipo","RENAME":"Renombrar","REQUIRED":"Requeridas","RESET":"Restablecer","REVERSE":"Invertir","ROCKS_COM":"comunidad enl.rocks","ROLE":"Rol","SAVELINKS TITLE":"Guardar Enlaces","SAVELINKS_DRAW":"Guardar Enlaces","SAVELINKS":"Guardar Enlaces","SECONDS":"(Hace {seconds} segundos)","SEL_SB_ANCHOR":"Selecciona el rea del ancla para hacer acercamiento para aadir a la supernova.","SEL_SB_ANCHOR2":"Aleja el zoom. Asegrate de que los portales se han cargado completamente y haz clic en Dibujar.","SEL_SL_ANCHOR":"Selecciona el portal del que quieres guardar los enlaces. Haz clic en el botn de Guardar Enlaces y revisa la lista de comprobacin.","SEL_SRC_ANC2":"Selecciona tanto la Fuente como el Ancla 2","SEL_SRC_PORT":"Selecciona un portal fuente","SELECT PORTAL":"Seleccionar un portal para enviar","SELECT_FAN_PORTALS":"Selecciona un portal ancla, un portal de inicio y un portal de fin, luego haz un acercamiento en el rea para el fan field. Espera hasta que los portales hayan cargado (los portales deben estar en la pantalla para ser considerados) y presiona el botn Fanfield.","SELECT_FAN_PORTALS2":"Espera a que todos los portales se carguen. Luego haz clic en dibujar.","SELECT_INSTRUCTIONS":"Selecciona dos portales ancla, luego luego haz un acercamiento en el rea para los nodos de las capas. Espera hasta que los portales hayan cargado (los portales deben estar en la pantalla para ser considerados) y presiona el botn Multimax.","SELECT_ONION_PORTALS":"Las capas se hacen de dentro hacia afuera. Acrcate al centro y selecciona el portal de inicio. Luego aljate para ver un rea mayor.","SELF SWAP":"No se puede intercambiar un portal consigo mismo! Selecciona un portal diferente.","SEND ANALYTICS":"Enviar analticas annimas","SEND LOCATION":"Compartir ubicacin (slo cuando IITC est en primer plano)","SEND TARGET AGENT":"Selecciona un destinatario","SEND TARGET CONFIRM":"Quieres enviar el {portalName} objetivo a {agent}?","SEND TARGET":"Enviar Objetivo","SEND_LOC":"Enviar Ubicacin","SET_3_PORT":"Por favor, primero define los tres portales!","SET_COMMENT":"Definir Comentario","SET_LCOMMENT":"Definir Comentario de Link","SET_LINK_COMMENT":"Definir comentario para el link","SET_LINKS_ZONES":"Asignar enlaces a zonas","SET_MARKER_COMMENT":"Definir comentario para el marcador en","SET_MARKER_TYPE_TITLE":"Cambiar tipo de marcador","SET_MARKERS_ZONES":"Asignar marcadores a zonas","SET_MCOMMENT":"Definir Comentario de Marcador {portalName}","SET_NEW_OP":"Por favor, define el Nuevo Nombre de la Operacin","SET_PCOMMENT":"Definir Comentario de Portal {portalName}","SET_PORT_COMMENT":"Definir comentario para el portal","SET_PORTAL_COMMENT":"Definir comentarios del portal","SET":"definir","SETTINGS_TOOLBOX":"Ajustes de Wasabee","SETTINGS_TITLE":"Ajustes avanzados","SKINS_AVAILABLE":"Hay {count} skins disponibles.","SKINS_BUTTON":"Configurar skins","SKINS_DESCRIPTION":"Las skins disponibles se encuentran en las columnas de la derecha. Mueve las skins que desees aplicar a las columnas de la izquierda.","SKINS_MANAGE_TITLE":"Gestionar skins","SKIP_CONFIRM_ALWAYS":"Nunca preguntar (usar con precaucin)","SKIP_CONFIRM_ENTITY":"Slo pedir equipo/op","SKIP_CONFIRM_NEVER":"Preguntar siempre","SKIP_CONFIRM":"Omitir confirmacin","SOURCE_PORT":"Portal de origen","STARBURST TITLE":"Supernova","STARBURST_DRAW":"Dibujar","STARBURST":"Supernova","START_PORT":"Portal de Inicio","STATE":"Estado","SUPPORT_INSTRUCT":"Para soporte, por favor nete al <a href=\'https://t.me/joinchat/DuNYdxhhRPurom1I8VAXmw\' target=\'_blank\'>Canal de Telegram de Usuarios de Wasabee</a>","SWAP PROMPT":"Quisieras intercambiar","SWAP TITLE":"Intercambiar Portales","SWAP WITH":"con","SWAP":"Intercambiar","swap.marker.title":"Intercambiar marcador","swap.marker.prompt":"Quieres cambiar el marcador:","SYNC DONE":"Descarga Completa <br> <a href=\'https://github.com/wasabee-project/Wasabee-IITC/wiki\' target=\'_blank\'>Haga clic AQU para obtener sugerencias, consejos y documentacin.</a>","SYNC":"Descargar Operaciones Disponibles","TARGET SENT":"Objetivo enviado","TEAM STATE":"Compartir ubicacin","TEAM_CREATED":"Equipo {teamName} creado","TEAM_NAME":"Nombre de Equipo","TEAM":"Equipo","TEAMS BUTTON TITLE":"Listar Equipos Wasabee","TEAMS BUTTON":"Equipos","TO_PORT":"Hacia el Portal","toolbar.op.filter":"Filtros","toolbar.op.redo":"Rehacer","toolbar.op.title":"Op: {opName}","toolbar.op.undo":"Deshacer","toolbar.quick_delete.apply.text":"Aplicar","toolbar.quick_delete.apply.title":"Eliminar los enlaces/marcadores seleccionados","toolbar.quick_delete.cancel.text":"Cancelar","toolbar.quick_delete.cancel.title":"Cancelar","toolbar.quick_delete.clear.text":"Limpiar todo","toolbar.quick_delete.clear.title":"Borrar todos los enlaces y marcadores","toolbar.quick_delete.stop.text":"Parar","toolbar.quick_delete.stop.title":"Salir del modo borrar","toolbar.quick_delete.title":"Borrado rpido","toolbar.quick_delete.tooltip.toggle_mode":"Haz clic en los objetos que quieres marcar para eliminar","toolbar.quick_delete.tooltip.quick_mode":"Haz clic en los objetos para eliminar inmediatamente","toolbar.quick_draw.tooltip.star_mode.anchor":"Seleccione el ancla de la estrella","toolbar.quick_draw.tooltip.star_mode.portal":"Selecciona un portal","toolbar.quick_draw.tooltip.single_mode.first":"Haz clic en el primer portal","toolbar.quick_draw.tooltip.single_mode.next":"Haz clic en el siguiente portal","toolbar.quick_draw.tooltip.portal_fail":"Datos del portal no cargados, por favor intntalo de nuevo","toolbar.quick_draw.tooltip.burst.portal":"Selecciona un portal","toolbar.quick_draw.toggle.text":"Modo: {mode}","toolbar.quick_draw.mode.burst":"Estallido","toolbar.quick_draw.mode.multilayer":"Multicapa","toolbar.quick_draw.mode.singlelink":"Simple Path","toolbar.quick_draw.mode.starburst":"Star","toolbar.wasabee.settings":"Ajustes","toolbox.teammates":"Compaeros en lnea","TRAWL SKIP TILES":"Bloques a saltar al recorrer","TRAWL TITLE":"Recorrer corredores de enlace","TRAWL WARNING":"Se cargarn los datos de todos los bloques bajo todos los enlaces dibujados. Es un proceso lento.","TRAWL_AUTOMARK":"Automarcar los bloqueos tras recorrer","TRAWL_BULK_LOAD_WARNING":"Este mtodo carga los datos de los bloques de golpe. salo bajo tu propio riesgo.","TRAWL_BULK_LOAD":"Carga masiva de datos de bloques","TRAWL_CLEAR_MARKERS":"Limpiar marcadores de virus/destruir antes de recorrer","TRAWL_REMAINING":"{count} bloques restantes","TRAWL":"Recorrer buscando bloqueos","TRAWLING":"Recorriendo los corredores buscando bloqueos. Cierra esta ventana para detenerlo","TYPE":"Tipo","UNASSIGNED":"No Asignado","UNKNOWN":"Desconocido","UPDATE HOVER":"{opName} en el servidor","UPDATE PERM DENIED":"Permiso para acutalizar denegado","UPDATE_CONFLICT_DESC":"The OP has been modified on server since last sync. Do you want to replace the server version by the current one?","UPDATE_CONFLICT_TITLE":"Conflicto detectado con el servidor","UPDATE_COUNT":"Actualizar Conteo","UPDATED":"Actualizado exitosamente","UpgradePortalAlert":"Actualizar","UPLOAD BUTTON HOVER":"CARGAR {opName} (no se encuentra actualmente en el servidor)","UPLOADED":"Cargado exitosamente","USE PANES ON MOBILE":"Usar paneles (es necesario recargar)","USE_VALID_NAME":"Por favor, utiliza un nombre de operacin vlido","UseVirusPortalAlert":"Usar Virus","VRLA DESC":"Dependiendo del nmero y tipo de Link Amps usados, un portal de origen de menor nivel puede ser suficiente.","VRLA":"L8+ algunos VRLA","WASABEE BUTTON TITLE":"Wasabee es verde y hace llorar a los pitufos.","WASABEE_D_LIST":"Ingresar Conteo de Llaves de Defensa","WD BUTTON TITLE":"Registrar Llaves de Defensa","WD BUTTON":"Llaves W-D","WRITE_SHORT":"LE","WRITE":"escribir","WSERVER":"Servidor {url}","YESNO_DEL":"Ests seguro de querer borrar {opName}","ZONE_DRAW":"Haga clic para establecer los lmites de la zona","ZONE":"Zona","smallScreen":{"ADD_LINKS":"+ Enlaces","ADD_MARKER":"+ Marcador"}}'),E=JSON.parse('{"ABOUT_WASABEE":"About Wasabee","acknowledged":"Acknowledged","ADD LINK TITLE":"Add Links","ADD MARKER TITLE":"Add Markers","ADD_AGENT":"Add Agent:","ADD_BL":"Add Back Links:","ADD_BULK":"Bulk add","ADD_BUTTON_LINKS":"Add all links at once","ADD_LINKS":"Add Links","ADD_MARKER":"Add Marker","ADD_NEW_OP":"Add New Op","ADD_SUCC_INSTR":"Add agent successful","ADD_ZONE":"Add Zone","ADD":"Add","ADD1":"Add first link","ADD2":"Add second link","AGENT_STATS":"Agent Stats","AGENT":"Agent","AGES":" (ages ago)","ALREADY_HAS_MARKER":"This portal already has a marker. Choose a different portal.","AMAZ_TEAM_NAME":"Amazing Team Name","ANCHOR ASSIGNMENT":"Assign all outbound links to:","ANCHOR_GMAP":"Google Map","ANCHOR_PORTAL":"Anchor Portal","ANCHOR_PORTAL2":"Anchor Portal 2","ANCHOR_PORTAL3":"Anchor Portal 3","ANCHOR1":"Anchor 1","ANCHOR2":"Anchor 2","ANCHOR3":"Anchor 3","ANCHORS_AS_BOOKMARKS":"Anchors as bookmarks","API_KEY":"Rocks API key:","ASS_TO":"Assigned To","ASSIGN LINK PROMPT":"Assign link from: {portalName}","ASSIGN MARKER PROMPT":"Assign marker from: {portalName}","ASSIGN OUTBOUND PROMPT":"Assign all outbound links from: {portalName}","ASSIGN OUTBOUND":"Assign Outbound Links","ASSIGN":"Assign","ASSIGNED_ONLY_SHORT":"AO","ASSIGNED_ONLY":"Assigned Only","assigned":"Assigned","AUTH INCOMPAT":"You have activated a plugin in TamperMonkey that is incompatable with Wasabee","AUTH REQUIRED":"Authentication Required","AUTH TOKEN REJECTED":"Sending auth token to server rejected: {error}","AUTH_SELECT_ACCOUNT":"Select account","AUTO_DRAWS":"Auto-draw","AUTODRAWS":"Wasabee Auto-draw Options","AUTODRAW_PORTALS_SET":"Portals","autodraw.common.draw_button":"Draw","autodraw.fanfield.result":"Fanfield found {links} links and {fields} fields for {ap} AP","autodraw.flipflop.result":"Flip flop: found {count} links","autodraw.homogeneous.missing_split":"Unable to find {count} splits, try less depth or a different region","autodraw.homogeneous.order":"Order","autodraw.homogeneous.portals_required":"{count} required","autodraw.madrid.auto_determined":"Auto-determined","autodraw.madrid.balanced":"Balanced","autodraw.madrid.result":"Madrid found {count} layers","autodraw.multimax.result":"Multimax found {count} layers","autodraw.multimax.result_both_side":"Multimax found {count1} and {count2} layers","autodraw.onion.variant":"Option","autodraw.onion.variant.equilateral":"~Equilateral","autodraw.onion.variant.grow":"Let it grow","autodraw.onion.variant.balanced":"Perfectly balanced","AUTOLOAD_RATE":"Portal Detail Request Rate (ms)","AUTOLOAD":"Automatically Load Missing Portal Details","AUTOMARK STOP":"Auto-Mark stopped due to portals not being loaded","AUTOMARK":"Auto-Mark","BAT_TOAD":"Battle Toads","BLOCKER LIST TITLE":"Show all blockers","BLOCKER TITLE":"Blockers","CANCEL":"Cancel","CAPSULE":"Capsule","CapturePortalMarker":"Capture","CHANGE SERVER PROMPT":"New Wasabee Server","CHANGE SERVER":"Change Server","CHANGE_WAS_SERVER":"Change Wasabee Server","CHECKLIST BUTTON TITLE":"Operation Checklist","CHECKLIST BUTTON":"Checklist","CLEAR LINKS":"Clear Links","CLEAR MARKERS":"Clear Markers","CLEAR_EVERYTHING":"Clear Portals/Links/Markers for current OP","CLEAROPS BUTTON TITLE":"Clear Data","CLEAROPS BUTTON":"Clear Data","CLEAROPS PROMPT":"Clear all local OPS. Ops will be restored at next download. Wasabee will be disabled until next page reload.","CLOSE":"Close","COMMENT":"Comment","COMPLETED BY":"Completed by {agentName}","completed":"Completed","CON_DEL":"Confirm Delete: {opName}","COUNT":"Count","CREATE_NEW_TEAM":"Create New Team","CreateLinkAlert":"Link","CUR_USER_INFO":"Current User Information","D_SHOW_LIST":"Input Defensive Keys","DEFAULT OP NAME":"New Op: {date}","DELETE ANCHOR PROMPT":"Do you want to delete this anchor and all associated links:","DELETE ANCHOR TITLE":"Delete Anchor","DELETE MARKER PROMPT":"Do you want to delete this marker:","DELETE MARKER TITLE":"Delete Marker","DELETE_ANCHOR":"Delete","DELETE_LINK":"Delete","DELETE_OP":"Delete {opName}","DESCRIP_PLACEHOLD":"Description (optional)","DestroyPortalAlert":"Destroy","dialog.about.download_mobile_app":"<h3>Wasabee App: </h3><div class=\'desc\'><a href=\'https://app.wasabee.rocks\' target=\'_blank\'>Download the ground Agents application</a></div>","dialog.agent_comment.text":"Comment:","dialog.agent_comment.title":"Set comment for {agentName}","dialog.auth.ott.button":"One Time Token Login","dialog.auth.ott.text":"Get a token from the <a href=\\"{url}\\" target=\\"_blank\\">Wasabee Server</a>, then paste it here","dialog.auth.ott.title":"One Time Token","dialog.blockers.clear_automark":"Clear Automark","dialog.clear_all.text":"Do you want to reset {opName}?","dialog.clear_all.title":"Clear: {opName}","dialog.clear_links.text":"Do you want to remove all links from {opName}?","dialog.clear_links.title":"Clear Links: {opName}","dialog.clear_markers.text":"Do you want to remove all markers from {opName}?","dialog.clear_markers.title":"Clear Markers: {opName}","dialog.checklist.count_fields":"Count fields","dialog.checklist.count_fields.no_empty":"Found {fieldCount} fields and no empty field","dialog.checklist.count_fields.with_empty":"Found {fieldCount} fields and {emptyCount} empty field(s) on {linkCount} link(s)","dialog.checklist.count_fields.link_from_inside":"Found {count} links from covered portals","dialog.checklist.count_fields.link_from_inside.covered_at_order":" at {order} by link ","dialog.common.color":"Color","dialog.common.commands":"Commands","dialog.common.commands_short":"Cmds","dialog.common.delete":"Delete","dialog.common.links":"Links","dialog.common.markers":"Markers","dialog.common.name":"Name","dialog.common.off":"Off","dialog.common.on":"On","dialog.common.owner":"Owner","dialog.common.zone_all":"All","dialog.filter.actions.description":"Apply a change to all visible tasks","dialog.filter.actions.delete_visible":"Delete","dialog.filter.actions.delete_hidden":"Delete all other tasks","dialog.filter.actions.shift.label":"Offset","dialog.filter.actions.shift.button":"Shift","dialog.filter.actions.title":"Actions","dialog.filter.filters.apply":"Apply filters","dialog.filter.filters.description":"Select the properties to filter the tasks you want to see&change.","dialog.filter.filters.field.task":"Task","dialog.filter.filters.field.min_order":"Min order","dialog.filter.filters.field.max_order":"Max order","dialog.filter.filters.title":"Filters","dialog.filter.title":"Filters&Actions","dialog.firebase.setup":"Visit {url} and press the button to authorize live updates. You will need to reload IITC afterward.","dialog.import.url":"Fill from URL","dialog.import.success_message":"Import Complete. Found {count} portals and used {faked} faked. Please use the swap feature to move faked portals to the real portals at the same location. Zooming in on the \'Loading\' portals in the checklist might force them to load.","dialog.keys.update_error":"Portal not in op yet, please sync to server first","dialog.leave_team.text":"If you leave {teamName} you cannot rejoin unless the owner re-adds you.","dialog.leave_team.title":"Leave: {teamName}","dialog.link_list.length":"Length","dialog.link_list.level":"Min Lvl","dialog.link_list.all_from":"Set all outbound","dialog.link_list.all_to":"Set all inbound","dialog.conflict.cancel_upload":"Cancel upload","dialog.conflict.conflicts":"Conflicts:","dialog.conflict.local":"Local copy","dialog.conflict.server":"Server copy","dialog.conflict.zone":"Zone: {name}","dialog.conflict.prop.assignedTo":"Assign:","dialog.conflict.prop.comment":"Comment:","dialog.conflict.prop.color":"Color:","dialog.conflict.prop.deltaminutes":"Delta:","dialog.conflict.prop.fromPortal":"From:","dialog.conflict.prop.hardness":"Hard:","dialog.conflict.prop.order":"Order:","dialog.conflict.prop.state":"State:","dialog.conflict.prop.toPortal":"To:","dialog.conflict.prop.zone":"Zone:","dialog.conflict.prop.zone_points":"Shape has changed","dialog.online_agents.actions":"Actions","dialog.online_agents.last_seen":"Last Seen","dialog.online_agents.title":"Online Agents","dialog.op_settings.advanced":"Advanced","dialog.op_settings.import.desc":"Import links/markers/zones from another OP","dialog.op_settings.import.collision_default":"In case of conflicts, use imported links/markers","dialog.op_settings.import.select_op":"Select OP","dialog.op_settings.import.select_color":"OP link color","dialog.op_settings.import.button":"Import","dialog.op_settings.setting":"Settings","dialog.op_settings.zones":"Zones","dialog.ops_list.background_disable":"Disable background","dialog.ops_list.background_enable":"Show in background","dialog.ops_list.download":"Download {opName}","dialog.ops_list.last_fetched":"Last fetched: {date}","dialog.ops_list.local_change":"Local has changed","dialog.ops_list.remote_change":"Remote has changed","dialog.ops_list.toggle_hide":"Toggle Show/Hide","dialog.ops_list.unhide_ops":"Unhide all OPs","dialog.remove_agent.text":"Do you want to remove {agentName} from {teamName}?","dialog.remove_agent.title":"Remove: {agentName}","dialog.setcomment.portal_hardness":"Hardness","dialog.settings.disable_live_updates":"Disable live updates","dialog.team_list.load_wd_keys":"Load W-D Keys","dialog.team_list.share_wd_keys":"Share W-D Keys","dialog.team_manage.join_link":"Join Link","dialog.team_manage.join_link.create":"Create","dialog.team_manage.join_link.revoke":"Revoke","dialog.team_members.location":"Sharing Location","dialog.team_members.wd_keys":"Sharing W-D Keys","dialog.team_message":"Team announcement: {message} from {sender}","dialog.update_warning":"Wasabee is out of date. Please update using your plugin manager or by going to <a href=\'https://wasabee.rocks\'>https://wasabee.rocks</a>","dialog.zone_color.title":"Zone Color","dialog.zone_color.text":"Set the color of all links in zone {zoneName}","dialog.zones.color":"Color","dialog.zones.color_links":"Color links","dialog.zones.delete.title":"Delete zone {zoneName}","dialog.zones.delete.text":"Do you want to delete zone {zoneName} ?","dialog.zones.delete_zone_shape":"Reset the shape","dialog.zones.draw_zone_shape":"Draw the boundaries","dialog.zones.id":"ID","dialog.zones.jump_to":"Jump to zone","dialog.zones.stop_drawing":"Stop drawing","dialog.zones.title":"Zones","DRAW TOOLS FORMAT":"Draw Tools Format","DUPE_OP":"Duplicate Operation","END_PORT":"End Portal","ExcludeMarker":"Exclude from Auto-Draw/Mark","EXPORT OP TITLE":"Export current Op","EXPORT OP":"Export Op","EXPORT":"Export:","FAKED":"Faked: [{portalId}]","FANFIELD":"Draw","FANFIELD2":"Draw Fan Field","FarmPortalMarker":"Farm","FLIP_FLOP_NAME":"Flip flop","FLIP_FLOP_TITLE":"Flip flop","FLIP_FLOP_DESC":"From a given anchor, a set of visible portal and a number of SBUL, find a fanfield to throw links from the anchor by decreasing distance to avoid searching keys.","FLIP_FLOP_INSTRUCTION":"Select a portal, zoom to see enough portals and press Draw. Once a fanfield is found, you can search for other anchors for consecutive rethrow","FLIP_FLOP_FIND_ANCHORS":"Find other anchors","FROM_1-2":"from base 1-2","FROM_1-3":"from base 1-3","FROM_2-3":"from base 2-3","FROM_DEPTH":"from the depth","FROM_PORT":"From Portal","GET DT":"Get existing DrawTools draw","GetKeyPortalMarker":"Get Keys","GotoPortalMarker":"Go To","H-GEN_INST":"Set portals for the outside layer. Choose number of splits. Click draw","HF_DEEP_SEARCH":"Exhaustive search","HF_DRAW_BUTTON":"Draw","HF_REDRAW_BUTTON":"Redraw","HG":"Homogeneous Field","HOURS":" ({hours} hours ago)","HOW_TO_VIDS":"<h3>How-To Videos: </h3><div class=\'desc\'><a href=\'https://www.youtube.com/playlist?list=PLyku9nmtwrADKQM9_EZk7NYbZXVOrBhXa\' target=\'_blank\'>Wasabee Playlist</a></div>","IMP_NOPE":"Import Failed: {error}","IMP_WAS_OP":"Import Wasabee Operation","IMPORT_OP_SUCCESS":"Imported Operation: {opName} successfuly.","IMPORT_OP_TITLE":"Import Op: {date}","IMPORT_OP":"Import Operation","IMPOSSIBLE":"Impossible","INGNAME_GID":"Ingress name or GoogleID","INPUT_DT_KEY_COUNT":"Input Defensive Key Count","INVALID REQUEST":"Invalid Request","IOS NEED FAKE UA":"You must set a \'Custom UserAgent for Webviews\' in the IITC-Mobile settings or login will fail","KEY_LIST2":"Key List for Operation: {opName}","KEYS":"Keys","KNOWN_BLOCK":"Known Blockers: {opName}","LA DESC":"Depending on the number and type of Link Amps used, a lower source portal level might suffice.","LA":"L8+ some LA","LANG":"Language","LEAVE":"Leave","LetDecayPortalAlert":"Let Decay","LINK ASSIGNMENT":"Assign link to:","LINK STATE PROMPT":"Link State","LINK STATE":"Set link status:","LINKS BUTTON TITLE":"Links","LINKS":"Links","LINKS2":"{portalName} : Links ({outgoing}/{incoming})","LOAD PORTALS":"Load Portals","LOADING":"[loading]","LOADING1":"Loading: [{portalGuid}]","LOC_PROC":"location processed","LOCATION SUB":"Location registered","LOCFRMSER":" (locally and from server)","LOG IN":"Log In","LOG_OUT":"Log Out","MADRID_SET_1":"Select the region for baselink Anchor 2 to Anchor 3","MADRID_SET_2":"Select the region for baselink Anchor 3 to Anchor 1","MADRID_SET_3":"Select the region for baselink Anchor 1 to Anchor 2","MADRID_TITLE":"Madrid Protocol","MADRID_WAS_TAKEN":"Madrid Protocol","MADRID":"Draw","MANAGE_TEAM":"Manage {teamName}","MANAGE":"Manage","MARKER ASSIGNMENT":"Assign marker to:","MARKER LIST TITLE":"Marker List","MARKER LIST":"Markers","MARKER STATE PROMPT":"Marker Status","MARKER STATE":"Set marker state:","MARKER_LIST":"Marker List: {opName}","MARKERS BUTTON TITLE":"Markers","MAX_SPLITS":"Max Splits","MAX":"Fan Field","MeetAgentPortalMarker":"Meet Agent","MERGE ON UPDATE":"Merge on update","MERGE_CHANGES_LOCAL":"Local changes","MERGE_CHANGES_MERGE":"Merge result","MERGE_CHANGES_REMOTE":"Remote changes","MERGE_LOCAL":"Keep local","MERGE_MESSAGE":"Local and server modifications are clashing. You need to resolve the conflicts that Wasabee failed to resolve itself. Select which version in the following list to keep for every unresolved conflicts. You can also ignore all conflicts and use the server copy, or you can just keep the local copy intact.","MERGE_REBASE":"Merge","MERGE_REPLACE":"Use server","MERGE_TITLE":"Merge local&remote OP","MIN_SRC_PORT_LVL":"Minimum level required on source portal","MINUTES":" ({minutes} minutes ago)","MM":"Multimax","MM_BOTH_SIDE":"Use both base sides","MM_INSERT_ORDER":"Insert at the end","MM_SET_ALL_PORTALS":"All visible portals","MM_SET_ALL_KEYS":"All GetKey Markers","MM_SET_KEYS_ZONE":"GetKey: {zoneName}","MM_SPINE":"Spine","MULTI_M_TITLE":"Draw Max Layers","MULTI_M":"Draw","MUST_NOT_BE_EMPTY":"Must Not Be Empty","MY_CAP_ID":"My Capsule ID","MY_COUNT":"My Count","NAME_REQ":"Name Required","NAME":"Name:","NEW_OP":"New Operation","NEW_TEAM_NAME":"New Team Name","NEW_TEAM":"New Team","NEW_WAS_SERVER":"New Wasabee Server","NEWOP BUTTON TITLE":"Create a new Operation","NEWOP BUTTON":"New Op","NO_DT_ITEMS":"No DrawTools drawn items detected","NO_LABEL":"No label set","NO_STOCK_INTEL":"Wasabee doesn\'t support stock intel draw imports","NO_TITLE":"No title set","NO LONGER AVAILABLE":"Resource removed from server: {error}","NO LONGER AVAILABLE SHORT":"Resource removed from server","NOT LOGGED IN SHORT":"Not Logged in","NOT LOGGED IN":"Not Logged in: {error}","NOT_LOADED":"Not fully loaded, try again.","NOT_SET":"not set","NTNAME":"Name","OK":"OK","ON_HAND":"On Hand","ONION_WAS_TAKEN":"Onion","ONION":"Draw","ONLY_DT_IMP":" (only for DrawTools imports)","OP DELETED":"Operation removed from server: {opID}","OP PERM DENIED":"Permission denied to operation: {opID}","OP_CHECKLIST":"Operation Checklist: {opName}","OP_NAME_UNSET":"Operation Name was Unset","OP_PERMS":"Op Permissions","OP_SETTINGS_BUTTON":"Op Settings","OP_SETTINGS_TITLE":"Operation Settings","OPEN_REQUEST":"[open request]","OPER_COLOR":"Operation Color:","OPER_NAME":"Operation Name:","OPERATIONS":"Operations","OPS BUTTON TITLE":"Operations List","OPS BUTTON":"Select OP","ORDER":"Order","OtherPortalAlert":"Other","PASTE_INSTRUCT":"Paste a Wasabee draw export here.\\n\\nWasabee cannot import the stock intel format.\\n\\nThere is experimental support for importing the IITC DrawTools format.\\n\\nBefore importing DrawTools format, preview the areas and make sure all the portals load so IITC has them cached. Any portals that are not pre-cached will be faked.\\n\\nYou will need to use the \'swap\' feature to move anchors from the faked portals to the real portals (they should be in the correct location, just not associated with the portal.\\n\\nCached portals might not be properly named.","pending":"Pending","PERM DENIED":"Permission denied: {error}","PERM DENIED SHORT":"Permission denied","PERMS":"{opName} permissions","PLEASE_SELECT_PORTAL":"Please select a portal","popup.anchor.duplicate":"Duplicate","popup.anchor.keys":"Keys: {onHand} / {required}","popup.anchor.keys_mycount":"Me: {myCount} / {required}","popup.marker.state_button":"Set State","PORTAL KEY LIST":"Key list for portal {portalName}","PORTAL_COUNT":"{count} portals","PORTAL":"Portal","QD BUTTON CHANGE COLOR":"Click to change next links color","QD BUTTON END":"Click to stop drawing fields","QD BUTTON TOGGLE MODE":"Click to change draw mode","QD CHANGE COLOR":"Change color","QD END":"End","QD TITLE":"Quick Draw Layers","QD TOGGLE MODE":"Change mode","QDBASE":"Base Link","QDCONT":"Click a spine portal to draw a field.","QDNEXT":"Click the second anchor portal.","QDSTART":"Click the first anchor portal.","READ_SHORT":"RO","READ":"Read","RechargePortalAlert":"Recharge","REFERENCE_TIME":"Reference Time:","REM_LOC_CP":"Remove local copy of {opName}","REMOVE_TEAM_CONFIRM_LABEL":"Do you want to permenantly remove {teamName} from the Wasabee Server?","REMOVE_TEAM_CONFIRM_TITLE":"Remove Team {teamName}","REMOVE_TEAM":"Remove Team:","REMOVE":"Remove","RENAME_TEAM":"Rename Team:","RENAME":"Rename","REQUIRED":"Required","RESET":"Reset","REVERSE":"Reverse","ROCKS_COM":"enl.rocks community:","ROLE":"Role","SAVELINKS TITLE":"Save Links","SAVELINKS_DRAW":"Save Links","SAVELINKS":"Save Links","SECONDS":" ({seconds} seconds ago)","SEL_SB_ANCHOR":"Select the anchor.","SEL_SB_ANCHOR2":"Zoom out. Make sure portals have all loaded, then click draw.","SEL_SL_ANCHOR":"Select the portal to save the links of. Click save links button and look at checklist.","SEL_SRC_ANC2":"Select both Source and Anchor 2","SEL_SRC_PORT":"Select a source portal","SELECT PORTAL":"Please select a portal first","SELECT_FAN_PORTALS":"Select an anchor portal, a start portal, and an end portal, then position the view over the field area.","SELECT_FAN_PORTALS2":"Wait for all portals to load, then click draw.","SELECT_INSTRUCTIONS":"Select two anchor portals, then zoom over the spine area.","SELECT_ONION_PORTALS":"Layers build from the inside out. Zoom in to center and select starting portal, then zoom out to area.","SELF SWAP":"Cannot swap a portal with itself! Select a different portal.","SEND ANALYTICS":"Send Anonymous Analytics","SEND LOCATION":"Share Location (only when IITC is in foreground)","SEND TARGET AGENT":"Select target recipient","SEND TARGET CONFIRM":"Do you want to send {portalName} target to {agent}?","SEND TARGET":"Send Target","SEND_LOC":"Send Location","SET_3_PORT":"Please set the three portals first!","SET_COMMENT":"Set Comment","SET_LCOMMENT":"Set Link Comment","SET_LINK_COMMENT":"Set comment for link:","SET_LINKS_ZONES":"Set Links to Zones","SET_MARKER_COMMENT":"Set comment for marker on:","SET_MARKER_TYPE_TITLE":"Change marker type","SET_MARKERS_ZONES":"Set Markers to Zones","SET_MCOMMENT":"Set Marker Comment: {portalName}","SET_NEW_OP":"Please Set the New Operation Name","SET_PCOMMENT":"Set Portal Comment: {portalName}","SET_PORT_COMMENT":"Set comment for portal:","SET_PORTAL_COMMENT":"Set Portal Comment","SET":"set","SETTINGS_TOOLBOX":"Wasabee Settings","SETTINGS_TITLE":"Advanced Settings","SKINS_AVAILABLE":"There are {count} available skins.","SKINS_BUTTON":"Configure Skins","SKINS_DESCRIPTION":"Available skin packs are located in the right columns. Move skins you wish to use to the left columns.","SKINS_MANAGE_TITLE":"Manage skins","SKIP_CONFIRM_ALWAYS":"Never ask (use with caution)","SKIP_CONFIRM_ENTITY":"Only ask for team/op","SKIP_CONFIRM_NEVER":"Always ask","SKIP_CONFIRM":"Skip confirmation","SOURCE_PORT":"Source Portal","STARBURST TITLE":"Starburst","STARBURST_DRAW":"Draw","STARBURST":"Starburst","START_PORT":"Start Portal","STATE":"State","SUPPORT_INSTRUCT":"For support, please join the <a href=\'https://enl.rocks/-dEHQ\' target=\'_blank\'>Wasabee User Telegram Channel</a>","SWAP PROMPT":"Do you want to swap:","SWAP TITLE":"Swap Portals","SWAP WITH":" with ","SWAP":"Swap","swap.marker.title":"Swap marker","swap.marker.prompt":"Do you want to swap the marker:","SYNC DONE":"Download Complete <br> <a href=\'https://github.com/wasabee-project/Wasabee-IITC/wiki\' target=\'_blank\'>Click HERE for hints, tips, and documentation.</a>","SYNC":"Download Available Operations","TARGET SENT":"Target sent","TEAM STATE":"Share Location","TEAM_CREATED":"Team {teamName} created","TEAM_NAME":"Team Name","TEAM":"Team","TEAMS BUTTON TITLE":"List Wasabee Teams","TEAMS BUTTON":"Teams","TO_PORT":"To Portal","toolbar.op.filter":"Filters","toolbar.op.redo":"Redo","toolbar.op.title":"Op: {opName}","toolbar.op.undo":"Undo","toolbar.quick_delete.apply.text":"Apply","toolbar.quick_delete.apply.title":"Delete selected links/markers","toolbar.quick_delete.cancel.text":"Cancel","toolbar.quick_delete.cancel.title":"Cancel","toolbar.quick_delete.clear.text":"Clear all","toolbar.quick_delete.clear.title":"Clear all links and markers","toolbar.quick_delete.stop.text":"Stop","toolbar.quick_delete.stop.title":"Exit delete mode","toolbar.quick_delete.title":"Quick delete","toolbar.quick_delete.tooltip.toggle_mode":"Click on features to mark for deletion","toolbar.quick_delete.tooltip.quick_mode":"Click on features to delete instantly","toolbar.quick_draw.tooltip.star_mode.anchor":"Select the star anchor","toolbar.quick_draw.tooltip.star_mode.portal":"Select a portal","toolbar.quick_draw.tooltip.single_mode.first":"Click first portal","toolbar.quick_draw.tooltip.single_mode.next":"Click next portal","toolbar.quick_draw.tooltip.portal_fail":"Portal data not loaded, please try again","toolbar.quick_draw.tooltip.burst.portal":"Select a portal","toolbar.quick_draw.toggle.text":"Mode: {mode}","toolbar.quick_draw.mode.burst":"Burst","toolbar.quick_draw.mode.multilayer":"Multilayer","toolbar.quick_draw.mode.singlelink":"Simple Path","toolbar.quick_draw.mode.starburst":"Star","toolbar.wasabee.settings":"Settings","toolbox.teammates":"Teammates Online","TRAWL SKIP TILES":"Trawl Skip Tiles","TRAWL TITLE":"Trawl Lanes","TRAWL WARNING":"This will load the tile data under all drawn links. This is a slow process.","TRAWL_AUTOMARK":"Auto-mark blockers after trawling","TRAWL_BULK_LOAD_WARNING":"This method loads the tile data as quickly as possible. Use at your own risk.","TRAWL_BULK_LOAD":"Bulk Load Tile Data","TRAWL_CLEAR_MARKERS":"Clear virus/destroy markers before trawling","TRAWL_REMAINING":"{count} tiles remaining","TRAWL":"Trawl for Blockers","TRAWLING":"Trawling the lanes for blockers, close this dialog to stop","TYPE":"Type","UNASSIGNED":"Unassigned","UNKNOWN":"Unknown","UPDATE HOVER":"UPDATE {opName} on the server","UPDATE PERM DENIED":"You do not have permission to update","UPDATE_CONFLICT_DESC":"The OP has been modified on the server since last sync. Do you want to replace the server version with the current one?","UPDATE_CONFLICT_TITLE":"Conflict detected with server","UPDATE_COUNT":"Update Count","UPDATED":"Successfully updated","UpgradePortalAlert":"Upgrade","UPLOAD BUTTON HOVER":"UPLOAD {opName} (not currently on server)","UPLOADED":"Successfully uploaded","USE PANES ON MOBILE":"Use panes (need reload)","USE_VALID_NAME":"Please use a valid operation name","UseVirusPortalAlert":"Use Virus","VRLA DESC":"Depending on the number and type of Link Amps used, a lower source portal level might suffice.","VRLA":"L8+some VRLA","WASABEE BUTTON TITLE":"Wasabee: It is green and makes smurfs cry.","WASABEE_D_LIST":"Input Defensive Key Count","WD BUTTON TITLE":"Log Defensive Keys","WD BUTTON":"W-D Keys","WRITE_SHORT":"RW","WRITE":"write","WSERVER":"Server: {url}","YESNO_DEL":"Are you sure you want to delete {opName}?","ZONE_DRAW":"Click to set the zone boundaries","ZONE":"Zone","smallScreen":{"ADD_LINKS":"+ Links","ADD_MARKER":"+ Marker"}}'),_=JSON.parse('{"ABOUT_WASABEE":"Info su Wasabee","acknowledged":"Ricevuto","ADD LINK TITLE":"Aggiunta Link","ADD MARKER TITLE":"Aggiunta Marker","ADD_AGENT":"Aggiungi Agente:","ADD_BL":"Aggiungi Link all\'indietro:","ADD_BULK":"Aggiungi in blocco","ADD_BUTTON_LINKS":"Aggiungi tutti i link assieme.","ADD_LINKS":"Aggiungi Link","ADD_MARKER":"+ Marker","ADD_NEW_OP":"Aggiungi Nuova Op","ADD_SUCC_INSTR":"Aggiunto con successo","ADD_ZONE":"Aggiungi Zona","ADD":"Aggiungi","ADD1":"Aggiungi primo link","ADD2":"Aggiungi secondo link","AGENT_STATS":"Statistiche Agente","AGENT":"Agente","AGES":" (epoche fa)","ALREADY_HAS_MARKER":"Questo portale ha gi un marker. Scegli un altro portale.","AMAZ_TEAM_NAME":"Fantastico Nome del Team.","ANCHOR ASSIGNMENT":"Assegna tutti i link in uscita a:","ANCHOR_GMAP":"Mappa Google","ANCHOR_PORTAL":"Portale Ancora","ANCHOR_PORTAL2":"Portale Ancora 2","ANCHOR_PORTAL3":"Portale Ancora 3","ANCHOR1":"Ancora 1","ANCHOR2":"Ancora 2","ANCHOR3":"Ancora 3","ANCHORS_AS_BOOKMARKS":"Ancore come bookmark","API_KEY":"Chiave API Rocks:","ASS_TO":"Assegnato a","ASSIGN LINK PROMPT":"Assegna link da: {portalName}","ASSIGN MARKER PROMPT":"Assegna marker da: {portalName}","ASSIGN OUTBOUND PROMPT":"Assegna tutti i link in uscita da: {portalName}","ASSIGN OUTBOUND":"Assegna Link in uscita","ASSIGN":"Assegna","ASSIGNED_ONLY_SHORT":"SA","ASSIGNED_ONLY":"Solo Assegnati","assigned":"Assegnato","AUTH INCOMPAT":"Hai attivato un plugin in TamperMonkey incompatibile con Wasabee","AUTH REQUIRED":"Autenticazione Richiesta","AUTH TOKEN REJECTED":"Invio token di autenticazione rifiutato: {error}","AUTH_SELECT_ACCOUNT":"Seleziona account","AUTO_DRAWS":"Auto-disegna","AUTODRAWS":"Opzioni Wasabee Auto-draw","AUTODRAW_PORTALS_SET":"Portali","autodraw.common.draw_button":"Disegna","autodraw.fanfield.result":"Fanfield ha trovato {links} link e {fields} field per {ap} AP","autodraw.flipflop.result":"Flip flop: trovati {count} link","autodraw.homogeneous.missing_split":"Impossibile trovare {count} suddivisioni, prova meno profondit o una regione diversa","autodraw.homogeneous.order":"Ordina","autodraw.homogeneous.portals_required":"{count} richiesti","autodraw.madrid.auto_determined":"Auto-determinato","autodraw.madrid.balanced":"Bilanciato","autodraw.madrid.result":"Madrid ha trovato {count} strati","autodraw.multimax.result":"Multimax ha trovato {count} strati","autodraw.multimax.result_both_side":"Multimax ha trovato {count1} e {count2} strati","autodraw.onion.variant":"Alternativo","autodraw.onion.variant.equilateral":"~Equilatero","autodraw.onion.variant.grow":"Lascia che cresca","autodraw.onion.variant.balanced":"Perfettamente bilanciato","AUTOLOAD_RATE":"Frequenza Richiesta dettagli Portali (ms)","AUTOLOAD":"Carica Automaticamente Dettagli dei Portali Mancanti","AUTOMARK STOP":"Auto-Mark interrotto, i portali non sono caricati","AUTOMARK":"Auto-Segna","BAT_TOAD":"Rospi da Battaglia","BLOCKER LIST TITLE":"Mostra tutti i bloccanti","BLOCKER TITLE":"Bloccanti","CANCEL":"Annulla","CAPSULE":"Capsula","CapturePortalMarker":"Cattura","CHANGE SERVER PROMPT":"Nuovo Server Wasabee","CHANGE SERVER":"Cambia Server","CHANGE_WAS_SERVER":"Cambia Server Wasabee","CHECKLIST BUTTON TITLE":"Checklist Operazione","CHECKLIST BUTTON":"Checklist","CLEAR LINKS":"Elimina Link","CLEAR MARKERS":"Elimina Marker","CLEAR_EVERYTHING":"Elimina tutti i Portali/Link/Marker","CLEAROPS BUTTON TITLE":"Elimina TUTTI i dati di Wasabee","CLEAROPS BUTTON":"Elimina i dati di Wasabee","CLEAROPS PROMPT":"Questo eliminer tutte le OP e i dati relativi a Wasabee. Saranno ripristinati alla prossima sincronizzazione.","CLOSE":"Chiudi","COMMENT":"Commento","COMPLETED BY":"Completato da {agentName}","completed":"Completato","CON_DEL":"Conferma eliminazione: {opName}","COUNT":"Conteggio","CREATE_NEW_TEAM":"Crea Nuovo Team","CreateLinkAlert":"Linkare","CUR_USER_INFO":"Informazioni utente attuale","D_SHOW_LIST":"Inserisci chiavi difensive","DEFAULT OP NAME":"Nuova Op: {date}","DELETE ANCHOR PROMPT":"Vuoi eliminare quest\'ancora e tutti i link associati:","DELETE ANCHOR TITLE":"Elimina Ancora","DELETE MARKER PROMPT":"Vuoi eliminare questo Marker:","DELETE MARKER TITLE":"Elimina Marker","DELETE_ANCHOR":"Elimina","DELETE_LINK":"Elimina","DELETE_OP":"Eliminare {opName}","DESCRIP_PLACEHOLD":"Descrizione (facoltativo)","DestroyPortalAlert":"Distruggere","dialog.about.download_mobile_app":"<h3>App Wasabee: </h3><div class=\'desc\'><a href=\'https://app.wasabee.rocks\' target=\'_blank\'>Scarica l\'app per gli Agenti sul campo</a></div>","dialog.agent_comment.text":"Comment:","dialog.agent_comment.title":"Imposta commento per {agentName}","dialog.auth.ott.button":"Login con One Time Token","dialog.auth.ott.text":"Ottieni un token dal <a href=\\"{url}\\" target=\\"_blank\\">Server Wasabee</a>, quindi incollalo qui","dialog.auth.ott.title":"One Time Token","dialog.blockers.clear_automark":"Pulisci Automark","dialog.clear_all.text":"Vuoi resettare {opName}?","dialog.clear_all.title":"Pulisci: {opName}","dialog.clear_links.text":"Vuoi rimuovere tutti i link da {opName}?","dialog.clear_links.title":"Pulisci link: {opName}","dialog.clear_markers.text":"Vuoi rimuovere tutti i marker da {opName}?","dialog.clear_markers.title":"Clear Markers: {opName}","dialog.checklist.count_fields":"Conta field","dialog.checklist.count_fields.no_empty":"Trovati {fieldCount} field e nessun field vuoto","dialog.checklist.count_fields.with_empty":"Trovati {fieldCount} field e {emptyCount} field vuoti su {linkCount} link","dialog.checklist.count_fields.link_from_inside":"Trovati {count} link da portali coperti","dialog.checklist.count_fields.link_from_inside.covered_at_order":" a {order} tramite link ","dialog.common.color":"Color","dialog.common.commands":"Comandi","dialog.common.commands_short":"Cmd","dialog.common.delete":"Delete","dialog.common.links":"Links","dialog.common.markers":"Markers","dialog.common.name":"Nome","dialog.common.off":"Off","dialog.common.on":"On","dialog.common.owner":"Proprietario","dialog.common.zone_all":"Tutto","dialog.filter.actions.description":"Apply a change to all visible tasks","dialog.filter.actions.delete_visible":"Delete","dialog.filter.actions.delete_hidden":"Delete all other tasks","dialog.filter.actions.shift.label":"Offset","dialog.filter.actions.shift.button":"Shift","dialog.filter.actions.title":"Actions","dialog.filter.filters.apply":"Apply filters","dialog.filter.filters.description":"Select the properties to filter the tasks you want to see&change.","dialog.filter.filters.field.task":"Task","dialog.filter.filters.field.min_order":"Min order","dialog.filter.filters.field.max_order":"Max order","dialog.filter.filters.title":"Filters","dialog.filter.title":"Filters&Actions","dialog.firebase.setup":"Visita {url} e premi il pulsante per autorizzare gli aggiornamenti live. Dovrai ricaricare IITC.","dialog.import.url":"Importa da URL","dialog.import.success_message":"Importazione completata. Trovati {count} portali e usati {faked} finti. Si prega di utilizzare la funzione di scambio per spostare i portali finti sui portali reali alla stessa posizione. Zoomando sui portali \'Caricamento\' nella checklist potrebbe forzarne il caricamento.","dialog.keys.update_error":"Portal not in op yet, please sync to server first","dialog.leave_team.text":"Se lasci {teamName} non potrai ricollegarti a meno che il proprietario non ti aggiunga nuovamente.","dialog.leave_team.title":"Lascia: {teamName}","dialog.link_list.length":"Lunghezza","dialog.link_list.level":"Livello minimo","dialog.link_list.all_from":"Set all outbound","dialog.link_list.all_to":"Set all inbound","dialog.conflict.cancel_upload":"Cancel upload","dialog.conflict.conflicts":"Conflicts:","dialog.conflict.local":"Local copy","dialog.conflict.server":"Server copy","dialog.conflict.zone":"Zone: {name}","dialog.conflict.prop.assignedTo":"Assign:","dialog.conflict.prop.comment":"Comment:","dialog.conflict.prop.color":"Color:","dialog.conflict.prop.deltaminutes":"Delta:","dialog.conflict.prop.fromPortal":"From:","dialog.conflict.prop.hardness":"Hard:","dialog.conflict.prop.order":"Order:","dialog.conflict.prop.state":"State:","dialog.conflict.prop.toPortal":"To:","dialog.conflict.prop.zone":"Zone:","dialog.conflict.prop.zone_points":"Shape has changed","dialog.online_agents.actions":"Azioni","dialog.online_agents.last_seen":"Ultimo accesso","dialog.online_agents.title":"Agenti Online","dialog.op_settings.advanced":"Advanced","dialog.op_settings.import.desc":"Import links/markers/zones from another OP","dialog.op_settings.import.collision_default":"In case of conflicts, use imported links/markers","dialog.op_settings.import.select_op":"Select OP","dialog.op_settings.import.select_color":"OP link color","dialog.op_settings.import.button":"Import","dialog.op_settings.setting":"Settings","dialog.op_settings.zones":"Zone","dialog.ops_list.background_disable":"Disabilita background","dialog.ops_list.background_enable":"Mostra in background","dialog.ops_list.download":"Scarica {opName}","dialog.ops_list.last_fetched":"Ultimo scarico: {date}","dialog.ops_list.local_change":"Locale modificato","dialog.ops_list.remote_change":"Remoto modificato","dialog.ops_list.toggle_hide":"Toggle Show/Hide","dialog.ops_list.unhide_ops":"Unhide all OPs","dialog.remove_agent.text":"Do you want to remove {agentName} from {teamName}?","dialog.remove_agent.title":"Remove: {agentName}","dialog.setcomment.portal_hardness":"Durezza","dialog.settings.disable_live_updates":"Disable live updates","dialog.team_list.load_wd_keys":"Load W-D Keys","dialog.team_list.share_wd_keys":"Share W-D Keys","dialog.team_manage.join_link":"Join Link","dialog.team_manage.join_link.create":"Create","dialog.team_manage.join_link.revoke":"Revoke","dialog.team_members.location":"Sharing Location","dialog.team_members.wd_keys":"Sharing W-D Keys","dialog.team_message":"Team announcement: {message} from {sender}","dialog.update_warning":"Wasabee is out of date. Please update using your plugin manager or by going to <a href=\'https://wasabee.rocks\'>https://wasabee.rocks</a>","dialog.zone_color.title":"Zone Color","dialog.zone_color.text":"Set the color of all links in zone {zoneName}","dialog.zones.color":"Color","dialog.zones.color_links":"Color links","dialog.zones.delete.title":"Delete zone {zoneName}","dialog.zones.delete.text":"Do you want to delete zone {zoneName} ?","dialog.zones.delete_zone_shape":"Reset the shape","dialog.zones.draw_zone_shape":"Draw the boundaries","dialog.zones.id":"ID","dialog.zones.jump_to":"Jump to zone","dialog.zones.stop_drawing":"Stop drawing","dialog.zones.title":"Zones","DRAW TOOLS FORMAT":"Formato Draw Tools","DUPE_OP":"Duplica Operazione","END_PORT":"Portale di fine ","ExcludeMarker":"Escludi da Auto-Draw/Mark","EXPORT OP TITLE":"Esporta Op attuale","EXPORT OP":"Esporta Op","EXPORT":"Esporta:","FAKED":"Simulato: [{portalId}]","FANFIELD":"Fanfield!","FANFIELD2":"Fanfield","FarmPortalMarker":"Farmare","FLIP_FLOP_NAME":"Flip flop","FLIP_FLOP_TITLE":"Flip flop","FLIP_FLOP_DESC":"Da una data ancora, un insieme di portali visibili e un certo numero di SBUL, trova un fanfield per tirare link dall\'ancora diminuendo la distanza per evitare di cercare chiavi.","FLIP_FLOP_INSTRUCTION":"Seleziona un portale, zooma per vedere abbastanza portali e premi Disegna. Una volta trovato un fanfield, puoi cercare altre ancore per tiri successivi","FLIP_FLOP_FIND_ANCHORS":"Trova altre ancore","FROM_1-2":"dalla base 1-2","FROM_1-3":"dalla base 1-3","FROM_2-3":"dalla base 2-3","FROM_DEPTH":"dalla profondit","FROM_PORT":"Portale di origine","GET DT":"Usa disegno DrawTools esistente","GetKeyPortalMarker":"Ottienere Chiavi","GotoPortalMarker":"Andare A","H-GEN_INST":"Seleziona Portali per lo strato esterno. Scegli il numero di split. Clicca Disegna","HF_DEEP_SEARCH":"Ricerca esaustiva","HF_DRAW_BUTTON":"Disegna","HF_REDRAW_BUTTON":"Ridisegna","HG":"Field Omogeneo","HOURS":" ({hours} ore fa)","HOW_TO_VIDS":"<h3>Video tutorial:</h3><ul><li><a href=\'https://youtu.be/YxHo-5pj0R4\'>0.15 Intro</a></li><li><a href=\'https://www.youtube.com/watch?v=vYZOeqGGyMg\'>Vecchia Intro</li><li><a href=\'https://www.youtube.com/watch?v=6i8vX3O8vG4&t=9s\'>Intro ai Server</a></li><li><a href=\'https://www.youtube.com/watch?v=HomPiLbRsxE\'>Team e Permessi</a></li></ul>","IMP_NOPE":"Importazione Fallita: {error}","IMP_WAS_OP":"Importa Operazione Wasabee","IMPORT_OP_SUCCESS":"Importata Operazione: {opName} con successo.","IMPORT_OP_TITLE":"Importa Op: {date}","IMPORT_OP":"Importa Operazione","IMPOSSIBLE":"Impossibile","INGNAME_GID":"Nome Ingress o GoogleID","INPUT_DT_KEY_COUNT":"Inserisci numero Chiavi difensive","INVALID REQUEST":"Richiesta non valida","IOS NEED FAKE UA":"Devi impostare un \'Custom UserAgent for Webviews\' nelle impostazioni di IITC-Mobile o il login fallir","KEY_LIST2":"Lista Chiavi per Operazione: {opName}","KEYS":"Chiavi","KNOWN_BLOCK":"Bloccanti conosciuti: {opName}","LA DESC":"In base al numero di Link Amp usati, potrebbe bastare un livello del Portale pi basso.","LA":"L8+ qualche LA","LANG":"Lingua","LEAVE":"Esci","LetDecayPortalAlert":"Lasciare Decadere","LINK ASSIGNMENT":"Assegna link a:","LINK STATE PROMPT":"Stato Link","LINK STATE":"Imposta stato link:","LINKS BUTTON TITLE":"Link","LINKS":"Link","LINKS2":"{portalName} : Link ({outgoing}/{incoming})","LOAD PORTALS":"Carica Portali","LOADING":"[caricamento]","LOADING1":"Caricamento: [{portalGuid}]","LOC_PROC":"posizione processata","LOCATION SUB":"Posizione registrata","LOCFRMSER":" (locale e dal server)","LOG IN":"Accedi","LOG_OUT":"Logout","MADRID_SET_1":"Seleziona l\'area per la base da Ancora 2 a Ancora 3","MADRID_SET_2":"Seleziona l\'area per la base da Ancora 3 a Ancora 1","MADRID_SET_3":"Seleziona l\'area per la base da Ancora 1 a Ancora 2","MADRID_TITLE":"Protocollo Madrid","MADRID_WAS_TAKEN":"Protocollo Madrid","MADRID":"Disegna","MANAGE_TEAM":"Gestisci {teamName}","MANAGE":"Gestisci","MARKER ASSIGNMENT":"Assegna marker a:","MARKER LIST TITLE":"Lista Marker","MARKER LIST":"Marker","MARKER STATE PROMPT":"Stato Marker","MARKER STATE":"Imposta stato marker:","MARKER_LIST":"Lista Marker: {opName}","MARKERS BUTTON TITLE":"Marker","MAX_SPLITS":"Pi Split possibili","MAX":"Fan Field","MeetAgentPortalMarker":"Incontrare Agente","MERGE ON UPDATE":"Unisci all\'aggiornamento","MERGE_CHANGES_LOCAL":"Modifiche locali","MERGE_CHANGES_MERGE":"Risultato unione","MERGE_CHANGES_REMOTE":"Modifiche remote","MERGE_LOCAL":"Mantieni in locale","MERGE_MESSAGE":"It seems that {opName} has local changes. Do you want to merge your modifications with the server OP, replace the local version with the server version, or cancel?","MERGE_REBASE":"Rebase","MERGE_REPLACE":"Replace","MERGE_TITLE":"Unisci OP locale e remota","MIN_SRC_PORT_LVL":"Livello minimo richiesto sul portale d\'origine","MINUTES":" ({minutes} minuti fa)","MM":"Multimax","MM_BOTH_SIDE":"Usa entrambi i lati della base","MM_INSERT_ORDER":"Inserisci alla fine","MM_SET_ALL_PORTALS":"Tutti i portali visibili","MM_SET_ALL_KEYS":"Tutti i Marker OttieniChiave","MM_SET_KEYS_ZONE":"OttieniChiave: {zoneName}","MM_SPINE":"Filotto","MULTI_M_TITLE":"Disegna pi strati possibile","MULTI_M":"Disegna","MUST_NOT_BE_EMPTY":"Non pu essere vuoto","MY_CAP_ID":"ID Capsula","MY_COUNT":"Conteggio","NAME_REQ":"Nome Richiesto","NAME":"Nome:","NEW_OP":"Nuova Operazione","NEW_TEAM_NAME":"Nuovo nome Team","NEW_TEAM":"Clicca per creare un nuovo Team","NEW_WAS_SERVER":"Nuovo Server Wasabee","NEWOP BUTTON TITLE":"Crea una nuova Operazione","NEWOP BUTTON":"Nuova Op","NO_DT_ITEMS":"Disegni DrawTools non rilevati","NO_LABEL":"Etichetta non impostata","NO_STOCK_INTEL":"Wasabee non supporta importazioni di disegni dalla intel stock","NO_TITLE":"Titolo non impostato","NO LONGER AVAILABLE":"Risorsa rimossa dal server: {error}","NO LONGER AVAILABLE SHORT":"Risorsa rimossa dal server","NOT LOGGED IN SHORT":"Non loggato","NOT LOGGED IN":"Non loggato: {error}","NOT_LOADED":"Caricamento incompleto, riprova.","NOT_SET":"non impostato","NTNAME":"Nome","OK":"OK","ON_HAND":"Ottenute","ONION_WAS_TAKEN":"Cipolla","ONION":"Disegna","ONLY_DT_IMP":" (solo per importazioni da DrawTools)","OP DELETED":"Operazione rimossa dal server: {opID}","OP PERM DENIED":"Accesso negato all\'operazione: {opID}","OP_CHECKLIST":"Checklist Operazione: {opName}","OP_NAME_UNSET":"Nome Operazione azzerato","OP_PERMS":"Permessi Op","OP_SETTINGS_BUTTON":"Op ","OP_SETTINGS_TITLE":"Impostazioni Operazione","OPEN_REQUEST":"[apri richiesta]","OPER_COLOR":"Colore Operazione:","OPER_NAME":"Nome Operazione:","OPERATIONS":"Operationi","OPS BUTTON TITLE":"Operazioni","OPS BUTTON":"Ops","ORDER":"Ordina","OtherPortalAlert":"Altro","PASTE_INSTRUCT":"Incolla un disegno esportato da Wasabee qui.\\n\\nWasabee non pu importare il formato intel stock.\\n\\nL\'importazione di disegni in formato IITC DrawTools  supportata in modo sperimentale.\\n\\nPrima di importare in formato DrawTools, controlla l\'area e fai in modo che tutti i portali carichino, cos da essere nella cache di IITC. Ogni Portale non nella cache sar \'finto\'.\\n\\nDovrete usare la funzione \'swap\' per spostare le ancore dai portali \'finti\' a quelli veri (dovrebbero essere al posto giusto, solo non associate al Portale).\\n\\nI Portali nella cache potrebbero non avere il giusto nome.","pending":"In corso","PERM DENIED":"Accesso negato: {error}","PERM DENIED SHORT":"Accesso negato","PERMS":"{opName} permessi","PLEASE_SELECT_PORTAL":"Seleziona un portale","popup.anchor.duplicate":"Duplicate","popup.anchor.keys":"Keys: {onHand} / {required}","popup.anchor.keys_mycount":"Me: {myCount} / {required}","popup.marker.state_button":"Set State","PORTAL KEY LIST":"Lista Chiavi per Portale: {portalName}","PORTAL_COUNT":"{count} Portali","PORTAL":"Portale","QD BUTTON CHANGE COLOR":"Clicca per cambiare il colore dei prossimi link","QD BUTTON END":"Clicca per interrompere il disegno dei field","QD BUTTON TOGGLE MODE":"Clicca per cambiare la modalit di disegno","QD CHANGE COLOR":"Cambia colore","QD END":"Fine","QD TITLE":"Disegno Rapido Strati","QD TOGGLE MODE":"Cambia modalit","QDBASE":"Link Base","QDCONT":"Clicca su un portale del filotto per disegnare un field.","QDNEXT":"Clicca il secondo Portale Ancora.","QDSTART":"Clicca il primo Portale Ancora.","READ_SHORT":"SL","READ":"Lettura","RechargePortalAlert":"Ricaricare","REFERENCE_TIME":"Ora riferimento:","REM_LOC_CP":"Elimina copia locale di {opName}","REMOVE_TEAM_CONFIRM_LABEL":"Vuoi eliominare definitivamente {teamName} dal Server Wasabee?","REMOVE_TEAM_CONFIRM_TITLE":"Elimina team {teamName}","REMOVE_TEAM":"Elimina Team:","REMOVE":"Elimina","RENAME_TEAM":"Rinomina Team:","RENAME":"Rinomina","REQUIRED":"Richieste","RESET":"Reset","REVERSE":"Inverti","ROCKS_COM":"community enl.rocks:","ROLE":"Ruolo","SAVELINKS TITLE":"Salva Link","SAVELINKS_DRAW":"Salva Link","SAVELINKS":"Salva Link","SECONDS":" ({seconds} secondi fa)","SEL_SB_ANCHOR":"Imposta l\'ancora.","SEL_SB_ANCHOR2":"Zooma indietro. Assicurati che tutti i Portali siano caricati, poi clicca Disegna.","SEL_SL_ANCHOR":"Seleziona il portale di cui salvare il link. Clicca il pulsante Salva Link e guarda la checklist.","SEL_SRC_ANC2":"Seleziona Origine e Ancora 2","SEL_SRC_PORT":"Seleziona un Portale di Origine","SELECT PORTAL":"Seleziona un portale","SELECT_FAN_PORTALS":"Seleziona un\'ancora, un Portale di inizio e uno di fine, poi zooma su un\'area per il fanfield.","SELECT_FAN_PORTALS2":"Aspetta che i Portali siano caricati, poi clicca Disegna.","SELECT_INSTRUCTIONS":"Seleziona due ancore, poi zooma sul filotto","SELECT_ONION_PORTALS":"Strati creati da dentro a fuori. Zooma sul centro e seleziona il portale di inizio, poi zooma indietro sull\'area.","SELF SWAP":"Non si pu scambiare un portale con se stesso! Seleziona un altro portale.","SEND ANALYTICS":"Invia dati di utilizzo anonimi","SEND LOCATION":"Share Location (only when IITC is in foreground)","SEND TARGET AGENT":"Seleziona destinatario target","SEND TARGET CONFIRM":"Vuoi inviare il target {portalName} a {agent}?","SEND TARGET":"Invia target","SEND_LOC":"Invia posizione","SET_3_PORT":"Imposta prima i tre portali","SET_COMMENT":"Imposta Commento","SET_LCOMMENT":"Imposta commento Link","SET_LINK_COMMENT":"Imposta commento per il link:","SET_LINKS_ZONES":"Imposta Link alle Zone","SET_MARKER_COMMENT":"Imposta commento per il marker su:","SET_MARKER_TYPE_TITLE":"Cambia tipo marker","SET_MARKERS_ZONES":"Imposta Marker alle Zone","SET_MCOMMENT":"Imposta commento Marker: {portalName}","SET_NEW_OP":"Impostare il nuovo Nome Operazione","SET_PCOMMENT":"Imposta commento Portale: {portalName}","SET_PORT_COMMENT":"Imposta il commento per il Portale:","SET_PORTAL_COMMENT":"Imposta commento Portale","SET":"impostato","SETTINGS_TOOLBOX":"Wasabee Settings","SETTINGS_TITLE":"Advanced Settings","SKINS_AVAILABLE":"Sono disponibili {count} skin.","SKINS_BUTTON":"Configura Skin","SKINS_DESCRIPTION":"Gestisci le skin disponibili spostandole nella colonna di sinistra. Le skin pi in basso hanno priorit pi alta sulla UI.","SKINS_MANAGE_TITLE":"Gestisci skin","SKIP_CONFIRM_ALWAYS":"Non chiedere mai (usare con cautela)","SKIP_CONFIRM_ENTITY":"Chiedi solo per squadra/op","SKIP_CONFIRM_NEVER":"Chiedi sempre","SKIP_CONFIRM":"Salta conferma","SOURCE_PORT":"Portale di Origine","STARBURST TITLE":"Starburst ","STARBURST_DRAW":"Disegna","STARBURST":"Starburst","START_PORT":"Portale di Partenza ","STATE":"Stato","SUPPORT_INSTRUCT":"Per assistenza, entrate nel <a href=\'https://t.me/joinchat/DuNYdxhhRPurom1I8VAXmw\' target=\'_blank\'>Canale Telegram per Utenti di Wasabee</a>","SWAP PROMPT":"Vuoi scambiare:","SWAP TITLE":"Scambia portali","SWAP WITH":" con ","SWAP":"Scambia","swap.marker.title":"Swap marker","swap.marker.prompt":"Do you want to swap the marker:","SYNC DONE":"Download Completato <br> <a href=\'https://github.com/wasabee-project/Wasabee-IITC/wiki\' target=\'_blank\'>Fare clic QUI per suggerimenti, suggerimenti e documentazione.</a>","SYNC":"Scarica Operazioni disponibili","TARGET SENT":"Target inviato","TEAM STATE":"Condividi Posizione","TEAM_CREATED":"Team {teamName} creato","TEAM_NAME":"Nome Team","TEAM":"Squadra","TEAMS BUTTON TITLE":"Lista Team Wasabee","TEAMS BUTTON":"Team","TO_PORT":"Al Portale","toolbar.op.filter":"Filters","toolbar.op.redo":"Redo","toolbar.op.title":"Op: {opName}","toolbar.op.undo":"Undo","toolbar.quick_delete.apply.text":"Applica","toolbar.quick_delete.apply.title":"Elimina link/marker selezionati","toolbar.quick_delete.cancel.text":"Annulla","toolbar.quick_delete.cancel.title":"Annulla","toolbar.quick_delete.clear.text":"Clear all","toolbar.quick_delete.clear.title":"Clear all links and markers","toolbar.quick_delete.stop.text":"Stop","toolbar.quick_delete.stop.title":"Esci dalla modalit eliminazione","toolbar.quick_delete.title":"Eliminazione rapida","toolbar.quick_delete.tooltip.toggle_mode":"Clicca sugli oggetti per segnarli \\"da eliminare\\"","toolbar.quick_delete.tooltip.quick_mode":"Clicca sugli oggetti per eliminarli","toolbar.quick_draw.tooltip.star_mode.anchor":"Seleziona l\'ancora della star","toolbar.quick_draw.tooltip.star_mode.portal":"Seleziona un portale","toolbar.quick_draw.tooltip.single_mode.first":"Clicca il primo portale","toolbar.quick_draw.tooltip.single_mode.next":"Clicca il portale successivo","toolbar.quick_draw.tooltip.portal_fail":"Dati portale non caricati, riprova","toolbar.quick_draw.tooltip.burst.portal":"Select a portal","toolbar.quick_draw.toggle.text":"Mode: {mode}","toolbar.quick_draw.mode.burst":"Burst","toolbar.quick_draw.mode.multilayer":"Multilayer","toolbar.quick_draw.mode.singlelink":"Simple Path","toolbar.quick_draw.mode.starburst":"Star","toolbar.wasabee.settings":"Settings","toolbox.teammates":"Teammates Online","TRAWL SKIP TILES":"Salta tile durante controllo","TRAWL TITLE":"Controllo corridoi","TRAWL WARNING":"Verranno caricati i dati delle tile sotto i link disegnati. Sar un processo lento.","TRAWL_AUTOMARK":"Auto-mark dei bloccanti dopo controllo","TRAWL_BULK_LOAD_WARNING":"Questo metodo carica i dati delle tile il pi in fretta possibile. Usalo a tuo rischio.","TRAWL_BULK_LOAD":"Carica dati tile in bulk","TRAWL_CLEAR_MARKERS":"Rimuovi marker virus/destroy prima di ricercare","TRAWL_REMAINING":"{count} tile rimanenti","TRAWL":"Ricerca dettagliata dei Bloccanti","TRAWLING":"Sto controllando i corridoi per Bloccanti, chiudi questo dialogo per fermare.","TYPE":"Tipo","UNASSIGNED":"Non Assegnato","UNKNOWN":"Sconosciuto","UPDATE HOVER":"AGGIORNA {opName} sul server","UPDATE PERM DENIED":"Non hai il permesso di aggiornare","UPDATE_CONFLICT_DESC":"L\'OP  stata modificata sul server dopo la tua ultima sincronizzazione. Vuoi sostituire la versione sul server con la attuale?","UPDATE_CONFLICT_TITLE":"Rilevato conflitto con il server","UPDATE_COUNT":"Aggiorna conteggio","UPDATED":"Aggiornato con successo","UpgradePortalAlert":"Upgradare","UPLOAD BUTTON HOVER":"CARICA {opName} (al momento non sul server)","UPLOADED":"Caricato con successo","USE PANES ON MOBILE":"Usa riquadri (richiede reload)","USE_VALID_NAME":"Usa un nome operazione valido","UseVirusPortalAlert":"Usare Virus","VRLA DESC":"In base al tipo e al numero di Link Amp usati, potrebbe bastare un portale di origine di livello pi basso.","VRLA":"L8+qualche VRLA","WASABEE BUTTON TITLE":"Wasabee:  verde e fa piangere i puffi.","WASABEE_D_LIST":"Inserisci numero chiavi difensive","WD BUTTON TITLE":"Registra chiavi difensive","WD BUTTON":"Chiavi W-D","WRITE_SHORT":"LS","WRITE":"scrittura","WSERVER":"Server: {url}","YESNO_DEL":"Sei sicuro di voler eliminare {opName}?","ZONE_DRAW":"Clicca per impostare i confini della zona","ZONE":"Area","smallScreen":{"ADD_LINKS":"+ Link","ADD_MARKER":"+ Marker"}}'),w=JSON.parse('{"ABOUT_WASABEE":"Tungkol sa Wasabee","acknowledged":"Natanggap","ADD LINK TITLE":"Magdagdag ng Links","ADD MARKER TITLE":"Magdagdag ng Markers","ADD_AGENT":"Magdagdag ng Agent:","ADD_BL":"Magdagdag ng Back Links:","ADD_BULK":"Maramihang idagdag","ADD_BUTTON_LINKS":"Sabay-sabay idagdag ang lahat ng link","ADD_LINKS":"Magdagdag ng Link","ADD_MARKER":"Magdagdag ng Marker","ADD_NEW_OP":"Magdagdag ng Bagong Op","ADD_SUCC_INSTR":"Matagumpay na naidagdag","ADD_ZONE":"Add Zone","ADD":"Magdagdag","ADD1":"Add first link","ADD2":"Add second link","AGENT_STATS":"Agent Stats","AGENT":"Agent","AGES":" (matagal na panahon)","ALREADY_HAS_MARKER":"May Marker ang portal na ito. Pumili ng ibang portal.","AMAZ_TEAM_NAME":"Malupet na Pangalan ng Pangkat","ANCHOR ASSIGNMENT":"Assign all outbound links to:","ANCHOR_GMAP":"Google Map","ANCHOR_PORTAL":"Anchor Portal","ANCHOR_PORTAL2":"Anchor Portal 2","ANCHOR_PORTAL3":"Anchor Portal 3","ANCHOR1":"Anchor 1","ANCHOR2":"Anchor 2","ANCHOR3":"Anchor 3","ANCHORS_AS_BOOKMARKS":"Anchors as bookmarks","API_KEY":"Rocks API key:","ASS_TO":"Nakatalaga kay","ASSIGN LINK PROMPT":"Magatalaga ng link mula: {portalName}","ASSIGN MARKER PROMPT":"Magtalaga ng marker mula: {portalName}","ASSIGN OUTBOUND PROMPT":"I-Talaga lahat ng outbound links mula: {portalName}","ASSIGN OUTBOUND":"Magtalaga ng Outbound Links","ASSIGN":"Italaga","ASSIGNED_ONLY_SHORT":"AO","ASSIGNED_ONLY":"Assigned Only","assigned":"Naitalaga","AUTH INCOMPAT":"May ginagamit kang plugin sa TamperMonkey na hindi angkop sa Wasabee","AUTH REQUIRED":"Kailangan ng Authentication","AUTH TOKEN REJECTED":"Pagpapadala ng auth token sa server natanggihan {error}","AUTH_SELECT_ACCOUNT":"Select account","AUTO_DRAWS":"Auto-draw","AUTODRAWS":"Wasabee Auto-draw Options","AUTODRAW_PORTALS_SET":"Portals","autodraw.common.draw_button":"Draw","autodraw.fanfield.result":"Fanfield found {links} links and {fields} fields for {ap} AP","autodraw.flipflop.result":"Flip flop: found {count} links","autodraw.homogeneous.missing_split":"Unable to find {count} splits, try less depth or a different region","autodraw.homogeneous.order":"Order","autodraw.homogeneous.portals_required":"{count} required","autodraw.madrid.auto_determined":"Auto-determined","autodraw.madrid.balanced":"Balanced","autodraw.madrid.result":"Madrid found {count} layers","autodraw.multimax.result":"Multimax found {count} layers","autodraw.multimax.result_both_side":"Multimax found {count1} and {count2} layers","autodraw.onion.variant":"Option","autodraw.onion.variant.equilateral":"~Equilateral","autodraw.onion.variant.grow":"Let it grow","autodraw.onion.variant.balanced":"Perfectly balanced","AUTOLOAD_RATE":"Portal Detail Request Rate (ms)","AUTOLOAD":"Automatically Load Missing Portal Details","AUTOMARK STOP":"Itinigil ang pag Auto-Mark dahil hindi maiload ang mga portals","AUTOMARK":"Auto-Mark","BAT_TOAD":"Battle Toads","BLOCKER LIST TITLE":"Ipakita ang lahat ng blockers","BLOCKER TITLE":"Blockers","CANCEL":"Kanselahin","CAPSULE":"Capsule","CapturePortalMarker":"Kuhanin","CHANGE SERVER PROMPT":"Bagong Wasabee Server","CHANGE SERVER":"Magpalit ng Server","CHANGE_WAS_SERVER":"Ipalit ang Wasabee Server","CHECKLIST BUTTON TITLE":"Listahan ng Operasyon","CHECKLIST BUTTON":"Listahan","CLEAR LINKS":"Clear Links","CLEAR MARKERS":"Clear Markers","CLEAR_EVERYTHING":"Burahin Portals/Links/Markers","CLEAROPS BUTTON TITLE":"Burahin lahat ng locally stored na operasyon","CLEAROPS BUTTON":"Burahin Local Ops","CLEAROPS PROMPT":"Nais mo bang tangalin ang lahat ng opersyon sa local storage? Ang mga Ops na nakalagay sa server ay mababawi sa susunod na sync.","CLOSE":"Close","COMMENT":"Komentaryo","COMPLETED BY":"Nakumpleto ni {agentName}","completed":"Naikumpleto","CON_DEL":"Kumpirmahin ang Pagtangal: {opName}","COUNT":"Bilang","CREATE_NEW_TEAM":"Magbuo ng bagong Pangkat","CreateLinkAlert":"Link","CUR_USER_INFO":"Kasalukuyang Impormasyon ng User","D_SHOW_LIST":"Ipasok ang Defensive Keys","DEFAULT OP NAME":"Bagong Op {date}","DELETE ANCHOR PROMPT":"Gusto mo bang tangalin ang anchor na ito at ang lahat ng links na nakakabit:","DELETE ANCHOR TITLE":"Tanggalin ang Anchor","DELETE MARKER PROMPT":"Gusto mo bang tangalin ang marker na ito:","DELETE MARKER TITLE":"Tanggalin ang Marker","DELETE_ANCHOR":"Tangalin","DELETE_LINK":"Tangalin","DELETE_OP":"Tangalin {opName}","DESCRIP_PLACEHOLD":"Description (opsyonal)","DestroyPortalAlert":"Sirain","dialog.about.download_mobile_app":"<h3>Wasabee App: </h3><div class=\'desc\'><a href=\'https://app.wasabee.rocks\' target=\'_blank\'>Download the ground Agents application</a></div>","dialog.agent_comment.text":"Comment:","dialog.agent_comment.title":"Set comment for {agentName}","dialog.auth.ott.button":"One Time Token Login","dialog.auth.ott.text":"Get a token from the <a href=\\"{url}\\" target=\\"_blank\\">Wasabee Server</a>, then paste it here","dialog.auth.ott.title":"One Time Token","dialog.blockers.clear_automark":"Clear Automark","dialog.clear_all.text":"Do you want to reset {opName}?","dialog.clear_all.title":"Clear: {opName}","dialog.clear_links.text":"Do you want to remove all links from {opName}?","dialog.clear_links.title":"Clear Links: {opName}","dialog.clear_markers.text":"Do you want to remove all markers from {opName}?","dialog.clear_markers.title":"Clear Markers: {opName}","dialog.checklist.count_fields":"Count fields","dialog.checklist.count_fields.no_empty":"Found {fieldCount} fields and no empty field","dialog.checklist.count_fields.with_empty":"Found {fieldCount} fields and {emptyCount} empty field(s) on {linkCount} link(s)","dialog.checklist.count_fields.link_from_inside":"Found {count} links from covered portals","dialog.checklist.count_fields.link_from_inside.covered_at_order":" at {order} by link ","dialog.common.color":"Color","dialog.common.commands":"Commands","dialog.common.commands_short":"Cmds","dialog.common.delete":"Delete","dialog.common.links":"Links","dialog.common.markers":"Markers","dialog.common.name":"Name","dialog.common.off":"Off","dialog.common.on":"On","dialog.common.owner":"Owner","dialog.common.zone_all":"All","dialog.filter.actions.description":"Apply a change to all visible tasks","dialog.filter.actions.delete_visible":"Delete","dialog.filter.actions.delete_hidden":"Delete all other tasks","dialog.filter.actions.shift.label":"Offset","dialog.filter.actions.shift.button":"Shift","dialog.filter.actions.title":"Actions","dialog.filter.filters.apply":"Apply filters","dialog.filter.filters.description":"Select the properties to filter the tasks you want to see&change.","dialog.filter.filters.field.task":"Task","dialog.filter.filters.field.min_order":"Min order","dialog.filter.filters.field.max_order":"Max order","dialog.filter.filters.title":"Filters","dialog.filter.title":"Filters&Actions","dialog.firebase.setup":"Visit {url} and press the button to authorize live updates. You will need to reload IITC afterward.","dialog.import.url":"Fill from URL","dialog.import.success_message":"Import Complete. Found {count} portals and used {faked} faked. Please use the swap feature to move faked portals to the real portals at the same location. Zooming in on the \'Loading\' portals in the checklist might force them to load.","dialog.keys.update_error":"Portal not in op yet, please sync to server first","dialog.leave_team.text":"If you leave {teamName} you cannot rejoin unless the owner re-adds you.","dialog.leave_team.title":"Leave: {teamName}","dialog.link_list.length":"Length","dialog.link_list.level":"Min Lvl","dialog.link_list.all_from":"Set all outbound","dialog.link_list.all_to":"Set all inbound","dialog.conflict.cancel_upload":"Cancel upload","dialog.conflict.conflicts":"Conflicts:","dialog.conflict.local":"Local copy","dialog.conflict.server":"Server copy","dialog.conflict.zone":"Zone: {name}","dialog.conflict.prop.assignedTo":"Assign:","dialog.conflict.prop.comment":"Comment:","dialog.conflict.prop.color":"Color:","dialog.conflict.prop.deltaminutes":"Delta:","dialog.conflict.prop.fromPortal":"From:","dialog.conflict.prop.hardness":"Hard:","dialog.conflict.prop.order":"Order:","dialog.conflict.prop.state":"State:","dialog.conflict.prop.toPortal":"To:","dialog.conflict.prop.zone":"Zone:","dialog.conflict.prop.zone_points":"Shape has changed","dialog.online_agents.actions":"Actions","dialog.online_agents.last_seen":"Last Seen","dialog.online_agents.title":"Online Agents","dialog.op_settings.advanced":"Advanced","dialog.op_settings.import.desc":"Import links/markers/zones from another OP","dialog.op_settings.import.collision_default":"In case of conflicts, use imported links/markers","dialog.op_settings.import.select_op":"Select OP","dialog.op_settings.import.select_color":"OP link color","dialog.op_settings.import.button":"Import","dialog.op_settings.setting":"Settings","dialog.op_settings.zones":"Zones","dialog.ops_list.background_disable":"Disable background","dialog.ops_list.background_enable":"Show in background","dialog.ops_list.download":"Download {opName}","dialog.ops_list.last_fetched":"Last fetched: {date}","dialog.ops_list.local_change":"Local has changed","dialog.ops_list.remote_change":"Remote has changed","dialog.ops_list.toggle_hide":"Toggle Show/Hide","dialog.ops_list.unhide_ops":"Unhide all OPs","dialog.remove_agent.text":"Do you want to remove {agentName} from {teamName}?","dialog.remove_agent.title":"Remove: {agentName}","dialog.setcomment.portal_hardness":"Hardness","dialog.settings.disable_live_updates":"Disable live updates","dialog.team_list.load_wd_keys":"Load W-D Keys","dialog.team_list.share_wd_keys":"Share W-D Keys","dialog.team_manage.join_link":"Join Link","dialog.team_manage.join_link.create":"Create","dialog.team_manage.join_link.revoke":"Revoke","dialog.team_members.location":"Sharing Location","dialog.team_members.wd_keys":"Sharing W-D Keys","dialog.team_message":"Team announcement: {message} from {sender}","dialog.update_warning":"Wasabee is out of date. Please update using your plugin manager or by going to <a href=\'https://wasabee.rocks\'>https://wasabee.rocks</a>","dialog.zone_color.title":"Zone Color","dialog.zone_color.text":"Set the color of all links in zone {zoneName}","dialog.zones.color":"Color","dialog.zones.color_links":"Color links","dialog.zones.delete.title":"Delete zone {zoneName}","dialog.zones.delete.text":"Do you want to delete zone {zoneName} ?","dialog.zones.delete_zone_shape":"Reset the shape","dialog.zones.draw_zone_shape":"Draw the boundaries","dialog.zones.id":"ID","dialog.zones.jump_to":"Jump to zone","dialog.zones.stop_drawing":"Stop drawing","dialog.zones.title":"Zones","DRAW TOOLS FORMAT":"Draw Tools Format","DUPE_OP":"Kopyahin ang Operasyon","END_PORT":"End Portal ","ExcludeMarker":"Ibukod sa Auto-Draw/Pag-marka","EXPORT OP TITLE":"I-Export ang kasalukuyang op","EXPORT OP":"I-Export ang Op","EXPORT":"Export:","FAKED":"Faked: [{portalId}]","FANFIELD":"Guhit","FANFIELD2":"Iguhit ang Fanfield","FarmPortalMarker":"Farm","FLIP_FLOP_NAME":"Flip flop","FLIP_FLOP_TITLE":"Flip flop","FLIP_FLOP_DESC":"From a given anchor, a set of visible portal and a number of SBUL, find a fanfield to throw links from the anchor by decreasing distance to avoid searching keys.","FLIP_FLOP_INSTRUCTION":"Select a portal, zoom to see enough portals and press Draw. Once a fanfield is found, you can search for other anchors for consecutive rethrow","FLIP_FLOP_FIND_ANCHORS":"Find other anchors","FROM_1-2":"from base 1-2","FROM_1-3":"from base 1-3","FROM_2-3":"from base 2-3","FROM_DEPTH":"from the depth","FROM_PORT":"Mula sa Portal","GET DT":"Get existing DrawTools draw","GetKeyPortalMarker":"Kunin ang Keys","GotoPortalMarker":"Pumunta","H-GEN_INST":"Set portals for the outside layer. Choose number of splits. Click draw","HF_DEEP_SEARCH":"Exhaustive search","HF_DRAW_BUTTON":"Draw","HF_REDRAW_BUTTON":"Redraw","HG":"Homogeneous Field","HOURS":" ({hours} oras nakalipas)","HOW_TO_VIDS":"<h3>How-To Videos:</h3><ul><li><a href=\'https://youtu.be/YxHo-5pj0R4\'>Intro</a></li><li><a href=\'https://www.youtube.com/watch?v=vYZOeqGGyMg\'>Lumang Intro</li><li><a href=\'https://www.youtube.com/watch?v=6i8vX3O8vG4&t=9s\'>Server Intro</a></li><li><a href=\'https://www.youtube.com/watch?v=HomPiLbRsxE\'>Pangkat at Permisyo</a></li></ul>","IMP_NOPE":"Pag-I-Import Hindi Matagumpay: {error}","IMP_WAS_OP":"I-Import ang Wasabee operasyon","IMPORT_OP_SUCCESS":"Na-Import na Operasyon: {opName} Matagumpay.","IMPORT_OP_TITLE":"Na-Import na Op: {date}","IMPORT_OP":"I-Import ang Operasyon","IMPOSSIBLE":"Imposible","INGNAME_GID":"Pangalan sa Ingress o GoogleID","INPUT_DT_KEY_COUNT":"Ilagay ang Bilang ng Pangharang na Keys","INVALID REQUEST":"Hindi wastong Request","IOS NEED FAKE UA":"Kailangang pumili ng \'Custom UserAgent for Webviews\' sa IITC-Mobile settings para makapag-login ng maayos","KEY_LIST2":"Litahan ng Keys para sa Operation: {opName}","KEYS":"Keys","KNOWN_BLOCK":"Nalalamang Blockers: {opName}","LA DESC":"Depende sa dami at uri ng Link Amps, ang mas mababang panimulang portal level ay maaaring piliin.","LA":"L8 at ilang LA","LANG":"Wika","LEAVE":"Ialis","LetDecayPortalAlert":"Ipa-decay","LINK ASSIGNMENT":"Assign link to:","LINK STATE PROMPT":"estado ng Link","LINK STATE":"Set link status:","LINKS BUTTON TITLE":"Links","LINKS":"Links","LINKS2":"{portalName} : Links ({outgoing}/{incoming})","LOAD PORTALS":"Load Portals","LOADING":"[loading]","LOADING1":"Loading: [{portalGuid}]","LOC_PROC":"Lokasyon nai-proseso","LOCATION SUB":"Nairehistro ang lokasyon","LOCFRMSER":" (locally at sa server)","LOG IN":"Mag Log In","LOG_OUT":"Log Out","MADRID_SET_1":"Select the region for baselink Anchor 2 to Anchor 3","MADRID_SET_2":"Select the region for baselink Anchor 3 to Anchor 1","MADRID_SET_3":"Select the region for baselink Anchor 1 to Anchor 2","MADRID_TITLE":"Madrid Protocol","MADRID_WAS_TAKEN":"Madrid Protocol","MADRID":"Draw","MANAGE_TEAM":"Ipamahala {teamName}","MANAGE":"Ipamahala","MARKER ASSIGNMENT":"Assign marker to:","MARKER LIST TITLE":"Listahan ng Marker","MARKER LIST":"Markers","MARKER STATE PROMPT":"Estado ng Marker","MARKER STATE":"Set marker state:","MARKER_LIST":"Listahan ng Marker: {opName}","MARKERS BUTTON TITLE":"Markers","MAX_SPLITS":"Max Splits","MAX":"Fan Field","MeetAgentPortalMarker":"Kitain ang Agent","MERGE ON UPDATE":"Merge on update","MERGE_CHANGES_LOCAL":"Local changes","MERGE_CHANGES_MERGE":"Merge result","MERGE_CHANGES_REMOTE":"Remote changes","MERGE_LOCAL":"Keep local","MERGE_MESSAGE":"It seems that {opName} has local changes. Do you want to merge your modifications with the server OP, replace the local version with the server version, or cancel?","MERGE_REBASE":"Rebase","MERGE_REPLACE":"Replace","MERGE_TITLE":"Merge local&remote OP","MIN_SRC_PORT_LVL":"Pinakamababang level kailangan sa on panimulang portal","MINUTES":" ({minutes} minutong nakalipas)","MM":"Multimax","MM_BOTH_SIDE":"Use both base sides","MM_INSERT_ORDER":"Insert at the end","MM_SET_ALL_PORTALS":"All visible portals","MM_SET_ALL_KEYS":"All GetKey Markers","MM_SET_KEYS_ZONE":"GetKey: {zoneName}","MM_SPINE":"Spine","MULTI_M_TITLE":"Gumuhit ng Max Layers","MULTI_M":"Multimax","MUST_NOT_BE_EMPTY":"Hindi maari na walang laman","MY_CAP_ID":"Aking Capsule ID","MY_COUNT":"Aking Bilang","NAME_REQ":"Kilanakailangan ng Pangalan","NAME":"Pangalan:","NEW_OP":"Bagong Operasyon","NEW_TEAM_NAME":"Bagong Pangalan ng Pangkat","NEW_TEAM":"New Team","NEW_WAS_SERVER":"Bagong Waasbee Server","NEWOP BUTTON TITLE":"Bumuo ng bagong Operasyon","NEWOP BUTTON":"Bagong Op","NO_DT_ITEMS":"Walang DrawTools drawn items na nakita","NO_LABEL":"Walang tatak","NO_STOCK_INTEL":"Hindi suportado ng Wasabee ang stock intel draw imports","NO_TITLE":"Walang Pamagat","NO LONGER AVAILABLE":"Resource removed from server: {error}","NO LONGER AVAILABLE SHORT":"Resource removed from server","NOT LOGGED IN SHORT":"Hindi naka-Logged in","NOT LOGGED IN":"Hindi naka-Logged in {error}","NOT_LOADED":"Hindi nai-load, ulitin muli.","NOT_SET":"hindi naitalaga","NTNAME":"Pangalan","OK":"OK","ON_HAND":"On Hand","ONION_WAS_TAKEN":"Onion","ONION":"Draw","ONLY_DT_IMP":" (para lang sa DrawTools imports)","OP DELETED":"Operation removed from server: {opID}","OP PERM DENIED":"Walang pahintulot sa operasyon {opID}","OP_CHECKLIST":"Checklist ng Operasyon: {opName}","OP_NAME_UNSET":"Pangalan ng operasyon ay tinangal","OP_PERMS":"Permisyo sa Op","OP_SETTINGS_BUTTON":"Op ","OP_SETTINGS_TITLE":"Operation Settings","OPEN_REQUEST":"[open request]","OPER_COLOR":"Kulay ng Operasyon:","OPER_NAME":"Pangalan ng Operasyon:","OPERATIONS":"Mga Operasyon","OPS BUTTON TITLE":"Operasyon","OPS BUTTON":"Ops","ORDER":"Kaayusan","OtherPortalAlert":"Iba","PASTE_INSTRUCT":"I-Paste ang Wasabee draw export dito.\\n\\nHindi ma-import ng Wasabee ang stock intel format.\\n\\nMerong experimental na suporta para sa pag-import ng IITC DrawTools format.\\n\\nBago i-import ang DrawTools format, tignan ang mga areas at siguraduhing lahat ng portals naka-load para naka-cached ito sa IITC. Ang mga portals na hindi pre-cached ay that are not pre-cached ay ipapalit ng \'fake\' portal.\\n\\nKailangan mong gamitin ang \'Ipagpalit\' feature para ipatlit ang mga anchor mula sa fake portal sa tamang portal. (ang portal ay dapat nasa tamang lokasyon.\\n\\nAng mga pangalan ng naka-Cached na portals ay hindi maaring nakapangalan ng tama.)","pending":"Nakabinbin","PERM DENIED":"Walang pahintulot: {error}","PERM DENIED SHORT":"Walang pahintulot","PERMS":"{opName} permisyo","PLEASE_SELECT_PORTAL":"Pumili ng portal","popup.anchor.duplicate":"Duplicate","popup.anchor.keys":"Keys: {onHand} / {required}","popup.anchor.keys_mycount":"Me: {myCount} / {required}","popup.marker.state_button":"Set State","PORTAL KEY LIST":"Listahan ng Key para sa Portal {portalName}","PORTAL_COUNT":"{count} portals","PORTAL":"Portal","QD BUTTON CHANGE COLOR":"Click to change next links color","QD BUTTON END":"I-Click para tapusin ang pagukit ng fields","QD BUTTON TOGGLE MODE":"Click to change draw mode","QD CHANGE COLOR":"Change color","QD END":"Wakas","QD TITLE":"Mabilisang Pagukit ng Layers","QD TOGGLE MODE":"Change mode","QDBASE":"Base Link","QDCONT":"I-Click ang mga spine portal para I-drawing ang field.","QDNEXT":"I-Click ang pangalawang anchor portal.","QDSTART":"I-Click ang unang anchor portal.","READ_SHORT":"RO","READ":"basahin","RechargePortalAlert":"Recharge","REFERENCE_TIME":"Reference Time:","REM_LOC_CP":"Tangalin ang local copy ng {opName}","REMOVE_TEAM_CONFIRM_LABEL":"Gusto mong permanenteng tanggalin {teamName} sa Wasabee Server?","REMOVE_TEAM_CONFIRM_TITLE":"Tanggalin Pangkat {teamName}","REMOVE_TEAM":"Tanggalin Pangkat:","REMOVE":"Tangalin","RENAME_TEAM":"Palitan ang Pangalan ng Pangkat:","RENAME":"Palitan ang Pangalan","REQUIRED":"Kinakailangan","RESET":"Reset","REVERSE":"Reverse","ROCKS_COM":"enl.rocks community:","ROLE":"Papel","SAVELINKS TITLE":"Save Links","SAVELINKS_DRAW":"Save Links","SAVELINKS":"Save Links","SECONDS":" ({seconds} segundong nakalipas)","SEL_SB_ANCHOR":"Pillin ang anchor, I-zoom sa area para dagdagan sa starburst","SEL_SB_ANCHOR2":"Zoom out. Make sure portals have all loaded, then click draw.","SEL_SL_ANCHOR":"Select the portal to save the links of. Click save links button and look at checklist.","SEL_SRC_ANC2":"Piliin ang Panimula at Anchor 2","SEL_SRC_PORT":"Pumili ng panimulang portal","SELECT PORTAL":"Piliin ang portal na ipapadala","SELECT_FAN_PORTALS":"Pumili ng mga anchor portals, (isang panimulang portal at panghuling portal) tapos i-zoom in sa lugar na i-fan field, hintayin na mag load ang mga portals (dapat nasa screen ang mga portals) at pindutin ang Fanfield button.","SELECT_FAN_PORTALS2":"Wait for all portals to load, then click draw.","SELECT_INSTRUCTIONS":"Pumili ng dalawang anchor portals, tapos i-zoom in sa lugar para sa spine, hintayin mag-load ang mga portals (dapat nasa screen ang mga portals para gumana) tapos pindutin ang Multimax button.","SELECT_ONION_PORTALS":"Layers build from the inside out. Zoom in to center and select starting portal, then zoom out to area.","SELF SWAP":"Hindi maaari ipagpalit ang portal sa sarili! Pumili ng ibang portal.","SEND ANALYTICS":"Send Anonymous Analytics","SEND LOCATION":"Share Location (only when IITC is in foreground)","SEND TARGET AGENT":"Select target recipient","SEND TARGET CONFIRM":"Gusto mong ipadala ang {portalName} target sa {agent}?","SEND TARGET":"Ipadala ang Target","SEND_LOC":"Ipalada ang Lokasyon","SET_3_PORT":"Pumili muna ng tatlong portals!","SET_COMMENT":"Magatalaga ng Komentayro","SET_LCOMMENT":"Italaga ang commento sa Link","SET_LINK_COMMENT":"Komento para sa link:","SET_LINKS_ZONES":"Set Links to Zones","SET_MARKER_COMMENT":"Komento para sa marker:","SET_MARKER_TYPE_TITLE":"Change marker type","SET_MARKERS_ZONES":"Set Markers to Zones","SET_MCOMMENT":"Italaga ang commento sa Marker: {portalName}","SET_NEW_OP":"Bigyan ng pangalan ang bagong operasyon","SET_PCOMMENT":"Italaga ang commento sa Portal: {portalName}","SET_PORT_COMMENT":"Komento para sa portal:","SET_PORTAL_COMMENT":"Magtalaga komento sa portal","SET":"italaga","SETTINGS_TOOLBOX":"Wasabee Settings","SETTINGS_TITLE":"Advanced Settings","SKINS_AVAILABLE":"There are {count} available skins.","SKINS_BUTTON":"Configure Skins","SKINS_DESCRIPTION":"Available skin packs are located in the right columns. Move skins you wish to use to the left columns.","SKINS_MANAGE_TITLE":"Manage skins","SKIP_CONFIRM_ALWAYS":"Never ask (use with caution)","SKIP_CONFIRM_ENTITY":"Only ask for team/op","SKIP_CONFIRM_NEVER":"Always ask","SKIP_CONFIRM":"Skip confirmation","SOURCE_PORT":"Source Portal","STARBURST TITLE":"Starburst ","STARBURST_DRAW":"Iguhit","STARBURST":"Starburst","START_PORT":"Panimulang Portal","STATE":"Estado","SUPPORT_INSTRUCT":"Para sa karagdagang tulong, sumali sa <a href=\'https://t.me/joinchat/B7_3JE8Qfm_XBgP896sOgQ\' target=\'_blank\'>Ang Wasabee User Telegram Channel</a>","SWAP PROMPT":"Gusto mo ba ipagpalit:","SWAP TITLE":"Ipagpalit ang Portals","SWAP WITH":" sa ","SWAP":"Ipagpalit","swap.marker.title":"Swap marker","swap.marker.prompt":"Do you want to swap the marker:","SYNC DONE":"Matagumpay na i-Download <br> <a href=\'https://github.com/wasabee-project/Wasabee-IITC/wiki\' target=\'_blank\'>Mag-click DITO para sa mga pahiwatig, tip, at dokumentasyon.</a>","SYNC":"I-Download ang Matatamo na mga Operasyon","TARGET SENT":"Naipadala ang Target","TEAM STATE":"Share Location","TEAM_CREATED":"Pangkat {teamName} nabuo","TEAM_NAME":"Pangalan ng Pangkat","TEAM":"Pangkat","TEAMS BUTTON TITLE":"I-Lista mga Wasabee Pangkat","TEAMS BUTTON":"Pangkat","TO_PORT":"Papunta sa Portal","toolbar.op.filter":"Filters","toolbar.op.redo":"Redo","toolbar.op.title":"Op: {opName}","toolbar.op.undo":"Undo","toolbar.quick_delete.apply.text":"Apply","toolbar.quick_delete.apply.title":"Delete selected links/markers","toolbar.quick_delete.cancel.text":"Cancel","toolbar.quick_delete.cancel.title":"Cancel","toolbar.quick_delete.clear.text":"Clear all","toolbar.quick_delete.clear.title":"Clear all links and markers","toolbar.quick_delete.stop.text":"Stop","toolbar.quick_delete.stop.title":"Exit delete mode","toolbar.quick_delete.title":"Quick delete","toolbar.quick_delete.tooltip.toggle_mode":"Click on features to mark for deletion","toolbar.quick_delete.tooltip.quick_mode":"Click on features to delete instantly","toolbar.quick_draw.tooltip.star_mode.anchor":"Select the star anchor","toolbar.quick_draw.tooltip.star_mode.portal":"Select a portal","toolbar.quick_draw.tooltip.single_mode.first":"Click first portal","toolbar.quick_draw.tooltip.single_mode.next":"Click next portal","toolbar.quick_draw.tooltip.portal_fail":"Portal data not loaded, please try again","toolbar.quick_draw.tooltip.burst.portal":"Select a portal","toolbar.quick_draw.toggle.text":"Mode: {mode}","toolbar.quick_draw.mode.burst":"Burst","toolbar.quick_draw.mode.multilayer":"Multilayer","toolbar.quick_draw.mode.singlelink":"Simple Path","toolbar.quick_draw.mode.starburst":"Star","toolbar.wasabee.settings":"Settings","toolbox.teammates":"Teammates Online","TRAWL SKIP TILES":"Trawl Skip Tiles","TRAWL TITLE":"Trawl Lanes","TRAWL WARNING":"This will load the tile data under all drawn links. This is a slow process.","TRAWL_AUTOMARK":"Auto-mark blockers after trawling","TRAWL_BULK_LOAD_WARNING":"This method loads the tile data as quickly as possible. Use at your own risk.","TRAWL_BULK_LOAD":"Bulk Load Tile Data","TRAWL_CLEAR_MARKERS":"Clear virus/destroy markers before trawling","TRAWL_REMAINING":"{count} tiles remaining","TRAWL":"Trawl for Blockers","TRAWLING":"Trawling the lanes for blockers, close this dialog to stop","TYPE":"Uri","UNASSIGNED":"Hindi Nakatalaga","UNKNOWN":"Nakatago","UPDATE HOVER":"UPDATE {opName} sa server","UPDATE PERM DENIED":"Walang pahintulot para sa pag-update","UPDATE_CONFLICT_DESC":"The OP has been modified on server since last sync. Do you want to replace the server version by the current one?","UPDATE_CONFLICT_TITLE":"Conflict detected with server","UPDATE_COUNT":"I-Update ang bilang","UPDATED":"Matagumpay na i-update","UpgradePortalAlert":"Upgrade","UPLOAD BUTTON HOVER":"UPLOAD {opName} (kasalukuyang wala sa server)","UPLOADED":"Matagumpay na i-upload","USE PANES ON MOBILE":"Use panes (need reload)","USE_VALID_NAME":"Gumamit ng naaayon na pangalan ng operasyon","UseVirusPortalAlert":"Gumamit ng Virus","VRLA DESC":"Depende sa dami at uri ng Link Amp, ang mas mababang panimulang portal level ay maaaring piliin.","VRLA":"L8 at ilang VRLA","WASABEE BUTTON TITLE":"Wasabee: Lumot na siya! Paiyakin ang mga Smurfs!","WASABEE_D_LIST":"Ipasok ang Bilang ng Defensive Key","WD BUTTON TITLE":"Ilagay mga Pangharang na Keys","WD BUTTON":"W-D Keys","WRITE_SHORT":"RW","WRITE":"isulat","WSERVER":"Server: {url}","YESNO_DEL":"Sigurado ka na gusto mo burahin ang {opName}?","ZONE_DRAW":"Click to set the zone boundaries","ZONE":"Zoned","smallScreen":{"ADD_LINKS":"+ Links","ADD_MARKER":"+ Marker"}}'),b=JSON.parse('{"ABOUT_WASABEE":" propos de Wasabee","acknowledged":"Not","ADD LINK TITLE":"Ajouter des liens","ADD MARKER TITLE":"Ajouter des marqueurs","ADD_AGENT":"Ajouter l\'agent :","ADD_BL":"Ajouter les backlinks :","ADD_BULK":"Ajouter en masse","ADD_BUTTON_LINKS":"Ajouter les liens","ADD_LINKS":"Ajouter des liens","ADD_MARKER":"+ Marqueur","ADD_NEW_OP":"Ajouter une nouvelle Op","ADD_SUCC_INSTR":"L\'agent a bien t ajout  l\'quipe","ADD_ZONE":"Ajouter une zone","ADD":"Ajouter","ADD1":"Ajouter le premier lien","ADD2":"Ajouter le second lien","AGENT_STATS":"Informations de l\'agent","AGENT":"Agent","AGES":" (il y a longtemps)","ALREADY_HAS_MARKER":"Ce portail porte dj un marqueur. Choisissez un autre portail.","AMAZ_TEAM_NAME":"Nom de l\'quipe","ANCHOR ASSIGNMENT":"Affecter tous les liens sortants  :","ANCHOR_GMAP":"Google Maps","ANCHOR_PORTAL":"Ancre","ANCHOR_PORTAL2":"Portail Ancre 2","ANCHOR_PORTAL3":"Portail Ancre 3","ANCHOR1":"Ancre 1","ANCHOR2":"Ancre 2","ANCHOR3":"Ancre 3","ANCHORS_AS_BOOKMARKS":"Ancres vers Bookmarks","API_KEY":"Cl API Rocks :","ASS_TO":"Assign ","ASSIGN LINK PROMPT":"Assigner le lien de {portalName}","ASSIGN MARKER PROMPT":"Assigner le marqueur sur {portalName}","ASSIGN OUTBOUND PROMPT":"Assigner les liens sortants de {portalName}","ASSIGN OUTBOUND":"Assigner les liens sortants","ASSIGN":"Assigner","ASSIGNED_ONLY_SHORT":"AO","ASSIGNED_ONLY":"Seulement les affectations","assigned":"Assign","AUTH INCOMPAT":"Vous avez activ un plugin dans TamperMonkey (ou quivalent) qui est incompatible avec Wasabee.","AUTH REQUIRED":"Authentification requise","AUTH TOKEN REJECTED":"Jeton dauthentification rejet par le serveur : {error}","AUTH_SELECT_ACCOUNT":"Slectionner le compte","AUTO_DRAWS":"Auto-Draw","AUTODRAWS":"Choix d\'Auto-draw","AUTODRAW_PORTALS_SET":"Portails","autodraw.common.draw_button":"Tracer","autodraw.fanfield.result":"Fanfield a trouv {links} liens et {fields} fields pour {ap} AP","autodraw.flipflop.result":"Flip flop: {count} liens trouvs","autodraw.homogeneous.missing_split":"Il manque {count} portails pour une configuration complte","autodraw.homogeneous.order":"Ordre","autodraw.homogeneous.portals_required":"{count} requis","autodraw.madrid.auto_determined":"Auto-dtermine","autodraw.madrid.balanced":"quilibr","autodraw.madrid.result":"Madrid a trouv {count} couches","autodraw.multimax.result":"Multimax a trouv {count} couches","autodraw.multimax.result_both_side":"Multimax a trouv {count1} et {count2} couches","autodraw.onion.variant":"Variante","autodraw.onion.variant.equilateral":"~quilatral","autodraw.onion.variant.grow":"Un plus grand","autodraw.onion.variant.balanced":"quilibr","AUTOLOAD_RATE":"Dlai entre deux requtes","AUTOLOAD":"Charger automatiquement les donnes manquantes de portails","AUTOMARK STOP":"Le processus d\'Auto-Mark s\'est arrt suite  l\'absence de donne pour certains portails.","AUTOMARK":"Auto-Marque","BAT_TOAD":"Les grenouilles masques","BLOCKER LIST TITLE":"Afficher les bloquants","BLOCKER TITLE":"Bloquants","CANCEL":"Annuler","CAPSULE":"Capsule","CapturePortalMarker":"Capturer","CHANGE SERVER PROMPT":"Nouveau serveur Wasabee","CHANGE SERVER":"Changer de serveur","CHANGE_WAS_SERVER":"Changer de serveur Wasabee","CHECKLIST BUTTON TITLE":"Checklist de l\'opration","CHECKLIST BUTTON":"Checklist","CLEAR LINKS":"Supprimer les liens","CLEAR MARKERS":"Supprimer les marqueurs","CLEAR_EVERYTHING":"Supprimer Portails/Links et Marqueurs","CLEAROPS BUTTON TITLE":"Supprimer TOUTES les donnes Wasabee","CLEAROPS BUTTON":"Supprimer les donnes Wasabee","CLEAROPS PROMPT":"Toutes les oprations et donnes relatives  Wasabee seront supprimes de cet appareil. Seules les donnes prsentes sur le/les serveurs seront rcupres  la prochaine synchronisation. Wasabee sera dsactiv jusqu\'au prochain rechargement d\'IITC.","CLOSE":"Fermer","COMMENT":"Commentaire","COMPLETED BY":"Fait par {agentName}","completed":"Fait","CON_DEL":"Confirmer la suppression : {opName}","COUNT":"Nombre","CREATE_NEW_TEAM":"Crer une quipe","CreateLinkAlert":"Lien","CUR_USER_INFO":"Information sur l\'utilisateur courant","D_SHOW_LIST":"Entrer les cls dfensives","DEFAULT OP NAME":"Opration {date}","DELETE ANCHOR PROMPT":"Voulez vous supprimer cette ancre et tous les liens associs :","DELETE ANCHOR TITLE":"Supprimer une ancre","DELETE MARKER PROMPT":"Voulez vous supprimer le marqueur :","DELETE MARKER TITLE":"Supprimer un marqueur","DELETE_ANCHOR":"Supprimer","DELETE_LINK":"Supprimer","DELETE_OP":"Supprimer {opName}","DESCRIP_PLACEHOLD":"Description (optionnelle)","DestroyPortalAlert":"Casse","dialog.about.download_mobile_app":"<h3>Application Wasabee :</h3><div class=\'desc\'><a href=\'https://app.wasabee.rocks\' target=\'_blank\'>Tlcharger l\'application pour les agents de terrain</a></div>","dialog.agent_comment.text":"Commentaire:","dialog.agent_comment.title":"Dfinir le commentaire de {agentName}","dialog.auth.ott.button":"Connexion  jeton unique","dialog.auth.ott.text":"Rcuprez un jeton (One time Token) depuis le <a href=\\"{url}\\" target=\\"_blank\\">serveur Wasabee<a>, puis collez-le ici","dialog.auth.ott.title":"Connexion  jeton unique","dialog.blockers.clear_automark":"Supprimer les Auto-Mark","dialog.clear_all.text":"Voulez-vous supprimer les liens et marqueurs de {opName} ?","dialog.clear_all.title":"Rinitialisation de {opName}","dialog.clear_links.text":"Voulez-vous supprimer tous les liens de {opName} ?","dialog.clear_links.title":"Effacer les liens : {opName}","dialog.clear_markers.text":"Voulez-vous supprimer tous les marqueurs de {opName} ?","dialog.clear_markers.title":"Effacer les marqueurs : {opName}","dialog.checklist.count_fields":"Nombre de fields","dialog.checklist.count_fields.no_empty":"{fieldCount} fields trouvs et aucun champ vide","dialog.checklist.count_fields.with_empty":"{fieldCount} fields trouvs et {emptyCount} champ(s) vide(s) sur {linkCount} lien(s)","dialog.checklist.count_fields.link_from_inside":"{count} liens trouvs depuis des portails sous fields","dialog.checklist.count_fields.link_from_inside.covered_at_order":"  {order} par le lien ","dialog.common.color":"Couleur","dialog.common.commands":"Commandes","dialog.common.commands_short":"Cmds","dialog.common.delete":"Supprimer","dialog.common.links":"Liens","dialog.common.markers":"Marqueurs","dialog.common.name":"Nom","dialog.common.off":"Off","dialog.common.on":"On","dialog.common.owner":"Propritaire","dialog.common.zone_all":"Toutes les zones","dialog.filter.actions.description":"Changer toutes les tches visibles","dialog.filter.actions.delete_visible":"Supprimer","dialog.filter.actions.delete_hidden":"Supprimer toutes les autres tches","dialog.filter.actions.shift.label":"Dcalage","dialog.filter.actions.shift.button":"Dcaler","dialog.filter.actions.title":"Actions","dialog.filter.filters.apply":"Appliquer le filtre","dialog.filter.filters.description":"Slectionner les proprits sur lesquelles filtrer les tches que vous voulez voir&modifier.","dialog.filter.filters.field.task":"Tche","dialog.filter.filters.field.min_order":"Ordre min","dialog.filter.filters.field.max_order":"Ordre max","dialog.filter.filters.title":"Filtres","dialog.filter.title":"Filtres & Actions","dialog.firebase.setup":"Visitez {url} et cliquez sur le bouton pour autoriser les mises  jour en direct. Vous devrez recharger l\'IITC ensuite.","dialog.import.url":"Charger lURL","dialog.import.success_message":"Importation termine. {count} portails trouvs et {faked} faux portails utiliss. Veuillez utiliser la fonction d\'change pour dplacer les faux portails vers les vrais portails au mme endroit. Faire un zoom avant sur les portails \'Chargement\' dans la liste de contrle peut les forcer  charger.","dialog.keys.update_error":"Le portail n\'est pas encore dans l\'opration, veuillez d\'abord la synchroniser avec le serveur","dialog.leave_team.text":"Si vous quittez {teamName} vous ne pouvez pas rejoindre  moins que le propritaire vous rajoute.","dialog.leave_team.title":"Quitter : {teamName}","dialog.link_list.length":"Longueur","dialog.link_list.level":"Niv Min","dialog.link_list.all_from":"Tirer tout depuis","dialog.link_list.all_to":"Tirer tout vers","dialog.conflict.cancel_upload":"Annuler","dialog.conflict.conflicts":"Conflits :","dialog.conflict.local":"Copie locale","dialog.conflict.server":"Copie du serveur","dialog.conflict.zone":"Zone : {name}","dialog.conflict.prop.assignedTo":"Assign :","dialog.conflict.prop.comment":"Commentaire :","dialog.conflict.prop.color":"Couleur:","dialog.conflict.prop.deltaminutes":"Delta :","dialog.conflict.prop.fromPortal":"De :","dialog.conflict.prop.hardness":"Difficult :","dialog.conflict.prop.order":"Ordre :","dialog.conflict.prop.state":"tat:","dialog.conflict.prop.toPortal":"Vers :","dialog.conflict.prop.zone":"Zone :","dialog.conflict.prop.zone_points":"La forme a t modifie","dialog.online_agents.actions":"Action","dialog.online_agents.last_seen":"Dernire activit","dialog.online_agents.title":"Agents en ligne","dialog.op_settings.advanced":"Avanc","dialog.op_settings.import.desc":"Importer les liens/marqueurs/zones d\'une autre OP","dialog.op_settings.import.collision_default":"En cas de conflit, utilisez les liens/marqueurs imports","dialog.op_settings.import.select_op":"Opration","dialog.op_settings.import.select_color":"Couleur de l\'OP","dialog.op_settings.import.button":"Importer","dialog.op_settings.setting":"Paramtres","dialog.op_settings.zones":"Zones","dialog.ops_list.background_disable":"Cacher en arrire-plan","dialog.ops_list.background_enable":"Afficher en arrire-plan","dialog.ops_list.download":"Tlcharger {opName}","dialog.ops_list.last_fetched":"Dernire rcupration : {date}","dialog.ops_list.local_change":"La version locale a t modifie","dialog.ops_list.remote_change":"Modifications sur le serveur","dialog.ops_list.toggle_hide":"Afficher/Masquer","dialog.ops_list.unhide_ops":"Dmasquer tout","dialog.remove_agent.text":"Voulez-vous retirer {agentName} de {teamName}?","dialog.remove_agent.title":"Retirer : {agentName}","dialog.setcomment.portal_hardness":"Difficult","dialog.settings.disable_live_updates":"Dsactiver les mises  jour en direct","dialog.team_list.load_wd_keys":"Charger les cls W-D","dialog.team_list.share_wd_keys":"Partager les cls W-D","dialog.team_manage.join_link":"Lien pour rejoindre","dialog.team_manage.join_link.create":"Crer","dialog.team_manage.join_link.revoke":"Rvoquer","dialog.team_members.location":"Partage de position","dialog.team_members.wd_keys":"Partage de cls W-D","dialog.team_message":"Message d\'quipe:  {message}  de {sender}","dialog.update_warning":"Wasabee est obsolte. Veuillez mettre  jour en utilisant votre gestionnaire de plugin ou en allant sur <a href=\'https://wasabee.rocks\'>https://wasabee.rocks</a>","dialog.zone_color.title":"Colorier la zone","dialog.zone_color.text":"Colorier tous les liens dans la zone {zoneName}","dialog.zones.color":"Couleur","dialog.zones.color_links":"Colorier les liens","dialog.zones.delete.title":"Supprimer la zone  {zoneName} ","dialog.zones.delete.text":"Voulez-vous supprimer la zone  {zoneName}  ?","dialog.zones.delete_zone_shape":"Rinitialiser la forme","dialog.zones.draw_zone_shape":"Dessiner la zone","dialog.zones.id":"ID","dialog.zones.jump_to":"Zoomer sur la zone","dialog.zones.stop_drawing":"Terminer le dessin","dialog.zones.title":"Zones","DRAW TOOLS FORMAT":"Format DrawTools","DUPE_OP":"Dupliquer l\'opration","END_PORT":"Portail de fin","ExcludeMarker":"Exclure d\'Auto-Draw/Mark","EXPORT OP TITLE":"Exporter l\'opration","EXPORT OP":"Exporter","EXPORT":"Exporter :","FAKED":"Faux [{portalId}]","FANFIELD":"Tracer","FANFIELD2":"Fan Field","FarmPortalMarker":"Farmer","FLIP_FLOP_NAME":"Flip Flop","FLIP_FLOP_TITLE":"Flip Flop","FLIP_FLOP_DESC":" partir d\'une ancre, d\'un ensemble de portails visibles et d\'un nombre de SBUL, cherche un fanfield  tirer depuis l\'ancre par distance dcroissante pour viter de rechercher les cls dans le carrousel.","FLIP_FLOP_INSTRUCTION":"Slectionner un portal, se placer dans la zone des portails cibles afin qu\'ils soient visibles, puis presser Tracer. Une fois un fanfield trouv, vous pouvez trouver d\'autres ancres compatibles pour des re-tirs conscutifs","FLIP_FLOP_FIND_ANCHORS":"Trouver d\'autres ancres","FROM_1-2":"depuis la base 1-2","FROM_1-3":"depuis la base 1-3","FROM_2-3":"depuis la base 2-3","FROM_DEPTH":"depuis l\'intrieur vers l\'extrieur","FROM_PORT":"Depuis le Portail","GET DT":"Rcuprer le dessin actuel","GetKeyPortalMarker":"Cls","GotoPortalMarker":"Aller ","H-GEN_INST":"Choisir les 3 portails du field englobant, le nombre de couches et cliquer sur Draw.","HF_DEEP_SEARCH":"Recherche exhaustive","HF_DRAW_BUTTON":"Tracer","HF_REDRAW_BUTTON":"Re-Draw","HG":"Field homogne","HOURS":"(il y a {hours} heures)","HOW_TO_VIDS":"<h3>Tuto:</h3><div class=\'desc\'><a href=\'https://www.youtube.com/playlist?list=PLyku9nmtwrADKQM9_EZk7NYbZXVOrBhXa\'>Wasabee Playlist</a></div>","IMP_NOPE":"chec de l\'importation: {error}","IMP_WAS_OP":"Importer les oprations Wasabee","IMPORT_OP_SUCCESS":"Importation de l\'opration  {opName}  russie.","IMPORT_OP_TITLE":"Importer l\'opration : {date}","IMPORT_OP":"Importer l\'opration","IMPOSSIBLE":"Impossible","INGNAME_GID":"Pseudo Ingress ou Identifiants Google","INPUT_DT_KEY_COUNT":"Entrer le nombre de cls dfensives","INVALID REQUEST":"Requte invalide","IOS NEED FAKE UA":"Vous devez dfinir un \'Custom UserAgent for Webviews\' dans les options de IITC-Mobile pour que la connexion  Wasabee fonctionne","KEY_LIST2":"Liste des cls pour l\'opration : {opName}","KEYS":"Cls","KNOWN_BLOCK":"Liens bloquants connus : {opName}","LA DESC":"Le niveau ncessaire du portail peut tre plus faible en fonction du type des Link Amp utiliss.","LA":"L8+ quelques LinkAmp","LANG":"Langue","LEAVE":"Quitter","LetDecayPortalAlert":" decay","LINK ASSIGNMENT":"Affecter le lien  :","LINK STATE PROMPT":"Statut du lien","LINK STATE":"Dfinir l\'tat du lien :","LINKS BUTTON TITLE":"Liens","LINKS":"Liens","LINKS2":"{portalName} : Liens ({outgoing}/{incoming})","LOAD PORTALS":"Charger les portails","LOADING":"[chargement]","LOADING1":"Chargement: {portalGuid}","LOC_PROC":"Emplacement trait","LOCATION SUB":"Position envoye","LOCFRMSER":"(Localement et sur le serveur)","LOG IN":"Connexion","LOG_OUT":"Dconnexion","MADRID_SET_1":"Dfinir la zone pour le multifield de base 2-3","MADRID_SET_2":"Dfinir la zone pour le multifield de base 1-3","MADRID_SET_3":"Dfinir la zone pour le multifield de base 1-2","MADRID_TITLE":"Madrid Protocol","MADRID_WAS_TAKEN":"Madrid Protocol","MADRID":"Tracer","MANAGE_TEAM":"Grer {teamName}","MANAGE":"Grer","MARKER ASSIGNMENT":"Affecter le marqueur  :","MARKER LIST TITLE":"Liste des marqueurs","MARKER LIST":"Marqueurs","MARKER STATE PROMPT":"Statut du marqueur","MARKER STATE":"Dfinir l\'tat du marqueur :","MARKER_LIST":"Liste des marqueurs : {opName}","MARKERS BUTTON TITLE":"Marqueurs","MAX_SPLITS":"Nb. Couches","MAX":"Fan Field","MeetAgentPortalMarker":"Rencontrer un agent","MERGE ON UPDATE":"Fusion  la mise  jour d\'une OP","MERGE_CHANGES_LOCAL":"Changements locaux","MERGE_CHANGES_MERGE":"Rsultat aprs fusion","MERGE_CHANGES_REMOTE":"Changements sur le serveur","MERGE_LOCAL":"Locale","MERGE_MESSAGE":"Les modifications locales et du serveur sont en conflit. Vous devez rsoudre les conflits que Wasabee n\'a pas russi  rsoudre lui-mme. Slectionnez la version  conserver pour chaque conflit non rsolu. Vous pouvez galement ignorer tous les conflits et utiliser la copie du serveur, ou vous pouvez simplement garder la copie locale intacte.","MERGE_REBASE":"Fusion","MERGE_REPLACE":"Remplacer","MERGE_TITLE":"Fusion des versions locale et serveur","MIN_SRC_PORT_LVL":"Niveau minimum requis pour le portail source","MINUTES":" (il y a {minutes} minute(s))","MM":"Multimax","MM_BOTH_SIDE":"Utiliser les deux cts de la base","MM_INSERT_ORDER":"Insrer  la fin","MM_SET_ALL_PORTALS":"Tous les portails visibles","MM_SET_ALL_KEYS":"Tous les marqueurs GetKey","MM_SET_KEYS_ZONE":"GetKey : {zoneName}","MM_SPINE":"Alignement","MULTI_M_TITLE":"Dessiner le maximum de couches","MULTI_M":"Tracer","MUST_NOT_BE_EMPTY":"Ne dois pas tre vide","MY_CAP_ID":"ID de ma capsule","MY_COUNT":"Mon nombre de cls","NAME_REQ":"Nom requis","NAME":"Nom :","NEW_OP":"Nouvelle opration","NEW_TEAM_NAME":"Nouveau nom d\'quipe","NEW_TEAM":"Nouvelle quipe","NEW_WAS_SERVER":"Nouveau serveur Wasabee","NEWOP BUTTON TITLE":"Crer une opration","NEWOP BUTTON":"+ Op","NO_DT_ITEMS":"Pas de Draw dtect","NO_LABEL":"Pas de nom donn","NO_STOCK_INTEL":"Wasabee ne supporte pas les draws de l\'intel stock.","NO_TITLE":"Titre non dfini","NO LONGER AVAILABLE":"Ressource supprime du serveur : {error}","NO LONGER AVAILABLE SHORT":"Ressource supprime du serveur","NOT LOGGED IN SHORT":"Dconnect","NOT LOGGED IN":"Dconnect : {error}","NOT_LOADED":"chec lors du chargement des oprations, essayer  nouveau.","NOT_SET":"non dfini","NTNAME":"Nom","OK":"Ok","ON_HAND":"En main","ONION_WAS_TAKEN":"Oignon","ONION":"Tracer","ONLY_DT_IMP":"(Uniquement pour les imports de DrawTools)","OP DELETED":"Opration supprime du serveur: {opID}","OP PERM DENIED":"Permission refuse pour l\'opration : {opID}","OP_CHECKLIST":"Checklist : {opName}","OP_NAME_UNSET":"Le nom de l\'opration n\'a pas t dfini","OP_PERMS":"Permissions","OP_SETTINGS_BUTTON":"Op ","OP_SETTINGS_TITLE":"Proprits de l\'opration","OPEN_REQUEST":"","OPER_COLOR":"Couleur de l\'opration","OPER_NAME":"Nom de l\'opration","OPERATIONS":"Oprations","OPS BUTTON TITLE":"Oprations","OPS BUTTON":"Ops","ORDER":"Ordre","OtherPortalAlert":"Autre","PASTE_INSTRUCT":"Coller un export de dessin Wasabee ici.\\n\\nWasabee ne peut pas importer le format Intel.\\n\\nIl existe un support exprimental pour importer le format IITC DrawTools.\\n\\nAvant d\'importer le format DrawTools, prvisualisez les zones et assurez-vous que tous les portails sont chargs de sorte que l\'IITC les a mis en cache. Les portails utiliss qui ne sont pas mis en cache correspondront  de faux portails.\\n\\nVous devrez utiliser la fonctionnalit \'swap\' pour dplacer les ancres des faux portails vers les vrais portails (ils devraient tre dans les bons emplacements, mais pas associs aux portails).\\n\\nLes portails mis en cache peuvent ne pas tre correctement nomms.","pending":"En attente","PERM DENIED":"Permission refuse: {error}","PERM DENIED SHORT":"Permission refuse","PERMS":"Permissions de {opName}","PLEASE_SELECT_PORTAL":"Slectionner un portail","popup.anchor.duplicate":"Dupliquer","popup.anchor.keys":"Cls : {onHand} / {required}","popup.anchor.keys_mycount":"Moi : {myCount} / {required}","popup.marker.state_button":"Dfinir l\'tat","PORTAL KEY LIST":"Cls du portail {portalName}","PORTAL_COUNT":"{count} portails","PORTAL":"Portail","QD BUTTON CHANGE COLOR":"Cliquez pour changer la couleur des prochains liens","QD BUTTON END":"Arrte le dessin","QD BUTTON TOGGLE MODE":"Cliquez pour changer le mode de dessin","QD CHANGE COLOR":"Changer de couleur","QD END":"Terminer","QD TITLE":"Quick Draw","QD TOGGLE MODE":"Changer de mode","QDBASE":"Base","QDCONT":"Cliquez sur un portail pour faire un field","QDNEXT":"Cliquer sur la seconde ancre.","QDSTART":"Cliquer sur la premire ancre.","READ_SHORT":"RO","READ":"lire","RechargePortalAlert":"Recharge","REFERENCE_TIME":"Temps de rfrence :","REM_LOC_CP":"Supprimer la copie locale de {opName}","REMOVE_TEAM_CONFIRM_LABEL":"Voulez-vous vraiment supprimer {teamName} du serveur Wasabee ?","REMOVE_TEAM_CONFIRM_TITLE":"Supprimer l\'quipe {teamName}","REMOVE_TEAM":"Supprimer une quipe","REMOVE":"Supprimer","RENAME_TEAM":"Renommer l\'quipe:","RENAME":"Renommer","REQUIRED":"Requis","RESET":"Reset","REVERSE":"Inverser","ROCKS_COM":"Communaut enl.rocks :","ROLE":"Rle","SAVELINKS TITLE":"Copie de liens","SAVELINKS_DRAW":"Copier les liens","SAVELINKS":"Copie de liens Intel","SECONDS":"(il y a {seconds} secondes)","SEL_SB_ANCHOR":"Slectionner l\'ancre.","SEL_SB_ANCHOR2":"Dzoomer en laissant charger les portails de la zone puis cliquer sur Draw.","SEL_SL_ANCHOR":"Slectionner le portail dont vous voulez copier les liens vers l\'opration courante.","SEL_SRC_ANC2":"Slectionner le portail source ET la seconde ancre","SEL_SRC_PORT":"Slectionner le portail source","SELECT PORTAL":"Slectionner un premier portail","SELECT_FAN_PORTALS":"Slectionner une ancre, le premier portail et le dernier portail du Fanfield. Le reste sera calcul  partir des portails visibles.","SELECT_FAN_PORTALS2":"Attendez le chargement des portails et cliquer sur Draw.","SELECT_INSTRUCTIONS":"Slectionner deux ancres, puis zoomer sur la zone contenant l\'alignement.","SELECT_ONION_PORTALS":"Les couches sont construites de la plus petite  la plus grande, avec au plus trois fields par portail en commenant par le portal dfini, puis en utilisant les portails visibles.","SELF SWAP":"Le portail slectionn est le mme. Slectionner un autre portail.","SEND ANALYTICS":"Envoyer des statistiques anonymes","SEND LOCATION":"Partager sa position (uniquement lorsque l\'IITC est au premier plan)","SEND TARGET AGENT":"Slectionner l\'agent cible","SEND TARGET CONFIRM":"Voulez-vous signaler la cible {portalName}  {agent} ?","SEND TARGET":"Envoyer la cible","SEND_LOC":"Envoyer sa position","SET_3_PORT":"Slectionner d\'abord trois portails!","SET_COMMENT":"Entrer un commentaire","SET_LCOMMENT":"Commentaire du lien","SET_LINK_COMMENT":"Entrer un commentaire pour le lien :","SET_LINKS_ZONES":"Affecter les liens aux zones","SET_MARKER_COMMENT":"Entrer un commentaire pour le marqueur :","SET_MARKER_TYPE_TITLE":"Changer le type de marqueur","SET_MARKERS_ZONES":"Affecter les marqueurs aux zones","SET_MCOMMENT":"Commentaire pour ce marqueur : {portalName}","SET_NEW_OP":"Donner un nom  cette nouvelle opration","SET_PCOMMENT":"Entrer un commentaire pour ce portail : {portalName}","SET_PORT_COMMENT":"Entrer un commentaire pour ce portail :","SET_PORTAL_COMMENT":"Entrer un commentaire","SET":"Dfinir","SETTINGS_TOOLBOX":"Paramtres Wasabee","SETTINGS_TITLE":"Paramtres avancs","SKINS_AVAILABLE":"Il y a {count} thmes disponibles.","SKINS_BUTTON":"Choisir les thmes","SKINS_DESCRIPTION":"Dplacer les thmes de la colonne de droite vers la colonne de gauche pour les activer. L\'ordre permet de les combiner. Le thme le plus bas est le dernier appliqu.","SKINS_MANAGE_TITLE":"Configuration des thmes","SKIP_CONFIRM_ALWAYS":"Rien (risqu)","SKIP_CONFIRM_ENTITY":"Seulement les OP/quipes","SKIP_CONFIRM_NEVER":"Tout","SKIP_CONFIRM":"Demander confirmation pour","SOURCE_PORT":"Portail source","STARBURST TITLE":"Starburst","STARBURST_DRAW":"Tracer","STARBURST":"Starburst","START_PORT":"Portail de dpart","STATE":"tat","SUPPORT_INSTRUCT":"Pour obtenir de l\'aide rejoindre ce channel Telegram (en Anglais) <a href=\'https://enl.rocks/-dEHQ\' target=\'_blank\'>The Wasabee User Telegram Channel</a>","SWAP PROMPT":"Voulez-vous remplacer ","SWAP TITLE":"Dplacer le portail","SWAP WITH":" par ","SWAP":"Dplacer","swap.marker.title":"Dplacer le marqueur","swap.marker.prompt":"Voulez-vous dplacer le marqueur :","SYNC DONE":"Tlchargement termin <br> <a href=\'https://github.com/wasabee-project/Wasabee-IITC/wiki\' target=\'_blank\'>Cliquez ICI pour obtenir des conseils, des astuces et de la documentation.</a>","SYNC":"Tlcharger les oprations disponibles","TARGET SENT":"Cible transmise","TEAM STATE":"Partage de position","TEAM_CREATED":"quipe {teamName} cre","TEAM_NAME":"Nom d\'quipe","TEAM":"quipe","TEAMS BUTTON TITLE":"Liste des quipes","TEAMS BUTTON":"quipes","TO_PORT":"Vers le portail","toolbar.op.filter":"Filtres","toolbar.op.redo":"Refaire","toolbar.op.title":"Op: {opName}","toolbar.op.undo":"Annuler","toolbar.quick_delete.apply.text":"Appliquer","toolbar.quick_delete.apply.title":"Supprime les liens et marqueurs slectionns","toolbar.quick_delete.cancel.text":"Annuler","toolbar.quick_delete.cancel.title":"Annuler","toolbar.quick_delete.clear.text":"Effacer tout","toolbar.quick_delete.clear.title":"Supprime tous les liens et marqueurs","toolbar.quick_delete.stop.text":"Stop","toolbar.quick_delete.stop.title":"Quitter le mode Suppression","toolbar.quick_delete.title":"Suppression Rapide","toolbar.quick_delete.tooltip.toggle_mode":"Slectionnez les lments  supprimer","toolbar.quick_delete.tooltip.quick_mode":"Cliquez pour supprimer","toolbar.quick_draw.tooltip.star_mode.anchor":"Slectionnez l\'ancre de la Starburst","toolbar.quick_draw.tooltip.star_mode.portal":"Cliquez sur les autres portails","toolbar.quick_draw.tooltip.single_mode.first":"Slectionnez le premier portail","toolbar.quick_draw.tooltip.single_mode.next":"Slectionnez le portail suivant","toolbar.quick_draw.tooltip.portal_fail":"Donnes de portail incompltes, ressayez","toolbar.quick_draw.tooltip.burst.portal":"Slectionner un portail","toolbar.quick_draw.toggle.text":"Mode : {mode}","toolbar.quick_draw.mode.burst":"Burst","toolbar.quick_draw.mode.multilayer":"Multicouche","toolbar.quick_draw.mode.singlelink":"Liens simples","toolbar.quick_draw.mode.starburst":"Star","toolbar.wasabee.settings":"Options","toolbox.teammates":"Coquipiers en ligne","TRAWL SKIP TILES":"Fouille: sauter des tuiles","TRAWL TITLE":"Fouille des bloquants","TRAWL WARNING":"Ceci va charger les tuiles de donnes sous les liens dessins. C\'est un processus lent.","TRAWL_AUTOMARK":"Marquer automatiquement les portails aprs la fouille.","TRAWL_BULK_LOAD_WARNING":"Cette mthode demande toutes les tuiles ncessaires le plus rapidement possible.  utiliser en connaissance de cause.","TRAWL_BULK_LOAD":"Charger directement depuis les tuiles","TRAWL_CLEAR_MARKERS":"Supprimer les marqueurs de casse/virus avant la fouille.","TRAWL_REMAINING":"{count} tuiles restantes","TRAWL":"Fouille des bloquants","TRAWLING":"Parcours des bloquants en cours, fermer la fentre pour arrter.","TYPE":"Type","UNASSIGNED":"Non assign","UNKNOWN":"Inconnu","UPDATE HOVER":"Mettre  jour {opName} sur le serveur","UPDATE PERM DENIED":"Vous n\'avez pas la permission de mettre  jour","UPDATE_CONFLICT_DESC":"L\'opration a t modifie sur le serveur depuis la dernire synchronisation. Voulez-vous craser la version du serveur par la vtre ?","UPDATE_CONFLICT_TITLE":"Conflit avec le serveur","UPDATE_COUNT":"Nombre mis un jour","UPDATED":"Mise  jour russie","UpgradePortalAlert":"Upper","UPLOAD BUTTON HOVER":"Envoyer {opName} au serveur","UPLOADED":"Envoi russi","USE PANES ON MOBILE":"Volet latral (rechargement ncessaire)","USE_VALID_NAME":"Utiliser un nom d\'opration valide","UseVirusPortalAlert":"Virus","VRLA DESC":"Le niveau ncessaire du portail peut tre plus faible en fonction du type des Link Amp utiliss.","VRLA":"L8 + quelques VRLA","WASABEE BUTTON TITLE":"Wasabee est vert et fait pleurer les Schtroumpfs","WASABEE_D_LIST":"Entrer le nombre de cls dfensives","WD BUTTON TITLE":"Enregistrer des cls dfensives","WD BUTTON":"Cls W-D","WRITE_SHORT":"RW","WRITE":"modifier","WSERVER":"Serveur: {url}","YESNO_DEL":"Voulez-vous vraiment supprimer {opName} ?","ZONE_DRAW":"Cliquer pour dfinir les limites de la zone","ZONE":"Zone","smallScreen":{"ADD_LINKS":"+ Liens","ADD_MARKER":"+ Marqueur"}}'),T=JSON.parse('{"ABOUT_WASABEE":"Sobre Wasabee","acknowledged":"Reconhecido","ADD LINK TITLE":"Adicionar Links","ADD MARKER TITLE":"Adicionar Marcadores","ADD_AGENT":"Adicionar Agente:","ADD_BL":"Adicionar links para trs:","ADD_BULK":"Adio em massa","ADD_BUTTON_LINKS":"Adicionar todos os links de uma vez.","ADD_LINKS":"Adicionar Links","ADD_MARKER":"+ Marcador","ADD_NEW_OP":"Adicionar Nova Op","ADD_SUCC_INSTR":"Agente adicionado com sucesso","ADD_ZONE":"Adicionar zona","ADD":"Adicionar","ADD1":"Adicionar primeiro link","ADD2":"Adicionar segundo link","AGENT_STATS":"Agente Stats","AGENT":"Agente","AGES":" (h muito tempo)","ALREADY_HAS_MARKER":"Este portal j tem um marcador. Escolha um portal diferente.","AMAZ_TEAM_NAME":"Nome incrvel da equipe.","ANCHOR ASSIGNMENT":"Atribuir todos os links de sada para:","ANCHOR_GMAP":"Mapa Google","ANCHOR_PORTAL":"Portal ncora","ANCHOR_PORTAL2":"ncora Portal 2","ANCHOR_PORTAL3":"ncora Portal 3","ANCHOR1":"ncora 1","ANCHOR2":"ncora 2","ANCHOR3":"ncora 3","ANCHORS_AS_BOOKMARKS":"ncora como bookmarks","API_KEY":"Chave API do Rocks:","ASS_TO":"Atrubuir a:","ASSIGN LINK PROMPT":"Atribuir link para: {portalName}","ASSIGN MARKER PROMPT":"Atrubuir marcador para: {portalName}","ASSIGN OUTBOUND PROMPT":"Atribuir todos os links externos de: {portalName}","ASSIGN OUTBOUND":"Atribuir links externos","ASSIGN":"Atribuir","ASSIGNED_ONLY_SHORT":"A","ASSIGNED_ONLY":"S Atribuir","assigned":"Atribudo","AUTH INCOMPAT":"Voc ativou um plugin no TamperMonkey que  incompatvel com o Wasabee","AUTH REQUIRED":"Autentificao Requerida","AUTH TOKEN REJECTED":"Envio de token de autenticao rejeitado pelo servidor: {error}","AUTH_SELECT_ACCOUNT":"Selecionar conta","AUTO_DRAWS":"Auto-desenhar","AUTODRAWS":"Wasabee Auto-draw Opes","AUTODRAW_PORTALS_SET":"Portais","autodraw.common.draw_button":"Desenhar","autodraw.fanfield.result":"Fanfield encontrado {links} links e {fields} campos para {ap} AP","autodraw.flipflop.result":"Flip flop: {count} links encontrados","autodraw.homogeneous.missing_split":"No foi possvel encontrar {count} divises, tente menos profundidade ou uma regio diferente","autodraw.homogeneous.order":"Pedido","autodraw.homogeneous.portals_required":"{count} necessrio","autodraw.madrid.auto_determined":"Auto-determinado","autodraw.madrid.balanced":"Equilibrado","autodraw.madrid.result":"Madri encontrou {count} camadas","autodraw.multimax.result":"Multimax encontrou {count} camadas","autodraw.multimax.result_both_side":"Multimax encontrou {count1} e {count2} camadas","autodraw.onion.variant":"Opo","autodraw.onion.variant.equilateral":"~Equalizador","autodraw.onion.variant.grow":"Deixe crescer","autodraw.onion.variant.balanced":"Perfeitamente equilibrado","AUTOLOAD_RATE":"Taxa de solicitao de detalhes do portal (ms)","AUTOLOAD":"Carregar automaticamente os detalhes do portal em falta","AUTOMARK STOP":"Auto-Marcar interrompido devido a portais no serem carregados","AUTOMARK":"Auto-Marcar","BAT_TOAD":"Brinquedos de batalha","BLOCKER LIST TITLE":"Mostrar todos os blockers","BLOCKER TITLE":"Bloqueadores","CANCEL":"Cancelar","CAPSULE":"Capsula","CapturePortalMarker":"Capturado","CHANGE SERVER PROMPT":"Novo servidro Wasabee","CHANGE SERVER":"Trocar de Servidor","CHANGE_WAS_SERVER":"Mudar servidor Wasabee","CHECKLIST BUTTON TITLE":"Checklist da Operao","CHECKLIST BUTTON":"Checklist","CLEAR LINKS":"Limpar Links","CLEAR MARKERS":"Limpar Markers","CLEAR_EVERYTHING":"limpar Portais/Links/Marcadores","CLEAROPS BUTTON TITLE":"limpar TODOS os dados Wasabee","CLEAROPS BUTTON":"Limpar dados Wasabee","CLEAROPS PROMPT":"Isto limpar todas as OPS e dados relacionados a Wasabee. Tudo ser restaurado apartir do servidor na prxima sincronizao.","CLOSE":"Perto","COMMENT":"Comentario","COMPLETED BY":"Completo por {agentName}","completed":"Completo","CON_DEL":"Confirmar Apagar: {opName}","COUNT":"Contar","CREATE_NEW_TEAM":"Criar Nova Equipa","CreateLinkAlert":"Link","CUR_USER_INFO":"Informaes do usurio atual","D_SHOW_LIST":"Chaves de defesa de entrada","DEFAULT OP NAME":"Nova Op: {date}","DELETE ANCHOR PROMPT":"Desejas excluir esta ncora e todos os links associados:","DELETE ANCHOR TITLE":"Apagar ncora","DELETE MARKER PROMPT":"Voc deseja excluir este marcador:","DELETE MARKER TITLE":"Apagar Marcador","DELETE_ANCHOR":"Apagar","DELETE_LINK":"Apagar","DELETE_OP":"Apagar {opName}","DESCRIP_PLACEHOLD":"Descrio (opcional)","DestroyPortalAlert":"Destroir","dialog.about.download_mobile_app":"<h3>Aplicativo Wasabee: </h3><div class=\'desc\'><a href=\'https://app.wasabee.rocks\' target=\'_blank\'>Baixe o aplicativo Agentes solo</a></div>","dialog.agent_comment.text":"Comentario:","dialog.agent_comment.title":"Definir comentrio para {agentName}","dialog.auth.ott.button":"Login nico para o Token","dialog.auth.ott.text":"Obtenha um token do <a href=\\"{url}\\" target=\\"_blank\\">servidor Wasabee</a>, e ento cole-o aqui","dialog.auth.ott.title":"Usar Token nico","dialog.blockers.clear_automark":"Limpar Automark","dialog.clear_all.text":"Voc quer resetar o {opName}?","dialog.clear_all.title":"Limpar: {opName}","dialog.clear_links.text":"Voc quer remover todos os links de {opName}?","dialog.clear_links.title":"Limpar Links: {opName}","dialog.clear_markers.text":"Deseja remover todos os marcadores de {opName}?","dialog.clear_markers.title":"Limpar Links: {opName}","dialog.checklist.count_fields":"Contar campos","dialog.checklist.count_fields.no_empty":"Encontrados {fieldCount} campos e sem campo vazio","dialog.checklist.count_fields.with_empty":"Encontrados {fieldCount} campos e {emptyCount} campo(s) vazio(s) no link {linkCount}","dialog.checklist.count_fields.link_from_inside":"Encontrados {count} links dos portais cobertos","dialog.checklist.count_fields.link_from_inside.covered_at_order":" em {order} por link ","dialog.common.color":"Cor","dialog.common.commands":"Comandos","dialog.common.commands_short":"Cmds","dialog.common.delete":"Apagar","dialog.common.links":"Links","dialog.common.markers":"Marcadores","dialog.common.name":"Nome","dialog.common.off":"Desligar","dialog.common.on":"Ligar","dialog.common.owner":"Dono","dialog.common.zone_all":"Todos","dialog.filter.actions.description":"Aplicar uma alterao em todas as tarefas visveis","dialog.filter.actions.delete_visible":"Apagar","dialog.filter.actions.delete_hidden":"Excluir todas as outras tarefas","dialog.filter.actions.shift.label":"Offset","dialog.filter.actions.shift.button":"Shift","dialog.filter.actions.title":"Aes","dialog.filter.filters.apply":"Aplicar filtros","dialog.filter.filters.description":"Selecione as propriedades para filtrar as tarefas que deseja ver mudar.","dialog.filter.filters.field.task":"Tarefa","dialog.filter.filters.field.min_order":"Min order","dialog.filter.filters.field.max_order":"Max order","dialog.filter.filters.title":"Filtros","dialog.filter.title":"Filtros&aes","dialog.firebase.setup":"Visite {url} e pressione o boto para autorizar atualizaes ao vivo. Voc precisar recarregar o IITC depois.","dialog.import.url":"Preencher do URL","dialog.import.success_message":"Importao completa. Encontrados {count} portais e usados {faked} falsificados. Por favor, use o recurso de troca para mover portais falsos para os portais reais no mesmo local. Ampliar os portais de \'Carregamento\' na lista de verificao pode for-los a carregar.","dialog.keys.update_error":"Portal ainda no est na OP, por favor, sincronizar com o servidor primeiro","dialog.leave_team.text":"Se voc sair do {teamName}, voc no pode entrar novamente a menos que o dono adicione voc novamente.","dialog.leave_team.title":"Deixar: {teamName}","dialog.link_list.length":"Comprimento","dialog.link_list.level":"Min Lvl","dialog.link_list.all_from":"Definir todas sadas","dialog.link_list.all_to":"Definir todas as entradas","dialog.conflict.cancel_upload":"Cancelar carregamento","dialog.conflict.conflicts":"Conflitos:","dialog.conflict.local":"Cpia local","dialog.conflict.server":"Cpia do servidor","dialog.conflict.zone":"Zona: {name}","dialog.conflict.prop.assignedTo":"Atribuir:","dialog.conflict.prop.comment":"Comentario:","dialog.conflict.prop.color":"Cor:","dialog.conflict.prop.deltaminutes":"Delta:","dialog.conflict.prop.fromPortal":"De:","dialog.conflict.prop.hardness":"Difcil:","dialog.conflict.prop.order":"Pedido:","dialog.conflict.prop.state":"Estado:","dialog.conflict.prop.toPortal":"Para:","dialog.conflict.prop.zone":"Zona:","dialog.conflict.prop.zone_points":"A forma foi alterada","dialog.online_agents.actions":"Aes","dialog.online_agents.last_seen":"Visto pela ltima vez","dialog.online_agents.title":"Agentes Online","dialog.op_settings.advanced":"Avanado","dialog.op_settings.import.desc":"Import links/markers/zones from another OP","dialog.op_settings.import.collision_default":"In case of conflicts, use imported links/markers","dialog.op_settings.import.select_op":"Select OP","dialog.op_settings.import.select_color":"OP link color","dialog.op_settings.import.button":"Import","dialog.op_settings.setting":"Settings","dialog.op_settings.zones":"Zonas","dialog.ops_list.background_disable":"Desat. dados seg. plano","dialog.ops_list.background_enable":"Mostrar plano de fundo","dialog.ops_list.download":"Descarregar {opName}","dialog.ops_list.last_fetched":"ltima pesquisa: {date}","dialog.ops_list.local_change":"Local foi alterado","dialog.ops_list.remote_change":"Controle remoto foi alterado","dialog.ops_list.toggle_hide":"Alternar Mostrar/Ocultar","dialog.ops_list.unhide_ops":"Exibir todas as OPs","dialog.remove_agent.text":"Voc deseja remover {agentName} de {teamName}?","dialog.remove_agent.title":"Remover: {agentName}","dialog.setcomment.portal_hardness":"Difculdade","dialog.settings.disable_live_updates":"Desativar atualizaes ao vivo","dialog.team_list.load_wd_keys":"Carregar chaves W-D","dialog.team_list.share_wd_keys":"Partilhar chaves W-D","dialog.team_manage.join_link":"Link de entrada","dialog.team_manage.join_link.create":"Criar","dialog.team_manage.join_link.revoke":"Revogar","dialog.team_members.location":"A partilhar a localizao","dialog.team_members.wd_keys":"Partilhar chaves W-D","dialog.team_message":"Anncio de equipa: {message} de {sender}","dialog.update_warning":"O Wasabee est desatualizado. Atualize a usar seu gerenciador de plugins ou indo para <a href=\'https://wasabee.rocks\'>https://wasabee.rocks</a>","dialog.zone_color.title":"Cor da zona","dialog.zone_color.text":"Definir a cor de todos os links na zona {zoneName}","dialog.zones.color":"Cor","dialog.zones.color_links":"Cor de Link","dialog.zones.delete.title":"Excluir zona {zoneName}","dialog.zones.delete.text":"Voc quer apagar a zona {zoneName}? ?","dialog.zones.delete_zone_shape":"Resetar a forma","dialog.zones.draw_zone_shape":"Desenhar limites dos blocos","dialog.zones.id":"ID","dialog.zones.jump_to":"Jump to zone","dialog.zones.stop_drawing":"Parar de desenhar","dialog.zones.title":"Zonas","DRAW TOOLS FORMAT":"Formato Draw Tools","DUPE_OP":"Duplicar Operao","END_PORT":"Portal final","ExcludeMarker":"Excluir de Auto-Desenhar / Marcar","EXPORT OP TITLE":"Exportar Op Actual","EXPORT OP":"Exportar Op","EXPORT":"Exportar:","FAKED":"Falsificado: [{portalId}]","FANFIELD":"Desenhar","FANFIELD2":"Desenhar Fan Field","FarmPortalMarker":"Farmar","FLIP_FLOP_NAME":"Inverter Flop","FLIP_FLOP_TITLE":"Inverter Flop","FLIP_FLOP_DESC":"De uma determinada ncora, um conjunto de portal visvel e um nmero de SBUL, encontre um fanfield para arremessar links da ncora diminuindo distncia para evitar procurar chaves.","FLIP_FLOP_INSTRUCTION":"Selecione um portal, zoom para ver portais suficientes e pressione Desenhar. Uma vez que um fanfield for encontrado, voc poder procurar por outras ncoras por jogadas consecutivas","FLIP_FLOP_FIND_ANCHORS":"Encontrar outras ncoras","FROM_1-2":"A Partir da base 1-2","FROM_1-3":"A Partir da base 1-3","FROM_2-3":"A Partir da base 2-3","FROM_DEPTH":"da profundidade","FROM_PORT":"A Partir do Portal","GET DT":"Obtenha o desenho existente do DrawTools","GetKeyPortalMarker":"Retirar Chaves","GotoPortalMarker":"Ir para","H-GEN_INST":"Define portais para a camada externa. Escolhe o nmero de divises. Clica para desenhar","HF_DEEP_SEARCH":"Pesquisa exaustiva","HF_DRAW_BUTTON":"Desenhar","HF_REDRAW_BUTTON":"Redesenhar","HG":"Campo Homogneo","HOURS":" ({hours} horas atrs)","HOW_TO_VIDS":"<h3>Vdeos de instrues:</h3><div class=\'desc\'><a href=\'https://www.youtube.com/playlist?list=PLyku9nmtwrADKQM9_EZk7NYbZXVOrBhXa\'>Wasabee Playlist</a></div>","IMP_NOPE":"A Importao Falhou: {error}","IMP_WAS_OP":"Importar Operao Wasabee","IMPORT_OP_SUCCESS":"OP Importada: {opName} successfuly.","IMPORT_OP_TITLE":"Importar Op: {date}","IMPORT_OP":"Importar Operao","IMPOSSIBLE":"Impossvel","INGNAME_GID":"Nome de entrada ou GoogleID","INPUT_DT_KEY_COUNT":"Contagem de chaves defensivas de entrada","INVALID REQUEST":"Pedido invlido","IOS NEED FAKE UA":"Deves definir um \'Agente de usurio personalizado para visualizaes da Web\' nas configuraes do IITC-Mobile ou o login falhar","KEY_LIST2":"Lista de chaves para operao: {opName}","KEYS":"Chaves","KNOWN_BLOCK":"Blockers conhecidos: {opName}","LA DESC":"Dependendo do nmero e tipo de Link Amps usados, um nvel de portal de origem inferior pode ser suficiente.","LA":"L8+ alguns LA","LANG":"Lngua","LEAVE":"Deixar","LetDecayPortalAlert":"Deixar car","LINK ASSIGNMENT":"Atribuir link a:","LINK STATE PROMPT":"Estado do link","LINK STATE":"Definir status do link:","LINKS BUTTON TITLE":"Links","LINKS":"Links","LINKS2":"{portalName} : Links ({outgoing}/{incoming})","LOAD PORTALS":"Carregar Portais","LOADING":"[a carregar]","LOADING1":"a carregar: [{portalGuid}]","LOC_PROC":"localizao processada","LOCATION SUB":"Localizao registrada","LOCFRMSER":" (localmente e do servidor)","LOG IN":"Iniciar Sesso","LOG_OUT":"Terminar Sesso","MADRID_SET_1":"Selecione a regio para a ligao de base ncora 2  ncora 3","MADRID_SET_2":"Selecione a regio para a ligao de base ncora 3  ncora 1","MADRID_SET_3":"Selecione a regio para a ligao de base ncora 1 a ncora 2","MADRID_TITLE":"Madrid Protocol","MADRID_WAS_TAKEN":"Madrid Protocol","MADRID":"Desenhar","MANAGE_TEAM":"Gerenciar {teamName}","MANAGE":"Gerenciar","MARKER ASSIGNMENT":"Atribuir marcador a:","MARKER LIST TITLE":"Lista de Marcadores","MARKER LIST":"Marcadores","MARKER STATE PROMPT":"Status do marcador","MARKER STATE":"Definir estado do marcador:","MARKER_LIST":"Lista de Marcadores: {opName}","MARKERS BUTTON TITLE":"Marcadores","MAX_SPLITS":"Divises mximas","MAX":"Fan Field","MeetAgentPortalMarker":"Conhecer Agente","MERGE ON UPDATE":"Unir na atualizao","MERGE_CHANGES_LOCAL":"Alteraes locais","MERGE_CHANGES_MERGE":"Combinar resultado","MERGE_CHANGES_REMOTE":"Mudanas remotas","MERGE_LOCAL":"Manter localmente","MERGE_MESSAGE":"It seems that {opName} has local changes. Do you want to merge your modifications with the server OP, use the server version or keep the local version?","MERGE_REBASE":"Unir","MERGE_REPLACE":"Usar servidor","MERGE_TITLE":"Combinar OP local&remoto","MIN_SRC_PORT_LVL":"Nvel mnimo exigido no portal de origem","MINUTES":" ({minutes} minutos atrs)","MM":"Multimx","MM_BOTH_SIDE":"Usar ambos os lados base","MM_INSERT_ORDER":"Inserir no final","MM_SET_ALL_PORTALS":"Todos os portais visveis","MM_SET_ALL_KEYS":"Todos os Marcadores GetKey","MM_SET_KEYS_ZONE":"GetKey: {zoneName}","MM_SPINE":"Espinha","MULTI_M_TITLE":"Desenhar camadas mximas","MULTI_M":"Desenhar","MUST_NOT_BE_EMPTY":"No deve estar vazio","MY_CAP_ID":"Minha Capsula ID","MY_COUNT":"Minha Conta","NAME_REQ":"Nome Requerido","NAME":"Nome:","NEW_OP":"Nova Operao","NEW_TEAM_NAME":"Novo nome de Equipa","NEW_TEAM":"Nova Equipa","NEW_WAS_SERVER":"Novo servidor Waasbee","NEWOP BUTTON TITLE":"Criar uma nova operao","NEWOP BUTTON":"Nova Op","NO_DT_ITEMS":"Nenhum item desenhado do DrawTools foi detectado","NO_LABEL":"Nenhum rtulo definido","NO_STOCK_INTEL":"Wasabee no suporta importaes de desenho de inteligncia de stoque","NO_TITLE":"Nenhum ttulo definido","NO LONGER AVAILABLE":"Recurso removido do servidor: {error}","NO LONGER AVAILABLE SHORT":"Recurso removido do servidor","NOT LOGGED IN SHORT":"No logado","NOT LOGGED IN":"No logado: {error}","NOT_LOADED":"No totalmente carregado, tente novamente.","NOT_SET":"no configurado","NTNAME":"Nome","OK":"OK","ON_HAND":"Na Mo","ONION_WAS_TAKEN":"Cebola","ONION":"Desenhar","ONLY_DT_IMP":" (apenas para importaes do DrawTools)","OP DELETED":"Operao removida do servidor: {opID}","OP PERM DENIED":"Permisso negada para operao: {opID}","OP_CHECKLIST":"Lista de verificao de operao: {opName}","OP_NAME_UNSET":"O nome da operao no estava definido","OP_PERMS":"Permisses de operao","OP_SETTINGS_BUTTON":"Op ","OP_SETTINGS_TITLE":"Configuraes de operao","OPEN_REQUEST":"[pedido aberto]","OPER_COLOR":"Cor da operao:","OPER_NAME":"Nome da Operao:","OPERATIONS":"Operaes","OPS BUTTON TITLE":"Operaes","OPS BUTTON":"Ops","ORDER":"Pedido","OtherPortalAlert":"Otros","PASTE_INSTRUCT":"Cola uma exportao de desenho Wasabee aqui.\\n\\nWasabee cannot import the stock intel format.\\n\\nThere is experimental support for importing the IITC DrawTools format.\\n\\nBefore importing DrawTools format, preview the areas and make sure all the portals load so IITC has them cached. Any portals that are not pre-cached will be faked.\\n\\nYou will need to use the \'swap\' feature to move anchors from the faked portals to the real portals (they should be in the correct location, just not associated with the portal.\\n\\nCached portals might not be properly named.","pending":"Pendente","PERM DENIED":"Permisso negada: {error}","PERM DENIED SHORT":"Permisso negada","PERMS":"{opName} permisses","PLEASE_SELECT_PORTAL":"Seleciona um portal","popup.anchor.duplicate":"Duplicar","popup.anchor.keys":"Chaves: {onHand} / {required}","popup.anchor.keys_mycount":"Me: {myCount} / {required}","popup.marker.state_button":"Definir estado","PORTAL KEY LIST":"Lista de chaves para portal {portalName}","PORTAL_COUNT":"{count} portais","PORTAL":"Portal","QD BUTTON CHANGE COLOR":"Clique para alterar a cor dos prximos links","QD BUTTON END":"Clique para parar de desenhar campos","QD BUTTON TOGGLE MODE":"Clique para alterar o modo de desenho","QD CHANGE COLOR":"Alterar a cor","QD END":"FIM","QD TITLE":"Camadas de desenho rpido","QD TOGGLE MODE":"Alterar o modo","QDBASE":"Link Base","QDCONT":"Clica num portal espinha para desenhar um campo.","QDNEXT":"Clica no segundo portal de ncora.","QDSTART":"Clica no primeiro portal de ncora.","READ_SHORT":"Ler Abreviado","READ":"Ler","RechargePortalAlert":"Recarregar","REFERENCE_TIME":"Tempo de Referncia:","REM_LOC_CP":"Remover cpia local de {opName}","REMOVE_TEAM_CONFIRM_LABEL":"Voc deseja remover permanentemente {teamName} do servidor Wasabee?","REMOVE_TEAM_CONFIRM_TITLE":"Remover Equipe {teamName}","REMOVE_TEAM":"Remover Equipa:","REMOVE":"Remover","RENAME_TEAM":"Renomear Equipe:","RENAME":"Renomear","REQUIRED":"Requerido","RESET":"Redefinir","REVERSE":"Inverter","ROCKS_COM":"comunidade enl.rocks:","ROLE":"Funo","SAVELINKS TITLE":"Salvar Links","SAVELINKS_DRAW":"Salvar Links","SAVELINKS":"Salvar Links","SECONDS":" ({seconds} segundos atrs)","SEL_SB_ANCHOR":"Seleciona a ncora.","SEL_SB_ANCHOR2":"Reduzir o zoom. Verifica se todos os portais foram carregados e clica em desenhar.","SEL_SL_ANCHOR":"Selecione o portal para salvar os links de. Clique no boto salvar links e veja a lista de seleo.","SEL_SRC_ANC2":"Selecionar a fonte e a ncora 2","SEL_SRC_PORT":"Selecionar um portal de origem","SELECT PORTAL":"Seleciona um portal primeiro","SELECT_FAN_PORTALS":"Selecionar um portal de ncora, um portal inicial e um portal final e, em seguida, posiciona a visualizao sobre a rea do campo.","SELECT_FAN_PORTALS2":"Espere todos os portais carregarem e clique em desenhar.","SELECT_INSTRUCTIONS":"Selecione dois portais de ncora, e ento aumente o zoom sobre a rea giratria.","SELECT_ONION_PORTALS":"As camadas so construdas de dentro para fora. Aumenta o zoom para o centro e seleciona o portal inicial, em seguida, diminui o zoom para a rea.","SELF SWAP":"No  possvel trocar um portal contigo mesmo! Seleciona um portal diferente.","SEND ANALYTICS":"Enviar anlises annimas","SEND LOCATION":"Partilhar localizao (somente quando o IITC estiver em primeiro plano)","SEND TARGET AGENT":"Selecionar o destinatrio alvo","SEND TARGET CONFIRM":"Queres enviar {portalName} alvo para {agent}?","SEND TARGET":"Enviar alvo","SEND_LOC":"Enviar localizao","SET_3_PORT":"Defina os trs portais primeiro!","SET_COMMENT":"Definir Comentrio","SET_LCOMMENT":"Definir comentrio do link","SET_LINK_COMMENT":"Definir comentrio para o link:","SET_LINKS_ZONES":"Definir links para zonas","SET_MARKER_COMMENT":"Definir comentrio para marcador em:","SET_MARKER_TYPE_TITLE":"Alterar o tipo de marcador","SET_MARKERS_ZONES":"Definir Marcadores para Zonas","SET_MCOMMENT":"Definir comentrio do marcador: {portalName}","SET_NEW_OP":"Define o novo nome da operao","SET_PCOMMENT":"Definir comentrio do portal: {portalName}","SET_PORT_COMMENT":"Definir comentrio para portal:","SET_PORTAL_COMMENT":"Definir comentrio do portal","SET":"definir","SETTINGS_TOOLBOX":"Configuraes do Wasabee","SETTINGS_TITLE":"Definies avanadas","SKINS_AVAILABLE":"Existem {count} skins disponveis.","SKINS_BUTTON":"Configurar Skins","SKINS_DESCRIPTION":"Gerenciar as skins disponveis movendo o tema para a coluna da esquerda. Quanto mais baixo na coluna, maior ser a prioridade para o UI.","SKINS_MANAGE_TITLE":"Gerenciar skins","SKIP_CONFIRM_ALWAYS":"Nunca perguntar (use com cuidado)","SKIP_CONFIRM_ENTITY":"Apenas perguntar para equipa/op","SKIP_CONFIRM_NEVER":"Perguntar sempre","SKIP_CONFIRM":"Confirmao de salto","SOURCE_PORT":"Portal Fonte","STARBURST TITLE":"Starburst","STARBURST_DRAW":"Desenhar","STARBURST":"Starburst","START_PORT":"Portal inicial","STATE":"Estado","SUPPORT_INSTRUCT":"Para obter suporte, por favor, junte-se ao <a href=\'https://enl.rocks/-dEHQ\' target=\'_new\'>The Wasabee User Telegram Channel</a>","SWAP PROMPT":"Queres trocar:","SWAP TITLE":"Trocar Portais","SWAP WITH":" com ","SWAP":"Troca","swap.marker.title":"Swap marker","swap.marker.prompt":"Do you want to swap the marker:","SYNC DONE":"Download Completo","SYNC":"Download operaes disponveis","TARGET SENT":"Alvo Enviado","TEAM STATE":"Partilhar localizao","TEAM_CREATED":"Equipa {teamName} created","TEAM_NAME":"Nome Equipa","TEAM":"Equipa","TEAMS BUTTON TITLE":"Listar equipas Wasabee","TEAMS BUTTON":"Equipas","TO_PORT":"Para o Portal","toolbar.op.filter":"Filtros","toolbar.op.redo":"Refazer","toolbar.op.title":"Op: {op.Name}","toolbar.op.undo":"Desfazer","toolbar.quick_delete.apply.text":"Aplicar","toolbar.quick_delete.apply.title":"Apagar links/marcadores selecionados","toolbar.quick_delete.cancel.text":"Cancelar","toolbar.quick_delete.cancel.title":"Cancelar","toolbar.quick_delete.clear.text":"Clear all","toolbar.quick_delete.clear.title":"Clear all links and markers","toolbar.quick_delete.stop.text":"Parar","toolbar.quick_delete.stop.title":"Sair do modo de eliminao","toolbar.quick_delete.title":"Eliminao rpida","toolbar.quick_delete.tooltip.toggle_mode":"Clique nos recursos para marcar para excluso","toolbar.quick_delete.tooltip.quick_mode":"Clique nos recursos para excluir instantaneamente","toolbar.quick_draw.tooltip.star_mode.anchor":"Selecionar a ncora da Estrela","toolbar.quick_draw.tooltip.star_mode.portal":"Selecionar um portal","toolbar.quick_draw.tooltip.single_mode.first":"Clique no primeiro portal","toolbar.quick_draw.tooltip.single_mode.next":"Clique no prximo portal","toolbar.quick_draw.tooltip.portal_fail":"Dados do portal no carregados, por favor, tente novamente","toolbar.quick_draw.tooltip.burst.portal":"Select a portal","toolbar.quick_draw.toggle.text":"Mode: {mode}","toolbar.quick_draw.mode.burst":"Burst","toolbar.quick_draw.mode.multilayer":"Multilayer","toolbar.quick_draw.mode.singlelink":"Simple Path","toolbar.quick_draw.mode.starburst":"Star","toolbar.wasabee.settings":"Configuraes","toolbox.teammates":"Companheiros Online","TRAWL SKIP TILES":"Pular blocos para armadilha","TRAWL TITLE":"Trawl Lanes","TRAWL WARNING":"Isto carregar os dados do bloco em todos os links desenhados. Este  um processo lento.","TRAWL_AUTOMARK":"Auto-mark blockers depois da procura","TRAWL_BULK_LOAD_WARNING":"Este mtodo carrega os dados do bloco o mais rpido possvel. Usa por sua conta e risco.","TRAWL_BULK_LOAD":"Carregar rapidamente Dados do Bloco","TRAWL_CLEAR_MARKERS":"Limpa vrus / destroi marcadores antes da procura","TRAWL_REMAINING":"{count} Restantes","TRAWL":"Procurar por Blockers","TRAWLING":"A Varrer os links a procura de blockers, fecha esta caixa de dilogo para parar","TYPE":"Tipo","UNASSIGNED":"No atribudo","UNKNOWN":"Desconhecido","UPDATE HOVER":"UPDATE {opName} no servidor","UPDATE PERM DENIED":"Voc no possui permisso para editar","UPDATE_CONFLICT_DESC":"A OP foi modificada no servidor desde a ltima sincronizao. Queres substituir a verso do servidor pela atual?","UPDATE_CONFLICT_TITLE":"Conflito detectado com o servidor","UPDATE_COUNT":"Contagem de atualizao","UPDATED":"Atualizado com sucesso","UpgradePortalAlert":"Atualizar","UPLOAD BUTTON HOVER":"UPLOAD {opName} (atualmente no est no servidor)","UPLOADED":"Carregado com sucesso","USE PANES ON MOBILE":"Usar painis (precisa recarregar)","USE_VALID_NAME":"Usa um nome de operao vlido","UseVirusPortalAlert":"Usar Virus","VRLA DESC":"Dependendo do nmero e tipo de Link Amps usados, um nvel de portal de origem inferior pode ser suficiente.","VRLA":"L8+alguns VRLA","WASABEE BUTTON TITLE":"Wasabee:  VERDE E FAZ SMURFS CHORAREM.","WASABEE_D_LIST":"Contagem de chaves defensivas de entrada","WD BUTTON TITLE":"Log de chaves defensivas","WD BUTTON":"W-D Chaves","WRITE_SHORT":"RW","WRITE":"escrita","WSERVER":"Servidor: {url}","YESNO_DEL":"Tem certeza de que deseja excluir {opName}?","ZONE_DRAW":"Clique para definir os limites da zona","ZONE":"Zona","smallScreen":{"ADD_LINKS":"+ Links","ADD_MARKER":"+ Marcador"}}'),A=JSON.parse('{"ABOUT_WASABEE":" Wasabee","acknowledged":" ","ADD LINK TITLE":" ","ADD MARKER TITLE":" ","ADD_AGENT":" :","ADD_BL":" :","ADD_BULK":" ","ADD_BUTTON_LINKS":"   .","ADD_LINKS":" ","ADD_MARKER":"+ ","ADD_NEW_OP":"  ","ADD_SUCC_INSTR":" ","ADD_ZONE":" ","ADD":"","ADD1":"  ","ADD2":"  ","AGENT_STATS":" ","AGENT":"","AGES":" ()","ALREADY_HAS_MARKER":"     .   .","AMAZ_TEAM_NAME":" .","ANCHOR ASSIGNMENT":"   :","ANCHOR_GMAP":"Google-","ANCHOR_PORTAL":" ","ANCHOR_PORTAL2":"  2","ANCHOR_PORTAL3":"  3","ANCHOR1":" 1","ANCHOR2":" 2","ANCHOR3":" 3","ANCHORS_AS_BOOKMARKS":"  ","API_KEY":"API  Rocks:","ASS_TO":" ","ASSIGN LINK PROMPT":"   : {portalName}","ASSIGN MARKER PROMPT":"   {portalName}","ASSIGN OUTBOUND PROMPT":"     {portalName}","ASSIGN OUTBOUND":"  ","ASSIGN":"","ASSIGNED_ONLY_SHORT":"","ASSIGNED_ONLY":" ","assigned":"","AUTH INCOMPAT":"   TamperMonkey ,    Wasabee","AUTH REQUIRED":" ","AUTH TOKEN REJECTED":"     : {error}","AUTH_SELECT_ACCOUNT":" ","AUTO_DRAWS":"-","AUTODRAWS":" - Wasabee","AUTODRAW_PORTALS_SET":"","autodraw.common.draw_button":"","autodraw.fanfield.result":" fanfield  {links}   {fields}   {ap} AP","autodraw.flipflop.result":"Flip flop:  {count} ","autodraw.homogeneous.missing_split":"   {count} ,      ","autodraw.homogeneous.order":"","autodraw.homogeneous.portals_required":" {count}","autodraw.madrid.auto_determined":"-","autodraw.madrid.balanced":"","autodraw.madrid.result":"   {count} ","autodraw.multimax.result":" multimax  {count} ","autodraw.multimax.result_both_side":" multimax  {count1}  {count2} ","autodraw.onion.variant":"","autodraw.onion.variant.equilateral":"~","autodraw.onion.variant.grow":" ","autodraw.onion.variant.balanced":" ","AUTOLOAD_RATE":"    (ms)","AUTOLOAD":"    ","AUTOMARK STOP":"- , ..    ","AUTOMARK":"-","BAT_TOAD":" ","BLOCKER LIST TITLE":"  ","BLOCKER TITLE":"","CANCEL":"","CAPSULE":"","CapturePortalMarker":"","CHANGE SERVER PROMPT":"  Wasabee","CHANGE SERVER":" ","CHANGE_WAS_SERVER":"  Wasabee","CHECKLIST BUTTON TITLE":"- ","CHECKLIST BUTTON":"-","CLEAR LINKS":" ","CLEAR MARKERS":" ","CLEAR_EVERYTHING":" //   ","CLEAROPS BUTTON TITLE":" ","CLEAROPS BUTTON":" ","CLEAROPS PROMPT":"   .      .","CLOSE":"","COMMENT":"","COMPLETED BY":"  {agentName}","completed":"","CON_DEL":" : {opName}","COUNT":"","CREATE_NEW_TEAM":"  ","CreateLinkAlert":"","CUR_USER_INFO":"  ","D_SHOW_LIST":"   ","DEFAULT OP NAME":" : {date}","DELETE ANCHOR PROMPT":"       :","DELETE ANCHOR TITLE":" ","DELETE MARKER PROMPT":"   :","DELETE MARKER TITLE":" ","DELETE_ANCHOR":"","DELETE_LINK":"","DELETE_OP":" {opName}","DESCRIP_PLACEHOLD":" ()","DestroyPortalAlert":"","dialog.about.download_mobile_app":"<h3> Wasabee: </h3><div class=\'desc\'><a href=\'https://app.wasabee.rocks\' target=\'_blank\'>    </a></div>","dialog.agent_comment.text":":","dialog.agent_comment.title":"   {agentName}","dialog.auth.ott.button":"   ","dialog.auth.ott.text":"   <a href=\\"{url}\\" target=\\"_blank\\"> Wasabee</a>,    ","dialog.auth.ott.title":" ","dialog.blockers.clear_automark":" ","dialog.clear_all.text":"  {opName}?","dialog.clear_all.title":": {opName}","dialog.clear_links.text":"     {opName}?","dialog.clear_links.title":" : {opName}","dialog.clear_markers.text":"     {opName}?","dialog.clear_markers.title":" : {opName}","dialog.checklist.count_fields":" ","dialog.checklist.count_fields.no_empty":" {fieldCount}     ","dialog.checklist.count_fields.with_empty":" {fieldCount}   {emptyCount}    {linkCount} ","dialog.checklist.count_fields.link_from_inside":" {count}    ","dialog.checklist.count_fields.link_from_inside.covered_at_order":"   {order}  ","dialog.common.color":"","dialog.common.commands":"","dialog.common.commands_short":"","dialog.common.delete":"","dialog.common.links":"","dialog.common.markers":"","dialog.common.name":"","dialog.common.off":".","dialog.common.on":".","dialog.common.owner":"","dialog.common.zone_all":"","dialog.filter.actions.description":"     ","dialog.filter.actions.delete_visible":"","dialog.filter.actions.delete_hidden":"   ","dialog.filter.actions.shift.label":"","dialog.filter.actions.shift.button":"","dialog.filter.actions.title":"","dialog.filter.filters.apply":" ","dialog.filter.filters.description":"    ,      .","dialog.filter.filters.field.task":"","dialog.filter.filters.field.min_order":" ","dialog.filter.filters.field.max_order":" ","dialog.filter.filters.title":"","dialog.filter.title":"  ","dialog.firebase.setup":" {url}   ,      .    IITC.","dialog.import.url":"  URL","dialog.import.success_message":" .  {count}   {faked}    .   ,          .     -   \'\'    .","dialog.keys.update_error":"    ,    ","dialog.leave_team.text":"  {teamName},          .","dialog.leave_team.title":": {teamName}","dialog.link_list.length":"","dialog.link_list.level":". ","dialog.link_list.all_from":"  ","dialog.link_list.all_to":"  ","dialog.conflict.cancel_upload":" ","dialog.conflict.conflicts":":","dialog.conflict.local":" ","dialog.conflict.server":" ","dialog.conflict.zone":": {name}","dialog.conflict.prop.assignedTo":":","dialog.conflict.prop.comment":":","dialog.conflict.prop.color":":","dialog.conflict.prop.deltaminutes":":","dialog.conflict.prop.fromPortal":":","dialog.conflict.prop.hardness":":","dialog.conflict.prop.order":":","dialog.conflict.prop.state":":","dialog.conflict.prop.toPortal":":","dialog.conflict.prop.zone":":","dialog.conflict.prop.zone_points":" ","dialog.online_agents.actions":"","dialog.online_agents.last_seen":" ","dialog.online_agents.title":" ","dialog.op_settings.advanced":". ","dialog.op_settings.import.desc":" //   ","dialog.op_settings.import.collision_default":"     /","dialog.op_settings.import.select_op":" ","dialog.op_settings.import.select_color":" ","dialog.op_settings.import.button":"","dialog.op_settings.setting":"","dialog.op_settings.zones":"","dialog.ops_list.background_disable":" ","dialog.ops_list.background_enable":"  ","dialog.ops_list.download":" {opName}","dialog.ops_list.last_fetched":": {date}","dialog.ops_list.local_change":"  ","dialog.ops_list.remote_change":"   ","dialog.ops_list.toggle_hide":" /","dialog.ops_list.unhide_ops":"  ","dialog.remove_agent.text":"  {agentName}  {teamName}?","dialog.remove_agent.title":": {agentName}","dialog.setcomment.portal_hardness":"","dialog.settings.disable_live_updates":"    ","dialog.team_list.load_wd_keys":"   ","dialog.team_list.share_wd_keys":"   ","dialog.team_manage.join_link":"  ","dialog.team_manage.join_link.create":"","dialog.team_manage.join_link.revoke":"","dialog.team_members.location":" ","dialog.team_members.wd_keys":"   ","dialog.team_message":" : \\"{message}\\"  {sender}","dialog.update_warning":"Wasabee . ,        <a href=\'https://wasabee.rocks\'>https://wasabee.rocks</a>","dialog.zone_color.title":" ","dialog.zone_color.text":"      {zoneName}","dialog.zones.color":"","dialog.zones.color_links":"  ","dialog.zones.delete.title":"  {zoneName}","dialog.zones.delete.text":"   {zoneName} ?","dialog.zones.delete_zone_shape":"  ","dialog.zones.draw_zone_shape":" ","dialog.zones.id":"ID","dialog.zones.jump_to":"  ","dialog.zones.stop_drawing":" ","dialog.zones.title":"","DRAW TOOLS FORMAT":" ","DUPE_OP":" ","END_PORT":" ","ExcludeMarker":"  -/","EXPORT OP TITLE":"  ","EXPORT OP":" ","EXPORT":":","FAKED":": [{portalId}]","FANFIELD":"","FANFIELD2":" Fan Field","FarmPortalMarker":"","FLIP_FLOP_NAME":"Flip flop","FLIP_FLOP_TITLE":"Flip flop","FLIP_FLOP_DESC":"   ,     SBUL,  fanfield,              ,    .","FLIP_FLOP_INSTRUCTION":" ,  ,       .   fanfield  ,        .","FLIP_FLOP_FIND_ANCHORS":"  ","FROM_1-2":"   1-2","FROM_1-3":"   1-3","FROM_2-3":"   2-3","FROM_DEPTH":" ","FROM_PORT":" ","GET DT":"  ","GetKeyPortalMarker":" ","GotoPortalMarker":" ","H-GEN_INST":"    .   .  \'\'.","HF_DEEP_SEARCH":" ","HF_DRAW_BUTTON":"","HF_REDRAW_BUTTON":"","HG":" ","HOURS":" ({hours}  )","HOW_TO_VIDS":"<h3> :</h3><div class=\'desc\'><a href=\'https://www.youtube.com/playlist?list=PLyku9nmtwrADKQM9_EZk7NYbZXVOrBhXa\' target=\'_blank\'>Wasabee Playlist</a></div>","IMP_NOPE":" .","IMP_WAS_OP":"  Wasabee","IMPORT_OP_SUCCESS":": {opName}  .","IMPORT_OP_TITLE":" : {date}","IMPORT_OP":" ","IMPOSSIBLE":"","INGNAME_GID":" Ingress  GoogleID","INPUT_DT_KEY_COUNT":"    ","INVALID REQUEST":" ","IOS NEED FAKE UA":"  \'Custom UserAgent for Webviews\'   IITC-Mobile,   ","KEY_LIST2":"   : {opName}","KEYS":"","KNOWN_BLOCK":" : {opName}","LA DESC":"                .","LA":"8   LA","LANG":"","LEAVE":"","LetDecayPortalAlert":"","LINK ASSIGNMENT":" :","LINK STATE PROMPT":" ","LINK STATE":"  :","LINKS BUTTON TITLE":"","LINKS":"","LINKS2":"{portalName} :  ({outgoing}/{incoming})","LOAD PORTALS":" ","LOADING":"[]","LOADING1":": [{portalGuid}]","LOC_PROC":" ","LOCATION SUB":" ","LOCFRMSER":" (   )","LOG IN":"","LOG_OUT":"","MADRID_SET_1":"      2   3","MADRID_SET_2":"      3   1","MADRID_SET_3":"      1   2","MADRID_TITLE":" ","MADRID_WAS_TAKEN":" ","MADRID":"","MANAGE_TEAM":" {teamName}","MANAGE":"","MARKER ASSIGNMENT":" :","MARKER LIST TITLE":" ","MARKER LIST":"","MARKER STATE PROMPT":" ","MARKER STATE":"  :","MARKER_LIST":" : {opName}","MARKERS BUTTON TITLE":"","MAX_SPLITS":" ","MAX":"FanField","MeetAgentPortalMarker":" ","MERGE ON UPDATE":"  ","MERGE_CHANGES_LOCAL":"  ","MERGE_CHANGES_MERGE":" ","MERGE_CHANGES_REMOTE":"  ","MERGE_LOCAL":"   ","MERGE_MESSAGE":",   {opName}    .       ,         ?","MERGE_REBASE":"","MERGE_REPLACE":"   ","MERGE_TITLE":"       ","MIN_SRC_PORT_LVL":"     ","MINUTES":" ({minutes}  )","MM":"Multimax","MM_BOTH_SIDE":"    ","MM_INSERT_ORDER":"  ","MM_SET_ALL_PORTALS":"  ","MM_SET_ALL_KEYS":"  GetKey","MM_SET_KEYS_ZONE":"GetKey: {zoneName}","MM_SPINE":"","MULTI_M_TITLE":"   ","MULTI_M":"","MUST_NOT_BE_EMPTY":"   ","MY_CAP_ID":"ID  ","MY_COUNT":" ","NAME_REQ":" ","NAME":":","NEW_OP":" ","NEW_TEAM_NAME":"  ","NEW_TEAM":" ","NEW_WAS_SERVER":"  Wasabee","NEWOP BUTTON TITLE":"  ","NEWOP BUTTON":" ","NO_DT_ITEMS":"   ","NO_LABEL":"  ","NO_STOCK_INTEL":"Wasabee     Intel","NO_TITLE":"  ","NO LONGER AVAILABLE":"   : {error}","NO LONGER AVAILABLE SHORT":"   ","NOT LOGGED IN SHORT":" ","NOT LOGGED IN":" : {error}","NOT_LOADED":"  ,   .","NOT_SET":" ","NTNAME":"","OK":"","ON_HAND":" ","ONION_WAS_TAKEN":"Onion","ONION":"","ONLY_DT_IMP":" (   )","OP DELETED":"   : {opID}","OP PERM DENIED":"    : {opID}","OP_CHECKLIST":"- : {opName}","OP_NAME_UNSET":"   ","OP_PERMS":" ","OP_SETTINGS_BUTTON":" ","OP_SETTINGS_TITLE":" ","OPEN_REQUEST":"[ ]","OPER_COLOR":" :","OPER_NAME":" :","OPERATIONS":"","OPS BUTTON TITLE":" ","OPS BUTTON":" ","ORDER":"","OtherPortalAlert":"","PASTE_INSTRUCT":"   Wasabee .\\n\\nWasabee       .\\n\\n     IITC.\\n\\n      IITC,     ,        IITC.     .\\n\\n    \'\',        (   ,        ).\\n\\n    .","pending":"","PERM DENIED":" : {error}","PERM DENIED SHORT":" ","PERMS":" {opName}","PLEASE_SELECT_PORTAL":" ","popup.anchor.duplicate":"","popup.anchor.keys":": {onHand} / {required}","popup.anchor.keys_mycount":": {myCount} / {required}","popup.marker.state_button":" ","PORTAL KEY LIST":"    {portalName}","PORTAL_COUNT":"{count} ","PORTAL":"","QD BUTTON CHANGE COLOR":",     ","QD BUTTON END":",    ","QD BUTTON TOGGLE MODE":",    ","QD CHANGE COLOR":" ","QD END":"","QD TITLE":"  ","QD TOGGLE MODE":" ","QDBASE":" ","QDCONT":"   ,   .","QDNEXT":"    .","QDSTART":"    .","READ_SHORT":"RO","READ":" ","RechargePortalAlert":"","REFERENCE_TIME":" :","REM_LOC_CP":"   {opName}","REMOVE_TEAM_CONFIRM_LABEL":"   {teamName}   Wasabee?","REMOVE_TEAM_CONFIRM_TITLE":"  {teamName}","REMOVE_TEAM":" :","REMOVE":"","RENAME_TEAM":" :","RENAME":"","REQUIRED":"","RESET":"","REVERSE":"","ROCKS_COM":" enl.rocks:","ROLE":"","SAVELINKS TITLE":" ","SAVELINKS_DRAW":" ","SAVELINKS":" ","SECONDS":" ({seconds}  )","SEL_SB_ANCHOR":" .","SEL_SB_ANCHOR2":" . ,    ,   .","SEL_SL_ANCHOR":" ,    .         -.","SEL_SRC_ANC2":"  :    2","SEL_SRC_PORT":"  ","SELECT PORTAL":"  ","SELECT_FAN_PORTALS":"  ,     ,       .","SELECT_FAN_PORTALS2":",    ,   .","SELECT_INSTRUCTIONS":"   ,    .","SELECT_ONION_PORTALS":"   .        ,      .","SELF SWAP":"      !   .","SEND ANALYTICS":"  ","SEND LOCATION":"  (  IITC  )","SEND TARGET AGENT":"  ","SEND TARGET CONFIRM":"   {portalName}  {agent}?","SEND TARGET":" ","SEND_LOC":" ","SET_3_PORT":"   !","SET_COMMENT":" ","SET_LCOMMENT":"   ","SET_LINK_COMMENT":"   :","SET_LINKS_ZONES":"  ","SET_MARKER_COMMENT":"    :","SET_MARKER_TYPE_TITLE":"  ","SET_MARKERS_ZONES":"   ","SET_MCOMMENT":"  : {portalName}","SET_NEW_OP":"    ","SET_PCOMMENT":"  : {portalName}","SET_PORT_COMMENT":"  :","SET_PORTAL_COMMENT":"  ","SET":"","SETTINGS_TOOLBOX":" Wasabee","SETTINGS_TITLE":" ","SKINS_AVAILABLE":" {count}  .","SKINS_BUTTON":" ","SKINS_DESCRIPTION":"      .     ,   .","SKINS_MANAGE_TITLE":" ","SKIP_CONFIRM_ALWAYS":"   ( )","SKIP_CONFIRM_ENTITY":"   /","SKIP_CONFIRM_NEVER":" ","SKIP_CONFIRM":" ","SOURCE_PORT":" ","STARBURST TITLE":"","STARBURST_DRAW":"","STARBURST":"","START_PORT":" ","STATE":"","SUPPORT_INSTRUCT":" ,   <a href=\'https://enl.rocks/-dEHQ\' target=\'_blank\'>The Wasabee User Telegram Channel</a>","SWAP PROMPT":" :","SWAP TITLE":" ","SWAP WITH":"  ","SWAP":"","swap.marker.title":" ","swap.marker.prompt":"  :","SYNC DONE":"  <br> <a href=\'https://github.com/wasabee-project/Wasabee-IITC/wiki\' target=\'_blank\'>   ,   .</a>","SYNC":"  ","TARGET SENT":" ","TEAM STATE":" ","TEAM_CREATED":" {teamName} ","TEAM_NAME":" ","TEAM":"","TEAMS BUTTON TITLE":"  Wasabee","TEAMS BUTTON":"","TO_PORT":" ","toolbar.op.filter":"","toolbar.op.redo":"","toolbar.op.title":": {opName}","toolbar.op.undo":"","toolbar.quick_delete.apply.text":"","toolbar.quick_delete.apply.title":"  /","toolbar.quick_delete.cancel.text":"","toolbar.quick_delete.cancel.title":"","toolbar.quick_delete.clear.text":" ","toolbar.quick_delete.clear.title":"    ","toolbar.quick_delete.stop.text":"","toolbar.quick_delete.stop.title":"   ","toolbar.quick_delete.title":" ","toolbar.quick_delete.tooltip.toggle_mode":"  ,     ","toolbar.quick_delete.tooltip.quick_mode":"  ,    ","toolbar.quick_draw.tooltip.star_mode.anchor":"  ","toolbar.quick_draw.tooltip.star_mode.portal":" ","toolbar.quick_draw.tooltip.single_mode.first":"   ","toolbar.quick_draw.tooltip.single_mode.next":"   ","toolbar.quick_draw.tooltip.portal_fail":"    ,   ","toolbar.quick_draw.tooltip.burst.portal":" ","toolbar.quick_draw.toggle.text":": {mode}","toolbar.quick_draw.mode.burst":"","toolbar.quick_draw.mode.multilayer":"","toolbar.quick_draw.mode.singlelink":"","toolbar.quick_draw.mode.starburst":"","toolbar.wasabee.settings":"","toolbox.teammates":" ","TRAWL SKIP TILES":"   ","TRAWL TITLE":" ","TRAWL WARNING":"        .   .","TRAWL_AUTOMARK":"    ","TRAWL_BULK_LOAD_WARNING":"      ,   .       .","TRAWL_BULK_LOAD":"   ","TRAWL_CLEAR_MARKERS":"      ","TRAWL_REMAINING":"{count}  ","TRAWL":"   ","TRAWLING":"    ,   ,   ","TYPE":"","UNASSIGNED":" ","UNKNOWN":"","UPDATE HOVER":" {opName}  ","UPDATE PERM DENIED":"     ","UPDATE_CONFLICT_DESC":"       .      ?","UPDATE_CONFLICT_TITLE":"   ","UPDATE_COUNT":" ","UPDATED":" ","UpgradePortalAlert":"","UPLOAD BUTTON HOVER":" {opName}   (    )","UPLOADED":"   ","USE PANES ON MOBILE":"  ( )","USE_VALID_NAME":"   ","UseVirusPortalAlert":" ","VRLA DESC":"                .","VRLA":"8   VRLA","WASABEE BUTTON TITLE":"Wasabee:     .","WASABEE_D_LIST":"    ","WD BUTTON TITLE":"   ","WD BUTTON":"  ","WRITE_SHORT":"RW","WRITE":"  ","WSERVER":": {url}","YESNO_DEL":",    {opName}?","ZONE_DRAW":",    ","ZONE":"","smallScreen":{"ADD_LINKS":"+ ","ADD_MARKER":"+ "}}'),k=JSON.parse('{"ABOUT_WASABEE":"Om Wasabee","acknowledged":"Anerkendt","ADD LINK TITLE":"Tilfj Links","ADD MARKER TITLE":"Tilfj Markrer","ADD_AGENT":"Tilfj Agent:","ADD_BL":"Tilfj baglinie:","ADD_BULK":"Massetilfj","ADD_BUTTON_LINKS":"Tilfj alle links med det samme.","ADD_LINKS":"Tilfj Links","ADD_MARKER":"+ Markr","ADD_NEW_OP":"Tilfj Ny Op","ADD_SUCC_INSTR":"Agent tilfjet","ADD_ZONE":"Tilfj Zone","ADD":"Tilfj","ADD1":"Tilfj frste link","ADD2":"Tilfj andet link","AGENT_STATS":"Agent Statistik","AGENT":"Agent","AGES":" (for lnge siden)","ALREADY_HAS_MARKER":"Denne portal har allerede en markr, vlg en anden Portal.","AMAZ_TEAM_NAME":"Fantastisk holdnavn.","ANCHOR ASSIGNMENT":"Tilknyt alle udgende links til:","ANCHOR_GMAP":"Google Maps","ANCHOR_PORTAL":"Anker Portal","ANCHOR_PORTAL2":"Anker Portal 2","ANCHOR_PORTAL3":"Anker Portal 3","ANCHOR1":"Anker 1","ANCHOR2":"Anker 2","ANCHOR3":"Anker 3","ANCHORS_AS_BOOKMARKS":"Ankere som bookmarks","API_KEY":"Rocks API-ngle:","ASS_TO":"Tildelt","ASSIGN LINK PROMPT":"Tilfj link fra: {portalName}","ASSIGN MARKER PROMPT":"Tildel markr fra: {portalName}","ASSIGN OUTBOUND PROMPT":"Tildel alle udgende links fra: {portalName}","ASSIGN OUTBOUND":"Tildel udgende links","ASSIGN":"Tildel","ASSIGNED_ONLY_SHORT":"KT","ASSIGNED_ONLY":"Kun tildelt","assigned":"Tildelt","AUTH INCOMPAT":"Du har aktiveret et plugin i TamperMonkey, der er inkompatibelt med Wasabee","AUTH REQUIRED":"Godkendelse pkrvet","AUTH TOKEN REJECTED":"Afsendelse af godkendelsestoken til serveren blev afvist: {error}","AUTH_SELECT_ACCOUNT":"Vlg konto","AUTO_DRAWS":"Auto-tegne","AUTODRAWS":"Wasabee Indstillinger for automatisk tegning","AUTODRAW_PORTALS_SET":"Portaler","autodraw.common.draw_button":"Tegn","autodraw.fanfield.result":"Fanfield found {links} links and {fields} fields for {ap} AP","autodraw.flipflop.result":"Flip flop: fundet {count} links","autodraw.homogeneous.missing_split":"Unable to find {count} splits, try less depth or a different region","autodraw.homogeneous.order":"Order","autodraw.homogeneous.portals_required":"{count} required","autodraw.madrid.auto_determined":"Auto-determined","autodraw.madrid.balanced":"Balanced","autodraw.madrid.result":"Madrid found {count} layers","autodraw.multimax.result":"Multimax found {count} layers","autodraw.multimax.result_both_side":"Multimax found {count1} and {count2} layers","autodraw.onion.variant":"Valg","autodraw.onion.variant.equilateral":"~Ligesidet","autodraw.onion.variant.grow":"Lad det vokse","autodraw.onion.variant.balanced":"Perfekt balanceret","AUTOLOAD_RATE":"Rate for anmodning om portaldetaljer (ms)","AUTOLOAD":"Indls automatisk manglende portaloplysninger","AUTOMARK STOP":"Auto-markering stoppede p grund af, at portaler ikke blev indlst","AUTOMARK":"Auto-mrke","BAT_TOAD":"Battle Toads/manglende oversttelse","BLOCKER LIST TITLE":"Vis alle blokkere","BLOCKER TITLE":"Blokere","CANCEL":"Annuller","CAPSULE":"Kapsel","CapturePortalMarker":"erobre","CHANGE SERVER PROMPT":"Ny Wasabee Server","CHANGE SERVER":"Skift Server","CHANGE_WAS_SERVER":"Skift Wasabee Server","CHECKLIST BUTTON TITLE":"Operation Tjekliste","CHECKLIST BUTTON":"Tjekliste","CLEAR LINKS":"Ryd links","CLEAR MARKERS":"Ryd markrer","CLEAR_EVERYTHING":"Ryd portaler/links/markrer for aktuel OP","CLEAROPS BUTTON TITLE":"Ryd Data","CLEAROPS BUTTON":"Ryd Data","CLEAROPS PROMPT":"Ryd alle lokale OPS. Ops vil blive gendannet ved nste download.","CLOSE":"Luk","COMMENT":"Kommentar","COMPLETED BY":"Frdiggjort af {agentName}","completed":"Frdiggjort","CON_DEL":"Bekrft sletning: {opName}","COUNT":"Optlling","CREATE_NEW_TEAM":"Opret nyt team","CreateLinkAlert":"Link","CUR_USER_INFO":"Aktuelle brugeroplysninger","D_SHOW_LIST":"Input defensive ngler","DEFAULT OP NAME":"Ny Op: {date}","DELETE ANCHOR PROMPT":"nsker du at slette dette anker og alle tilhrende links:","DELETE ANCHOR TITLE":"Slet anker","DELETE MARKER PROMPT":"Vil du slette denne markr:","DELETE MARKER TITLE":"Slet markr","DELETE_ANCHOR":"Slet","DELETE_LINK":"Slet","DELETE_OP":"Slet {opName}","DESCRIP_PLACEHOLD":"Beskrivelse (valgfri)","DestroyPortalAlert":"delg/Skyd","dialog.about.download_mobile_app":"<h3>Wasabee App: </h3><div class=\'desc\'><a href=\'https://app.wasabee.rocks\' target=\'_blank\'>Download the ground Agents application</a></div>","dialog.agent_comment.text":"Comment:","dialog.agent_comment.title":"Set comment for {agentName}","dialog.auth.ott.button":"One Time Token Login","dialog.auth.ott.text":"Get a token from the <a href=\\"{url}\\" target=\\"_blank\\">Wasabee Server</a>, then paste it here","dialog.auth.ott.title":"One Time Token","dialog.blockers.clear_automark":"Clear Automark","dialog.clear_all.text":"Do you want to reset {opName}?","dialog.clear_all.title":"Clear: {opName}","dialog.clear_links.text":"Do you want to remove all links from {opName}?","dialog.clear_links.title":"Clear Links: {opName}","dialog.clear_markers.text":"Do you want to remove all markers from {opName}?","dialog.clear_markers.title":"Clear Markers: {opName}","dialog.checklist.count_fields":"Count fields","dialog.checklist.count_fields.no_empty":"Found {fieldCount} fields and no empty field","dialog.checklist.count_fields.with_empty":"Found {fieldCount} fields and {emptyCount} empty field(s) on {linkCount} link(s)","dialog.checklist.count_fields.link_from_inside":"Found {count} links from covered portals","dialog.checklist.count_fields.link_from_inside.covered_at_order":" at {order} by link ","dialog.common.color":"Color","dialog.common.commands":"Commands","dialog.common.commands_short":"Cmds","dialog.common.delete":"Delete","dialog.common.links":"Links","dialog.common.markers":"Markers","dialog.common.name":"Name","dialog.common.off":"Off","dialog.common.on":"On","dialog.common.owner":"Owner","dialog.common.zone_all":"All","dialog.filter.actions.description":"Apply a change to all visible tasks","dialog.filter.actions.delete_visible":"Delete","dialog.filter.actions.delete_hidden":"Delete all other tasks","dialog.filter.actions.shift.label":"Offset","dialog.filter.actions.shift.button":"Shift","dialog.filter.actions.title":"Actions","dialog.filter.filters.apply":"Apply filters","dialog.filter.filters.description":"Select the properties to filter the tasks you want to see&change.","dialog.filter.filters.field.task":"Task","dialog.filter.filters.field.min_order":"Min order","dialog.filter.filters.field.max_order":"Max order","dialog.filter.filters.title":"Filters","dialog.filter.title":"Filters&Actions","dialog.firebase.setup":"Visit {url} and press the button to authorize live updates. You will need to reload IITC afterward.","dialog.import.url":"Fill from URL","dialog.import.success_message":"Import fuldfrt. Fandt {count} portaler og brugte {faked} forfalskede. Brug venligst swap-funktionen til at flytte forfalskede portaler til de rigtige portaler p samme sted. Zoom ind p \'Indlser\' portaler i tjeklisten kan tvinge dem til at indlse.","dialog.keys.update_error":"Portal not in op yet, please sync to server first","dialog.leave_team.text":"If you leave {teamName} you cannot rejoin unless the owner re-adds you.","dialog.leave_team.title":"Leave: {teamName}","dialog.link_list.length":"Length","dialog.link_list.level":"Min Lvl","dialog.link_list.all_from":"Set all outbound","dialog.link_list.all_to":"Set all inbound","dialog.conflict.cancel_upload":"Cancel upload","dialog.conflict.conflicts":"Conflicts:","dialog.conflict.local":"Local copy","dialog.conflict.server":"Server copy","dialog.conflict.zone":"Zone: {name}","dialog.conflict.prop.assignedTo":"Assign:","dialog.conflict.prop.comment":"Comment:","dialog.conflict.prop.color":"Color:","dialog.conflict.prop.deltaminutes":"Delta:","dialog.conflict.prop.fromPortal":"From:","dialog.conflict.prop.hardness":"Hard:","dialog.conflict.prop.order":"Order:","dialog.conflict.prop.state":"State:","dialog.conflict.prop.toPortal":"To:","dialog.conflict.prop.zone":"Zone:","dialog.conflict.prop.zone_points":"Shape has changed","dialog.online_agents.actions":"Actions","dialog.online_agents.last_seen":"Last Seen","dialog.online_agents.title":"Online Agents","dialog.op_settings.advanced":"Advanced","dialog.op_settings.import.desc":"Import links/markers/zones from another OP","dialog.op_settings.import.collision_default":"In case of conflicts, use imported links/markers","dialog.op_settings.import.select_op":"Select OP","dialog.op_settings.import.select_color":"OP link color","dialog.op_settings.import.button":"Import","dialog.op_settings.setting":"Settings","dialog.op_settings.zones":"Zones","dialog.ops_list.background_disable":"Disable background","dialog.ops_list.background_enable":"Show in background","dialog.ops_list.download":"Download {opName}","dialog.ops_list.last_fetched":"Last fetched: {date}","dialog.ops_list.local_change":"Local has changed","dialog.ops_list.remote_change":"Remote has changed","dialog.ops_list.toggle_hide":"Toggle Show/Hide","dialog.ops_list.unhide_ops":"Unhide all OPs","dialog.remove_agent.text":"Do you want to remove {agentName} from {teamName}?","dialog.remove_agent.title":"Remove: {agentName}","dialog.setcomment.portal_hardness":"Svrhedsgrad","dialog.settings.disable_live_updates":"Disable live updates","dialog.team_list.load_wd_keys":"Load W-D Keys","dialog.team_list.share_wd_keys":"Share W-D Keys","dialog.team_manage.join_link":"Join Link","dialog.team_manage.join_link.create":"Create","dialog.team_manage.join_link.revoke":"Revoke","dialog.team_members.location":"Sharing Location","dialog.team_members.wd_keys":"Sharing W-D Keys","dialog.team_message":"Team announcement: {message} from {sender}","dialog.update_warning":"Wasabee is out of date. Please update using your plugin manager or by going to <a href=\'https://wasabee.rocks\'>https://wasabee.rocks</a>","dialog.zone_color.title":"Zone Color","dialog.zone_color.text":"Set the color of all links in zone {zoneName}","dialog.zones.color":"Color","dialog.zones.color_links":"Color links","dialog.zones.delete.title":"Delete zone {zoneName}","dialog.zones.delete.text":"Do you want to delete zone {zoneName} ?","dialog.zones.delete_zone_shape":"Reset the shape","dialog.zones.draw_zone_shape":"Draw the boundaries","dialog.zones.id":"ID","dialog.zones.jump_to":"Jump to zone","dialog.zones.stop_drawing":"Stop drawing","dialog.zones.title":"Zones","DRAW TOOLS FORMAT":"Draw Tools Format","DUPE_OP":"Duplikere Operation","END_PORT":"Slut Portal ","ExcludeMarker":"Udelad fra Auto-Tegn/Marker","EXPORT OP TITLE":"Eksporter aktuel Op","EXPORT OP":"Eksporter Op","EXPORT":"Eksporter:","FAKED":"forfalsket: [{portalId}]","FANFIELD":"Tegn","FANFIELD2":"Tegn Fan Field","FarmPortalMarker":"Farm","FLIP_FLOP_NAME":"Flip flop","FLIP_FLOP_TITLE":"Flip flop","FLIP_FLOP_DESC":"Fra et givet anker, et st synlige portaler og et antal SBUL, find et fanefelt til at smide links fra anker ved at mindske afstanden for at undg at sge ngler.","FLIP_FLOP_INSTRUCTION":"Vlg en portal, zoom for at se nok portaler og tryk p Tegn. Nr et fanfelt er fundet, du kan sge efter andre ankre for gentagne linkninger","FLIP_FLOP_FIND_ANCHORS":"Find andre ankre","FROM_1-2":"fra basislinie 1-2","FROM_1-3":"fra basislinie 1-3","FROM_2-3":"fra basislinie 2-3","FROM_DEPTH":"fra center","FROM_PORT":"Fra Portal","GET DT":"F eksisterende DrawTools-tegning","GetKeyPortalMarker":"Hent ngler","GotoPortalMarker":"G Til","H-GEN_INST":"St portaler til det ydre lag. Vlg antal opdelinger. Klik p tegn","HF_DEEP_SEARCH":"Omfattende sgning","HF_DRAW_BUTTON":"Tegn","HF_REDRAW_BUTTON":"Gentegn","HG":"Homogent felt","HOURS":" ({hours} timer siden)","HOW_TO_VIDS":"<h3>Sdan-gr-du videoer:</h3><div class=\'desc\'><a href=\'https://www.youtube.com/playlist?list=PLyku9nmtwrADKQM9_EZk7NYbZXVOrBhXa\' target=\'_blank\'>Wasabee Playlist</a></div>","IMP_NOPE":"Import mislykkedes.","IMP_WAS_OP":"Importer Wasabee Operation","IMPORT_OP_SUCCESS":"Importeret Operation: {opName} lykkedes.","IMPORT_OP_TITLE":"Importer Op: {date}","IMPORT_OP":"Importer Operation","IMPOSSIBLE":"Umulig","INGNAME_GID":"Ingress navn eller GoogleID","INPUT_DT_KEY_COUNT":"Input antal defensiv ngler","INVALID REQUEST":"Ugyldig foresprgsel","IOS NEED FAKE UA":"Du skal indstille en \'Custom UserAgent for Webviews\' i IITC-Mobile-indstillingerne, ellers mislykkes login","KEY_LIST2":"Ngleliste til Operationen: {opName}","KEYS":"Ngler","KNOWN_BLOCK":"Kendte blokkere: {opName}","LA DESC":"Afhngigt af antallet og typen af anvendte Link Amps, kan et lavere kildeportal level vre tilstrkkeligt.","LA":"L8+ nogle LA","LANG":"Sprog","LEAVE":"Forlad","LetDecayPortalAlert":"Lad forfalde","LINK ASSIGNMENT":"Tildel link til:","LINK STATE PROMPT":"Link tilstand","LINK STATE":"Angiv link-status:","LINKS BUTTON TITLE":"Links","LINKS":"Links","LINKS2":"{portalName} : Links ({outgoing}/{incoming})","LOAD PORTALS":"Load Portaler","LOADING":"[loader]","LOADING1":"Loader: [{portalGuid}]","LOC_PROC":"Beliggenhed behandlet","LOCATION SUB":"Lokation registreret","LOCFRMSER":" (lokalt og fra server)","LOG IN":"Log Ind","LOG_OUT":"Log Ud","MADRID_SET_1":"Vlg regionen for basislinket Anker 2 til Anker 3","MADRID_SET_2":"Vlg regionen for basislinket Anker 3 til Anker 1","MADRID_SET_3":"Vlg regionen for basislinket Anker 1 til Anker 2","MADRID_TITLE":"Madrid Protokol","MADRID_WAS_TAKEN":"Madrid Protocol","MADRID":"Tegn","MANAGE_TEAM":"Administrer {teamName}","MANAGE":"Administrer","MARKER ASSIGNMENT":"Tildel markr til:","MARKER LIST TITLE":"Markr Liste","MARKER LIST":"Markrer","MARKER STATE PROMPT":"Markr Status","MARKER STATE":"Angiv markrtilstand:","MARKER_LIST":"Markr Liste: {opName}","MARKERS BUTTON TITLE":"Markrer","MAX_SPLITS":"Max Delinger","MAX":"Fane Felt","MeetAgentPortalMarker":"Md Agent","MERGE ON UPDATE":"Flet ved opdatering","MERGE_CHANGES_LOCAL":"Lokale ndringer","MERGE_CHANGES_MERGE":"Flet resultat","MERGE_CHANGES_REMOTE":"Fjernndringer","MERGE_LOCAL":"Behold lokale","MERGE_MESSAGE":"Det ser ud til, at {opName} har lokale ndringer. Vil du flette dine ndringer med server-OP\'en, bruge serverversionen eller beholde den lokale version?","MERGE_REBASE":"Flet","MERGE_REPLACE":"Brug server","MERGE_TITLE":"Flet lokal&fjern OP","MIN_SRC_PORT_LVL":"Minimums level pkrvet p kildeportalen","MINUTES":" ({minutes} minutter siden)","MM":"Multimaks","MM_BOTH_SIDE":"Brug begge base sider","MM_INSERT_ORDER":"Indst i slutningen","MM_SET_ALL_PORTALS":"Alle synlige portaler","MM_SET_ALL_KEYS":"Alle GetKey-Markrer","MM_SET_KEYS_ZONE":"GetKey: {zoneName}","MM_SPINE":"Rygrad","MULTI_M_TITLE":"Tegn Max Lag","MULTI_M":"Tegn","MUST_NOT_BE_EMPTY":"M ikke vre tom","MY_CAP_ID":"Mit kapsel ID","MY_COUNT":"Mit Antal","NAME_REQ":"Navn pkrvet","NAME":"Navn:","NEW_OP":"Ny operation","NEW_TEAM_NAME":"Nyt holdnavn","NEW_TEAM":"Nyt hold","NEW_WAS_SERVER":"Ny Wasabee Server","NEWOP BUTTON TITLE":"Opret en ny operation","NEWOP BUTTON":"Ny Op","NO_DT_ITEMS":"Ingen DrawTools tegnede elementer fundet","NO_LABEL":"Ingen etiket sat","NO_STOCK_INTEL":"Wasabee understtter ikke stock intel tegninger","NO_TITLE":"Ingen titel angivet","NO LONGER AVAILABLE":"Ressource fjernet fra serveren: {error}","NO LONGER AVAILABLE SHORT":"Ressource fjernet fra serveren","NOT LOGGED IN SHORT":"Ikke logget ind","NOT LOGGED IN":"Ikke logget ind: {error}","NOT_LOADED":"Ikke fuldt indlst, prv igen.","NOT_SET":"ikke indstillet","NTNAME":"Navn","OK":"OK","ON_HAND":"Har Allerede","ONION_WAS_TAKEN":"Onion/lg","ONION":"Tegn","ONLY_DT_IMP":" (kun for DrawTools-import)","OP DELETED":"Operationen fjernet fra serveren: {opID}","OP PERM DENIED":"Tilladelse ngtet til operationen: {opID}","OP_CHECKLIST":"Operation Tjekliste: {opName}","OP_NAME_UNSET":"Operationsnavn blev deaktiveret","OP_PERMS":"Op Tilladelser","OP_SETTINGS_BUTTON":"Op Indstillinger ","OP_SETTINGS_TITLE":"Op Indstillinger","OPEN_REQUEST":"[bn anmodning]","OPER_COLOR":"Operation Farve:","OPER_NAME":"Operation Navn:","OPERATIONS":"Operationer","OPS BUTTON TITLE":"Operations Liste","OPS BUTTON":"Vlg OP","ORDER":"Sorter","OtherPortalAlert":"Andet","PASTE_INSTRUCT":"Indst en Wasabee draw-eksport her.\\n\\nWasabee kan ikke importere stock intel-formatet.\\n\\nDer er eksperimentel understttelse af import af IITC DrawTools-formatet.\\n\\nFr du importerer DrawTools-formatet, skal du forhndsvise omrderne og srge for, at alle portalerne indlses s IITC har dem cachelagret. Alle portaler, der ikke er pre-cached, vil blive forfalsket.\\n\\nDu bliver ndt til at bruge \'swap\'-funktionen til at flytte ankre fra de falske portaler til de rigtige portaler (de br vre p den korrekte placering, bare ikke forbundet med portal.\\n\\nCachede portaler er muligvis ikke korrekt navngivet.","pending":"Afventer","PERM DENIED":"Tilladelse ngtet: {error}","PERM DENIED SHORT":"Tilladelse ngtet","PERMS":"{opName} tilladelser","PLEASE_SELECT_PORTAL":"Vlg venligst en portal","popup.anchor.duplicate":"Duplicate","popup.anchor.keys":"Keys: {onHand} / {required}","popup.anchor.keys_mycount":"Me: {myCount} / {required}","popup.marker.state_button":"Set State","PORTAL KEY LIST":"Ngleliste for portal {portalName}","PORTAL_COUNT":"{count} portaler","PORTAL":"Portal","QD BUTTON CHANGE COLOR":"Klik for at ndre farve p nste link","QD BUTTON END":"Klik for at stoppe med at tegne felter","QD BUTTON TOGGLE MODE":"Klik for at ndre tegnetilstand","QD CHANGE COLOR":"Skift farve","QD END":"Slut","QD TITLE":"Hurtig tegn lag","QD TOGGLE MODE":"Skift tilstand","QDBASE":"Base Link","QDCONT":"Klik p en baglinieportal for at tegne et felt.","QDNEXT":"Klik p den anden ankerportal.","QDSTART":"Klik p den frste ankerportal.","READ_SHORT":"L","READ":"Ls","RechargePortalAlert":"Genoplad","REFERENCE_TIME":"Referencetid:","REM_LOC_CP":"Fjern lokal kopi af {opName}","REMOVE_TEAM_CONFIRM_LABEL":"Vil du permanent fjerne {team Name} fra Wasabi-serveren?","REMOVE_TEAM_CONFIRM_TITLE":"Fjern hold {teamName}","REMOVE_TEAM":"Fjern hold:","REMOVE":"Fjern","RENAME_TEAM":"Omdb hold:","RENAME":"Omdb","REQUIRED":"Pkrvet","RESET":"Nulstil","REVERSE":"Endevend","ROCKS_COM":"enl.rocks fllesskab:","ROLE":"Rolle","SAVELINKS TITLE":"Gem Links","SAVELINKS_DRAW":"Gem Links","SAVELINKS":"Gem Links","SECONDS":" ({seconds} sekunder siden)","SEL_SB_ANCHOR":"Vlg ankerportal.","SEL_SB_ANCHOR2":"Zoom ud. Srg for, at alle portaler er indlst, og klik derefter p Tegn.","SEL_SL_ANCHOR":"Vlg den portal, du vil gemme links til. Klik p knappen Gem links og se p tjeklisten.","SEL_SRC_ANC2":"Vlg bde Kilde og Anker 2","SEL_SRC_PORT":"Vlg en kildeportal","SELECT PORTAL":"Vlg venligst en portal frst","SELECT_FAN_PORTALS":"Vlg en ankerportal, en startportal og en slutportal, og fokuser over markomrdet.","SELECT_FAN_PORTALS2":"Vent p, at alle portaler er indlst, og klik derefter p tegn.","SELECT_INSTRUCTIONS":"Vlg to ankerportaler, og zoom derefter over rygsjlen.","SELECT_ONION_PORTALS":"Lag bygges indefra og ud. Zoom ind til midten, og vlg startportal, og zoom derefter ud til omrdet.","SELF SWAP":"Kan ikke bytte en portal med sig selv! Vlg en anden portal.","SEND ANALYTICS":"Send anonyme analysedata","SEND LOCATION":"Share Location (only when IITC is in foreground)","SEND TARGET AGENT":"Vlg modtager agent","SEND TARGET CONFIRM":"Vil du sende {portalName}-mlet til {agent}?","SEND TARGET":"Send ml","SEND_LOC":"Send placering","SET_3_PORT":"Indstil venligst de tre portaler frst!","SET_COMMENT":"Indstil kommentar","SET_LCOMMENT":"Indstil linkkommentar","SET_LINK_COMMENT":"Indstil kommentar til link:","SET_LINKS_ZONES":"St links til zoner","SET_MARKER_COMMENT":"St kommentar til markr p:","SET_MARKER_TYPE_TITLE":"Skift markrtype","SET_MARKERS_ZONES":"Indstil markrer til zoner","SET_MCOMMENT":"Indstil markrkommentar: {portalName}","SET_NEW_OP":"Indstil venligst det nye operationsnavn","SET_PCOMMENT":"Indstil portalkommentar: {portalName}","SET_PORT_COMMENT":"Indstil kommentar til portal:","SET_PORTAL_COMMENT":"Indstil portalkommentar","SET":"indstil","SETTINGS_TOOLBOX":"Wasabee Settings","SETTINGS_TITLE":"Advanced Settings","SKINS_AVAILABLE":"Der er {count} tilgngelige skins.","SKINS_BUTTON":"Konfigurer skins","SKINS_DESCRIPTION":"Tilgngelige skin packs er placeret i hjre kolonner. Flyt skins, du nsker at bruge, til venstre kolonne.","SKINS_MANAGE_TITLE":"Administrer skins","SKIP_CONFIRM_ALWAYS":"Sprg aldrig (brug med forsigtighed)","SKIP_CONFIRM_ENTITY":"Sprg kun for hold/op","SKIP_CONFIRM_NEVER":"Sprg altid","SKIP_CONFIRM":"Spring bekrftelse over","SOURCE_PORT":"Kildeportal","STARBURST TITLE":"Starburst","STARBURST_DRAW":"Tegn","STARBURST":"Starburst","START_PORT":"Start Portal ","STATE":"Status","SUPPORT_INSTRUCT":"For at f support, tilmeld dig <a href=\'https://enl.rocks/-dEHQ\' target=\'_blank\'> Wasabee bruger Telegram kanal</a>","SWAP PROMPT":"Vil du bytte:","SWAP TITLE":"Byt portaler","SWAP WITH":" med ","SWAP":"Byt","swap.marker.title":"Swap marker","swap.marker.prompt":"Do you want to swap the marker:","SYNC DONE":"Download Komplet <br> <a href=\'https://github.com/wasabee-project/Wasabee-IITC/wiki\' target=\'_blank\'>Klik HER for tips, tips og dokumentation.</a>","SYNC":"Download tilgngelige operationer","TARGET SENT":"Ml sendt","TEAM STATE":"Del placering","TEAM_CREATED":"Hold {teamName} oprettet","TEAM_NAME":"Hold navn","TEAM":"Hold","TEAMS BUTTON TITLE":"Liste over Wasabee-holdene","TEAMS BUTTON":"Hold","TO_PORT":"Til Portal","toolbar.op.filter":"Filters","toolbar.op.redo":"Redo","toolbar.op.title":"Op: {opName}","toolbar.op.undo":"Undo","toolbar.quick_delete.apply.text":"Anvend","toolbar.quick_delete.apply.title":"Slet valgte links/markrer","toolbar.quick_delete.cancel.text":"Annuller","toolbar.quick_delete.cancel.title":"Annuller","toolbar.quick_delete.clear.text":"Clear all","toolbar.quick_delete.clear.title":"Clear all links and markers","toolbar.quick_delete.stop.text":"Stop","toolbar.quick_delete.stop.title":"Afslut slettetilstand","toolbar.quick_delete.title":"Hurtigt slet","toolbar.quick_delete.tooltip.toggle_mode":"Click on features to mark for deletion","toolbar.quick_delete.tooltip.quick_mode":"Click on features to delete instantly","toolbar.quick_draw.tooltip.star_mode.anchor":"Vlg stjerneanker","toolbar.quick_draw.tooltip.star_mode.portal":"Vlg en portal","toolbar.quick_draw.tooltip.single_mode.first":"Klik p den frste portal","toolbar.quick_draw.tooltip.single_mode.next":"Klik p den nste portal","toolbar.quick_draw.tooltip.portal_fail":"Portaldata ikke indlst, prv venligst igen","toolbar.quick_draw.tooltip.burst.portal":"Select a portal","toolbar.quick_draw.toggle.text":"Mode: {mode}","toolbar.quick_draw.mode.burst":"Burst","toolbar.quick_draw.mode.multilayer":"Multilayer","toolbar.quick_draw.mode.singlelink":"Simple Path","toolbar.quick_draw.mode.starburst":"Star","toolbar.wasabee.settings":"Settings","toolbox.teammates":"Teammates Online","TRAWL SKIP TILES":"Trawl Skip fliser","TRAWL TITLE":"Trawl baner","TRAWL WARNING":"Dette vil indlse flisedataene under alle tegnede links. Dette er en langsom proces.","TRAWL_AUTOMARK":"Automrke blokere efter trawl","TRAWL_BULK_LOAD_WARNING":"Denne metode indlser flisedataene s hurtigt som muligt. Brug p eget ansvar.","TRAWL_BULK_LOAD":"Masseindlsning af flisedata","TRAWL_CLEAR_MARKERS":"Ryd virus/delggelsesmarkrer fr trawl","TRAWL_REMAINING":"{count} fliser tilbage","TRAWL":"Trawl efter blokere","TRAWLING":"Nr du trawler banerne efter blokeringer, luk denne dialog for at stoppe","TYPE":"Type","UNASSIGNED":"Ikke tildelt","UNKNOWN":"Ukendt","UPDATE HOVER":"OPDATER {opName} p serveren","UPDATE PERM DENIED":"Du har ikke rettigheder til at opdatere","UPDATE_CONFLICT_DESC":"OP er blevet ndret p serveren siden sidste synkronisering. nsker du at erstatte serverversionen med den nuvrende?","UPDATE_CONFLICT_TITLE":"Konflikt opdaget med server","UPDATE_COUNT":"Opdater optlling","UPDATED":"Opdateret","UpgradePortalAlert":"Upgrader","UPLOAD BUTTON HOVER":"UPLOAD {opName} (ikke p serveren i jeblikket)","UPLOADED":"Uploadet","USE PANES ON MOBILE":"Brug rammer (skal genindlses)","USE_VALID_NAME":"Brug venligst et gyldigt operationsnavn","UseVirusPortalAlert":"Brug Virus","VRLA DESC":"Afhngigt af antallet og typen af anvendte linkforstrkere kan et lavere kildeportal level vre tilstrkkeligt.","VRLA":"L8+nogle VRLA","WASABEE BUTTON TITLE":"Wasabee: den er grn og fr smlfer til at grde.","WASABEE_D_LIST":"Input antal forsvarsngler","WD BUTTON TITLE":"Log forsvarsngler","WD BUTTON":"W-D Ngler","WRITE_SHORT":"S","WRITE":"Skrive","WSERVER":"Server: {url}","YESNO_DEL":"Er du sikker p, at du vil slette {opName}?","ZONE_DRAW":"Klik for at indstille zonegrnserne","ZONE":"Zone","smallScreen":{"ADD_LINKS":"+ Links","ADD_MARKER":"+ Markr"}}');var S=a(158),v=a.n(S);const O={CSS:{main:t(),autodraws:n(),toolbar:r(),map:l(),panes:d(),smallScreen:p(),iitcfix:h()},dialogNames:{linkDialogButton:"wasabee-addlinks",markerButton:"wasabee-marker",mustauth:"wasabee-mustauth",newopButton:"wasabee-newop",opsList:"wasabee-operations",opSettings:"wasabee-operation-settings",wasabeeButton:"wasabee-userinfo",linkList:"wasabee-linklist",markerList:"wasabee-markerlist",assign:"wasabee-assign",state:"wasabee-state",multimaxButton:"wasabee-multimax",importDialog:"wasabee-import",operationChecklist:"wasabee-operation-checklist",blockerList:"wasabee-blockerlist",exportDialog:"wasabee-export",keysList:"wasabee-keys",keyListPortal:"wasabee-keyByPortal",wasabeeDKeyButton:"wasabee-DKey",wasabeeDList:"wasabee-DList",madrid:"wasabee-madrid",autodraws:"wasabee-autodraws",starburst:"wasabee-starburst",savelinks:"wasabee-savelinks",settings:"wasabee-settings"},constants:{SELECTED_OP_KEY:"wasabee-selected-op",OPS_LIST_KEY:"wasabee-ops",OPS_LIST_HIDDEN_KEY:"wasabee-hidden-ops",OPS_SHOW_HIDDEN_OPS:"wasabee-show-hidden-ops",SEND_LOCATION_KEY:"wasabee-send-location",SEND_ANALYTICS_KEY:"wasabee-analytics",EXPERT_MODE_KEY:"wasabee-expert-mode",LANGUAGE_KEY:"wasabee-language",DEFAULT_LANGUAGE:"English",AGENT_INFO_KEY:"wasabee-me",LINK_SOURCE_KEY:"wasabee-link-source",ANCHOR_ONE_KEY:"wasabee-anchor-1",ANCHOR_TWO_KEY:"wasabee-anchor-2",ANCHOR_THREE_KEY:"wasabee-anchor-3",PORTAL_DETAIL_RATE_KEY:"wasabee-portaldetail-rate",SKIN_KEY:"wasabee-skin",LAST_MARKER_KEY:"wasabee-last-marker-type",AUTO_LOAD_FAKED:"wasabee-autoload-faked",TRAWL_SKIP_STEPS:"wasabee-trawl-skip",USE_PANES:"wasabee-use-panes",SKIP_CONFIRM:"wasabee-skip-confirm",OAUTH_CLIENT_ID:"269534461245-jbnes60ebd7u0b8naba19h4vqm7ji219.apps.googleusercontent.com",SERVER_BASE_KEY:"wasabee-server",SERVER_BASE_DEFAULT:"https://am.wasabee.rocks",REBASE_UPDATE_KEY:"wasabee-rebase-on-update",DEFAULT_MARKER_TYPE:"DestroyPortalAlert",QUICKDRAW_GUIDE_STYLE:{color:"#0f0",dashArray:[8,2],opacity:.7,weight:5,smoothFactor:1,interactive:!1},WEBUI_DEFAULT:"https://webui.wasabee.rocks",JOIN_TEAM_TEMPLATE:"https://webui.wasabee.rocks/?server={server}#/team/{teamid}/join/{token}",FIREBASE_IFRAME:"https://cdn2.wasabee.rocks/iitcplugin/firebase/",FIREBASE_DISABLE:"wasabee-firebase",UNDO_HISTORY_SIZE:100},publicServers:[{name:"Americas",url:"https://am.wasabee.rocks",short:""},{name:"Europe",url:"https://eu.wasabee.rocks",short:""},{name:"Asia/Pacific",url:"https://ap.wasabee.rocks",short:"AP"}],strings:{}};O.strings.Deutsch=g,O.strings.Espanol=f,O.strings.English=E,O.strings.Italiano=_,O.strings.Tagalog=w,O.strings["Franais"]=b,O.strings["Portugus"]=T,O.strings[""]=A,O.strings.Dansk=k,O.defaultOperationColor="orange",O.linkStyle={dashArray:[5,5,1,5],assignedDashArray:[4,2,1],opacity:1,weight:2},O.selfBlockStyle={color:"#ff1111",dashArray:[1,5],opacity:4,weight:3},O.backgroundLinkStyle={dashArray:[8,5],opacity:.4,weight:2,color:"green",interactive:!1},O.anchorTemplate=v(),O.layerTypes=new Map([["main",{name:"main",displayName:"Red",color:"#ff0000"}],["groupa",{name:"groupa",displayName:"Orange",color:"#ff6600"}],["groupb",{name:"groupb",displayName:"Light Orange",color:"#ff9900"}],["groupc",{name:"groupc",displayName:"Tan",color:"#bb9900"}],["groupd",{name:"groupd",displayName:"Purple",color:"#bb22cc"}],["groupe",{name:"groupe",displayName:"Teal",color:"#33cccc"}],["groupf",{name:"groupf",displayName:"Pink",color:"#ff55ff"}]]);const D=O.constants,N=O;let C,y;const R=new WeakMap,I=new WeakMap,M=new WeakMap,P=new WeakMap,x=new WeakMap;let U={get(e,t,a){if(e instanceof IDBTransaction){if("done"===t)return I.get(e);if("objectStoreNames"===t)return e.objectStoreNames||M.get(e);if("store"===t)return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return K(e[t])},set:(e,t,a)=>(e[t]=a,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function B(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(y||(y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(G(this),e),K(R.get(this))}:function(...e){return K(t.apply(G(this),e))}:function(e,...a){const o=t.call(G(this),e,...a);return M.set(o,e.sort?e.sort():[e]),K(o)}:(e instanceof IDBTransaction&&function(e){if(I.has(e))return;const t=new Promise(((t,a)=>{const o=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",i),e.removeEventListener("abort",i)},n=()=>{t(),o()},i=()=>{a(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",n),e.addEventListener("error",i),e.addEventListener("abort",i)}));I.set(e,t)}(e),a=e,(C||(C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>a instanceof e))?new Proxy(e,U):e);var t,a}function K(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,a)=>{const o=()=>{e.removeEventListener("success",n),e.removeEventListener("error",i)},n=()=>{t(K(e.result)),o()},i=()=>{a(e.error),o()};e.addEventListener("success",n),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&R.set(t,e)})).catch((()=>{})),x.set(t,e),t}(e);if(P.has(e))return P.get(e);const t=B(e);return t!==e&&(P.set(e,t),x.set(t,e)),t}const G=e=>x.get(e),H=["get","getKey","getAll","getAllKeys","count"],z=["put","add","delete","clear"],F=new Map;function W(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(F.get(t))return F.get(t);const a=t.replace(/FromIndex$/,""),o=t!==a,n=z.includes(a);if(!(a in(o?IDBIndex:IDBObjectStore).prototype)||!n&&!H.includes(a))return;const i=async function(e,...t){const i=this.transaction(e,n?"readwrite":"readonly");let r=i.store;return o&&(r=r.index(t.shift())),(await Promise.all([r[a](...t),n&&i.done]))[0]};return F.set(t,i),i}var Y;Y=U,U={...Y,get:(e,t,a)=>W(e,t)||Y.get(e,t,a),has:(e,t)=>!!W(e,t)||Y.has(e,t)};const Z=function(e,t,{blocked:a,upgrade:o,blocking:n,terminated:i}={}){const r=indexedDB.open(e,t),s=K(r);return o&&r.addEventListener("upgradeneeded",(e=>{o(K(r.result),e.oldVersion,e.newVersion,K(r.transaction))})),a&&r.addEventListener("blocked",(()=>a())),s.then((e=>{i&&e.addEventListener("close",(()=>i())),n&&e.addEventListener("versionchange",(()=>n()))})).catch((()=>{})),s}("wasabee",3,{upgrade(e,t,a,o){if(t<1){const t=e.createObjectStore("agents",{keyPath:"id"});t.createIndex("date","date"),t.createIndex("fetched","fetched"),e.createObjectStore("teams",{keyPath:"id"}).createIndex("fetched","fetched");const a=e.createObjectStore("defensivekeys",{keyPath:["GID","PortalID"]});a.createIndex("PortalID","PortalID"),a.createIndex("Count","Count")}if(t<2){const t=e.createObjectStore("operations",{keyPath:"ID"});t.createIndex("fetched","fetched"),t.createIndex("server","server")}if(t<3){const t=e.createObjectStore("blockers",{keyPath:["opID","from","to"]});t.createIndex("opID","opID",{unique:!1}),t.createIndex("from",["opID","from"],{unique:!1}),t.createIndex("to",["opID","to"],{unique:!1}),e.createObjectStore("blockers_portals",{keyPath:["opID","id"]}).createIndex("opID","opID",{unique:!1})}console.debug(a,o)}});const q=Z;class V{constructor(e){if("string"==typeof e)return console.trace("agent waits for an object"),null;var t;("shareWD"in e||"squad"in e)&&(t=e,e={...t,shareWDKeys:t.shareWD,loadWDKeys:t.loadWD,shareLocation:t.state,comment:t.squad}),this.id=e.id,this.name=e.name,this.intelname="unset"!==e.intelname?e.intelname:"",this.intelfaction=e.intelfaction,this.communityname=e.communityname||"",this.pic=e.pic?e.pic:null,this.lat=e.lat?e.lat:0,this.lng=e.lng?e.lng:0,this.date=e.date?e.date:null,this.enlid=e.enlid?e.enlid:null,this.vname=e.vname,this.Vverified=!!e.Vverified,this.level=e.level?Number(e.level):0,this.blacklisted=!!e.blacklisted,this.rocksname=e.rocksname,this.rocks=!!e.rocks,this.communityname?this.name=this.communityname:this.Vverified?this.name=this.vname||this.name:this.rocks?this.name=this.rocksname||this.name:this.intelname?this.name=this.intelname+" [!]":this.name=this.name||"[unknown name]",e.shareWDKeys&&(this.shareWDKeys=e.shareWDKeys),e.loadWDKeys&&(this.loadWDKeys=e.loadWDKeys),e.shareLocation&&(this.shareLocation=e.shareLocation),e.comment&&(this.comment=e.comment),this.fetched=e.fetched?e.fetched:Date.now(),this._updateCache()}getName(){return this.communityname?this.communityname:this.Vverified&&this.vname?this.vname:this.rocks&&this.rocksname?this.rocksname:this.intelname?this.intelname:this.name}async _updateCache(){const e=await(await q).get("agents",this.id);if(null!=e){if(!(e.fetched>=this.fetched)){Object.assign(e,this),delete e.shareWDKeys,delete e.loadWDKeys,delete e.comment,delete e.shareLocation;try{await(await q).put("agents",e)}catch(e){console.error(e)}}}else try{await(await q).put("agents",this)}catch(e){console.error(e)}}get latLng(){return this.lat&&this.lng?new L.LatLng(this.lat,this.lng):null}static async get(e){return await(await q).get("agents",e)}}class j{constructor(e){this.opID=e.opID,this.from=e.fromPortal.id,this.to=e.toPortal.id}static async addPortal(e,t){const a=(await q).transaction("blockers_portals","readwrite").store,o={opID:e.ID,id:t.id,name:t.name,lat:t.lat,lng:t.lng};if(o.id===o.name){const t=await a.get([e.ID,o.id]);t&&t.name!==t.id&&(o.name=t.name)}await a.put(o)}static async updatePortal(e,t){const a=(await q).transaction("blockers_portals","readwrite").store;if(t.name===t.id)return!1;const o=await a.get([e.ID,t.id]);return!!o&&(o.lat!==t.lat||o.lng!==t.lng?(await j.removeBlocker(e,t.id),!0):o.name!==t.name&&(await a.put({opID:e.ID,id:t.id,name:t.name,lat:t.lat,lng:t.lng}),!0))}static async removeBlocker(e,t){const a=(await q).transaction("blockers","readwrite").store;let o=await a.index("from").openKeyCursor(IDBKeyRange.only([e.ID,t]));for(;o;)a.delete(o.primaryKey),o=await o.continue();let n=await a.index("to").openKeyCursor(IDBKeyRange.only([e.ID,t]));for(;n;)a.delete(n.primaryKey),n=await n.continue();await(await q).delete("blockers_portals",[e.ID,t])}static async removeBlockers(e){const t=(await q).transaction("blockers","readwrite").store;let a=await t.index("opID").openKeyCursor(IDBKeyRange.only(e));for(;a;)t.delete(a.primaryKey),a=await a.continue();const o=(await q).transaction("blockers_portals","readwrite").store;let n=await o.index("opID").openKeyCursor(IDBKeyRange.only(e));for(;n;)o.delete(n.primaryKey),n=await n.continue()}static async addBlocker(e,t,a){const o=new j({opID:e.ID,fromPortal:t,toPortal:a});await(await q).put("blockers",o),await j.addPortal(e,t),await j.addPortal(e,a)}static async getPortals(e){return await(await q).getAllFromIndex("blockers_portals","opID",e.ID)}static async getAll(e){const t=await(await q).getAllFromIndex("blockers","opID",e.ID),a=await j.getPortals(e),o=new Map;for(const e of a)o.set(e.id,e);for(const e of t)e.fromPortal=o.get(e.from),e.toPortal=o.get(e.to);return t}}function Q(e=40){const t=new Uint8Array(e/2);return window.crypto.getRandomValues(t),Array.from(t,(e=>("0"+e.toString(16)).substr(-2))).join("")}const J=["pending","assigned","acknowledged","completed"];function X(e){return J.find((t=>t===e))||"pending"}class ${constructor(e){this.ID=e.ID||Q(),this.zone=+e.zone||1,this.order=+e.order||0,this.assignedTo=e.assignedTo?e.assignedTo:null,this.comment=e.comment?e.comment:"",this.state=e._state||e.state,this.deltaminutes=e.deltaminutes,this.dependsOn=e.dependsOn?Array.from(e.dependsOn):[],this.assignments=e.assignments?Array.from(e.assignments):[],!this.assignedTo&&e.assignments&&e.assignments.length>0&&(this.assignedTo=e.assignments[0])}toServer(){return this.toJSON()}toJSON(){return{ID:this.ID,zone:Number(this.zone),order:Number(this.order),assignedTo:this.assignedTo,state:this._state,comment:this.comment,deltaminutes:this.deltaminutes,dependsOn:this.dependsOn}}get state(){return this._state}set state(e){switch(e){case"assigned":case"acknowledged":if(!this.assignedTo||""==this.assignedTo){this._state="pending";break}this._state=e;break;case"completed":this.complete();break;default:this.assignedTo=null,this._state="pending"}}setOrder(e){this.order=0|+e}assign(e){e!==this.assignedTo&&(this._state=e?"assigned":"pending"),this.assignedTo=e||null}complete(e){this._state="completed"}get completed(){return"completed"==this._state}set completed(e){e?this.complete():this.state="assigned"}}class ee extends ${constructor(e){void 0!==e.throwOrderPos&&(e=function(e){return e.order=+e.throwOrderPos||0,e.state="pending",e.completedID=e.completed?e.assignedTo:null,e.completedID?e.state="completed":e.assignedTo&&(e.state="assigned"),e.description&&(e.comment=e.description),e}(e)),super(e),this.fromPortalId=e.fromPortalId,this.toPortalId=e.toPortalId,this.color=e.color?e.color:"main"}toJSON(){return{...super.toJSON(),fromPortalId:this.fromPortalId,toPortalId:this.toPortalId,color:this.color}}get portalId(){return this.fromPortalId}getLatLngs(e){const t=[],a=e.getPortal(this.fromPortalId);if(!a||!a.lat)return console.log("unable to get source portal"),null;t.push(a.latLng);const o=e.getPortal(this.toPortalId);return o&&o.lat?(t.push(o.latLng),t):(console.log("unable to get destination portal"),null)}setColor(e,t){this.color=e,this.color==t.color&&(this.color="main"),t.update()}getColor(e){let t=this.color;return"main"==t&&(t=e.color),t}length(e){const t=this.getLatLngs(e);return L.latLng(t[0]).distanceTo(t[1])}}const te={MARKER_TYPE_CAPTURE:"CapturePortalMarker",MARKER_TYPE_DECAY:"LetDecayPortalAlert",MARKER_TYPE_EXCLUDE:"ExcludeMarker",MARKER_TYPE_DESTROY:"DestroyPortalAlert",MARKER_TYPE_FARM:"FarmPortalMarker",MARKER_TYPE_GOTO:"GotoPortalMarker",MARKER_TYPE_KEY:"GetKeyPortalMarker",MARKER_TYPE_LINK:"CreateLinkAlert",MARKER_TYPE_MEETAGENT:"MeetAgentPortalMarker",MARKER_TYPE_OTHER:"OtherPortalAlert",MARKER_TYPE_RECHARGE:"RechargePortalAlert",MARKER_TYPE_UPGRADE:"UpgradePortalAlert",MARKER_TYPE_VIRUS:"UseVirusPortalAlert"},ae=[te.MARKER_TYPE_DECAY,te.MARKER_TYPE_DESTROY,te.MARKER_TYPE_VIRUS],oe=new Set(Object.values(te)),ne={CapturePortalMarker:"capture",LetDecayPortalAlert:"decay",ExcludeMarker:"exclude",DestroyPortalAlert:"destroy",FarmPortalMarker:"farm",GotoPortalMarker:"goto",GetKeyPortalMarker:"key",CreateLinkAlert:"link",MeetAgentPortalMarker:"meetagent",OtherPortalAlert:"other",RechargePortalAlert:"recharge",UpgradePortalAlert:"upgrade",UseVirusPortalAlert:"virus"};class ie extends ${constructor(e){super(e),this.portalId=e.portalId,this.type=e.type,this.attributes=e.attributes?Array.from(e.attributes):[]}static get markerTypes(){return oe}static get constants(){return te}toJSON(){return{...super.toJSON(),portalId:this.portalId,type:this.type,attributes:this.attributes}}get friendlyType(){return ne[this.type]}isDestructMarker(){return ae.includes(this.type)}static isDestructMarkerType(e){return ae.includes(e)}}class re extends V{constructor(e){if("string"==typeof e)return console.trace("me waits for an object"),null;if(e.id=e.GoogleID||e.id,super(e),this.querytoken=e.querytoken,this.pic=e.pic,this.intelfaction=e.intelfaction,this.lockey=e.lockey,this.vapi=e.vapi,this.Teams=[],e.Teams&&e.Teams.length>0)for(const t of e.Teams)t.ShareWD="On"==t.ShareWD||!0===t.ShareWD,t.LoadWD="On"==t.LoadWD||!0===t.LoadWD,t.State="On"==t.State||!0===t.State,this.Teams.push(t);if(this.Ops=[],e.Ops&&e.Ops.length>0)for(const t of e.Ops)this.Ops.push(t);this.fetched=e.fetched?e.fetched:Date.now(),this._teamMap=null}static maxCacheAge(){return Date.now()-864e5}toJSON(){return this}store(){localStorage["wasabee-me"]=JSON.stringify(this)}remove(){delete localStorage["wasabee-me"]}static localGet(){const e=localStorage["wasabee-me"];return"string"==typeof e?new re(JSON.parse(e)):null}static isLoggedIn(){const e=re.localGet();return!!e&&(e.fetched>re.maxCacheAge()||(re.purge(),!1))}static cacheGet(){const e=re.localGet();return e?null==e.fetched||e.fetched<re.maxCacheAge()?(re.purge(),null):e:null}static async purge(){const e=re.localGet();delete localStorage["wasabee-me"],delete localStorage.sentToServer;const t=(await q).transaction(["agents","teams","defensivekeys"],"readwrite"),a=t.objectStore("agents"),o=t.objectStore("teams"),n=t.objectStore("defensivekeys");await Promise.all([a.clear(),o.clear(),n.clear(),t.done]),window.map.fire("wasabee:logout",{GID:e?e.id:null})}teamJoined(e){return null==this._teamMap&&this.makeTeamMap(),!!this._teamMap.has(e)}makeTeamMap(){this._teamMap=new Map;for(const e of this.Teams)this._teamMap.set(e.ID,e.State)}}class se{constructor(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.error(e),null}this.id=e.id,e.name.includes(e.id)&&(e.name=e.id),this.name=e.name,this.lat=(+e.lat).toFixed(6),this.lng=(+e.lng).toFixed(6),this.comment=e.comment?e.comment:"",this.hardness=e.hardness?e.hardness:"",this._latLng=e._latLng||{lat:+this.lat,lng:+this.lng}}toJSON(){return{id:this.id,name:this.name,lat:this.lat,lng:this.lng,comment:this.comment,hardness:this.hardness}}get latLng(){return this._latLng}static fake(e,t,a,o){return console.assert(e&&t,"WasabeePortal.fake called w/o lat/lng"),a||(a=Q()),o||(o=a),new se({id:a,name:o,lat:e,lng:t})}get faked(){return 35!=this.id.length||this.id==this.name}get loading(){return 35==this.id.length&&this.id==this.name}get pureFaked(){return 35!=this.id.length}}class le{constructor(e){if(this.id=Number(e.id),this.name=e.name,this.color=e.color?e.color:"#00ff00",this.points=[],e.points)for(const t of e.points)this.points.push(new ce(t))}toJSON(){return{id:+this.id,name:`${this.name}`,color:this.color,points:this.points}}contains(e){this.points.sort(((e,t)=>e.position-t.position));let t=!1;const a=e.lat,o=e.lng;for(let e=0,n=this.points.length-1;e<this.points.length;n=e++){const i=this.points[e].lat,r=this.points[e].lng,s=this.points[n].lat,l=this.points[n].lng;r>o!=l>o&&a<(s-i)*(o-r)/(l-r)+i&&(t=!t)}return t}}class ce{constructor(e){this.position=Number(e.position),this.lat=+e.lat,this.lng=+e.lng}}function de(){}class ue{constructor(){this._events={}}on(e,t,a){return e in this._events||(this._events[e]=[]),this._events[e].push({fct:t,context:a}),this}off(e,t,a){const o=this._events[e];if(o)for(const e of o)e.fct===t&&e.context===a&&(e.fct=de,delete e.context);return this}fire(e,t){const a=(this._events[e]||[]).slice();if(a)for(const e of a){const a=e.fct;e.fct=de;try{a.call(e.context,t)}catch(e){console.error(e)}e.fct=a}return this}}function pe(){if(window.plugin&&window.plugin.wasabee){let e=localStorage[window.plugin.wasabee.static.constants.SERVER_BASE_KEY];return null==e&&(e=window.plugin.wasabee.static.constants.SERVER_BASE_DEFAULT,localStorage[window.plugin.wasabee.static.constants.SERVER_BASE_KEY]=e),e}return""}const me=Math.PI/180,he=180/Math.PI;function ge(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function fe(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ee(e,t){return e.lat===t.lat&&e.lng===t.lng}function _e(e){return e._cartesian||(e._cartesian=function(e,t){e*=me,t*=me;const a=Math.cos(e);return[a*Math.cos(t),a*Math.sin(t),Math.sin(e)]}(e.lat,e.lng)),e}function we(e,t,a){return function(e,t,a){return fe(ge(e,t),a)}(_e(e.latLng)._cartesian,_e(t.latLng)._cartesian,_e(a.latLng)._cartesian)>0?1:-1}function be(e,t,a,o){const n=we(e,t,a);return we(e,t,o)*n>0&&we(t,a,o)*n>0&&we(a,e,o)*n>0}function Te(e,t,a){const o=_e(e.latLng)._cartesian,n=_e(t.latLng)._cartesian,i=_e(a.latLng)._cartesian;return function(e){const t=Math.atan2(e[2],Math.sqrt(e[0]*e[0]+e[1]*e[1])),a=Math.atan2(e[1],e[0]),o=L.latLng({lat:t*he,lng:a*he});return o._cartesian=[...e],o}([o[0]+n[0]+i[0],o[1]+n[1]+i[1],o[2]+n[2]+i[2]])}function Ae(...e){const[t,a,o,n]=e.flat();if(Ee(t,a))return!1;if(Ee(o,n))return!1;if(Ee(t,o)||Ee(t,n))return!1;if(Ee(a,o)||Ee(a,n))return!1;if(Math.min(t.lng,a.lng)>Math.max(o.lng,n.lng))return!1;if(Math.max(t.lng,a.lng)<Math.min(o.lng,n.lng))return!1;const i=_e(t)._cartesian,r=_e(a)._cartesian,s=_e(o)._cartesian,l=_e(n)._cartesian,c=ge(i,r),d=ge(s,l),u=ge(c,i),p=ge(c,r),m=ge(d,s),h=ge(d,l),g=ge(c,d);if(g[0]*g[0]+g[1]*g[1]+g[2]*g[2]<1e-30){const e=fe(s,u),t=fe(s,p);if(e<0&&t>0||e>0&&t<0)return!0;const a=fe(l,u),o=fe(l,p);if(a<0&&o>0||a>0&&o<0)return!0;const n=fe(i,m),r=fe(i,h);return n<0&&r>0||n>0&&r<0}const f=fe(g,u),E=fe(g,p),_=fe(g,m),w=fe(g,h);return f>0&&0>E&&_>0&&0>w||0>f&&E>0&&0>_&&w>0}class Le{constructor(e,t){const a=Math.PI/180;if(e.lng==t.lng)throw new Error("Error: cannot calculate latitude for meridians");this.lat1=e.lat*a,this.lat2=t.lat*a,this.lng1=e.lng*a,this.lng2=t.lng*a;const o=this.lng1-this.lng2,n=Math.sin(this.lat1),i=Math.sin(this.lat2),r=Math.cos(this.lat1),s=Math.cos(this.lat2);this.sinLat1CosLat2=n*s,this.sinLat2CosLat1=i*r,this.cosLat1CosLat2SinDLng=r*s*Math.sin(o)}isMeridian(){return this.lng1==this.lng2}latAtLng(e){let t;return t=(e=e*Math.PI/180)==this.lng1?this.lat1:e==this.lng2?this.lat2:Math.atan((this.sinLat1CosLat2*Math.sin(e-this.lng2)-this.sinLat2CosLat1*Math.sin(e-this.lng1))/this.cosLat1CosLat2SinDLng),180*t/Math.PI}bearing(){const e=this.lng1-this.lng2,t=Math.cos(this.lat2),a=Math.sin(e)*t,o=this.sinLat2CosLat1-this.sinLat1CosLat2*Math.cos(e);return Math.atan2(a,o)}}let ke=null;class Se extends ue{constructor(e){if(super(),this._dirtyCoordsTable=!1,this._batchmode=!1,"string"==typeof e)return console.trace("op waits for an object"),null;this.ID=e.ID?e.ID:Q(),this.name=e.name?e.name:"unnamed op",this.creator=e.creator?e.creator:"unset",this.anchors=e.anchors?Array.from(e.anchors):[],this.links=this.convertLinksToObjs(e.links),this.markers=this.convertMarkersToObjs(e.markers),this.color=e.color?e.color:"main",this.comment=e.comment?e.comment:null,this.teamlist=e.teamlist?Array.from(e.teamlist):[],this.fetched=e.fetched?e.fetched:null,this.stored=e.stored?e.stored:null,this.localchanged=!!e.localchanged,this.keysonhand=e.keysonhand?e.keysonhand:[],this.zones=this.convertZonesToObjs(e.zones),this.referencetime=e.referencetime?e.referencetime:null,this.lasteditid=e.lasteditid?e.lasteditid:null,this.remoteChanged=!!e.remoteChanged,this.server=this.fetched?e.server:null,this.fetchedOp=e.fetchedOp?e.fetchedOp:null,this.server||delete this.lasteditid,this.background=!!e.background,this.links||(this.links=[]),this.markers||(this.markers=[]);const t=this.convertPortalsToObjs(e.opportals);if(this._idToOpportals=new Map,this._coordsToOpportals=new Map,t)for(const e of t)this._idToOpportals.set(e.id,e);if(this.buildCoordsLookupTable(),e.blockers)for(const t of e.blockers)j.addBlocker(this,this.getPortal(t.fromPortalId),this.getPortal(t.toPortalId));this.cleanAnchorList(),this.cleanPortalList()}static async load(e){try{const t=await(await q).get("operations",e);if(null==t)return null;const a=new Se(t);if(null==a)throw new Error("corrupted operation");return a}catch(e){console.error(e)}return null}static async delete(e){delete localStorage[e],await(await q).delete("operations",e)}static async migrate(e){if(null==await(await q).get("operations",e))try{const t=localStorage[e];if(null==t)throw new Error("invalid operation ID");const a=JSON.parse(t),o=new Se(a);if(null==o)throw new Error("corrupted operation");await o.store(),delete localStorage[e]}catch(e){console.error(e)}else delete localStorage[e]}async store(){this.stored=Date.now();const e=this.toJSON();e.server=this.server,e.fetchedOp=this.fetchedOp,e.lasteditid=this.lasteditid,e.remoteChanged=this.remoteChanged,e.fetched=this.fetched,e.stored=this.stored,e.localchanged=this.localchanged,e.keysonhand=this.keysonhand,e.teamlist=this.teamlist,e.background=this.background;try{await(await q).put("operations",e)}catch(e){console.error(e)}ke&&ke.ID===this.ID&&ke!==this&&console.trace("store current OP from a different obj, this *should* be followed by makeSelectedOperation",ke.ID,ke.name,this.ID,this.name)}toJSON(){return{ID:this.ID,name:this.name,creator:this.creator,opportals:Array.from(this._idToOpportals.values()),anchors:this.anchors,links:this.links,markers:this.markers,color:this.color,comment:this.comment,zones:this.zones,referencetime:this.referencetime}}toExport(){const e=new Se(JSON.parse(JSON.stringify(this)));return JSON.stringify(e)}getFetchedOp(){if(!this.fetchedOp)return null;try{const e=JSON.parse(this.fetchedOp);return new Se(e)}catch(e){return console.error("corrupted fetched op",e),null}}get opportals(){return Array.from(this._idToOpportals.values())}buildCoordsLookupTable(){this._coordsToOpportals.clear(),this._dirtyCoordsTable=!1;for(const e of this._idToOpportals.values()){const t=e.lat+"/"+e.lng,a=this._coordsToOpportals.get(t);a?(this._dirtyCoordsTable=!0,a.pureFaked?this._coordsToOpportals.set(t,e):e.pureFaked||console.warn("operation: portals %s and %s have same coordinates: %s",a.id,e.id,t)):this._coordsToOpportals.set(t,e)}if(this._dirtyCoordsTable){console.debug("operation: removing duplicates");const e=[],t=new Map;for(const[a,o]of this._idToOpportals){const n=o.lat+"/"+o.lng,i=this._idToOpportals.get(this._coordsToOpportals.get(n).id);t.set(a,i.id),a!=i.id&&e.push(a)}for(const e of this.links)e.fromPortalId=t.get(e.fromPortalId),e.toPortalId=t.get(e.toPortalId);for(const e of this.markers)e.portalId=t.get(e.portalId);this.anchors=this.anchors.map((e=>t.get(e)));for(const t of e)this._idToOpportals.delete(t)}this._dirtyCoordsTable=!1}getColor(){return null==this.color?"main":this.color}containsPortal(e){return this._idToOpportals.has(e.id)}getPortalByLatLng(e,t){return this._dirtyCoordsTable&&this.buildCoordsLookupTable(),this._coordsToOpportals.get(e+"/"+t)}containsLinkFromTo(e,t){if(0==this.links.length)return!1;for(const a of this.links)if(a.fromPortalId==e&&a.toPortalId==t||a.toPortalId==e&&a.fromPortalId==t)return!0;return!1}containsLink(e){return this.containsLinkFromTo(e.fromPortalId,e.toPortalId)}containsMarker(e,t){return this.containsMarkerByID(e.id,t)}containsMarkerByID(e,t){if(0==this.markers.length)return!1;for(const a of this.markers)if(a.portalId==e&&a.type==t)return!0;return!1}getLinkByPortalIDs(e,t){for(const a of this.links)if(a.fromPortalId==e&&a.toPortalId==t||a.fromPortalId==t&&a.toPortalId==e)return a;return null}getLink(e,t){return this.getLinkByPortalIDs(e.id,t.id)}getLinkById(e){for(const t of this.links)if(t.ID==e)return t;return null}getLinkListFromPortal(e){return this.links.filter((function(t){return t.fromPortalId==e.id||t.toPortalId==e.id}))}getPortal(e){return this._idToOpportals.get(e)}getMarker(e){for(const t of this.markers)if(t.ID==e)return t;return null}removeAnchor(e){this.anchors=this.anchors.filter((function(t){return t!==e})),this.links=this.links.filter((function(t){return t.fromPortalId!==e&&t.toPortalId!==e})),this.cleanAnchorList(),this.cleanPortalList(),this.update(!0),this.updateBlockers()}removeMarkerByID(e){this.markers=this.markers.filter((function(t){return t.ID!==e})),this.cleanPortalList(),this.update(!0),this.updateBlockers()}removeMarker(e){this.removeMarkerByID(e.ID)}setMarkerComment(e,t){for(const a of this.markers)a.ID==e.ID&&(a.comment=t);this.update(!0)}setMarkerState(e,t){for(const a of this.markers)a.ID==e&&(a.state=t);this.update(!0)}setLinkComment(e,t){for(const a of this.links)a.ID==e.ID&&(a.comment=t);this.update(!0)}setLinkState(e,t){for(const a of this.links)a.ID==e&&(a.state=t);this.update(!0)}setLinkColor(e,t){for(const a of this.links)a.ID==e&&(a.color=t);this.update(!0)}setLinkOrder(e,t){for(const a of this.links)a.ID==e&&a.setOrder(t);this.update(!0)}setMarkerOrder(e,t){for(const a of this.markers)a.ID==e&&a.setOrder(t);this.update(!0)}setPortalComment(e,t){const a=this.getPortal(e.id);a&&(a.comment=t,this.update(!0))}setPortalHardness(e,t){const a=this.getPortal(e.id);a&&(a.hardness=t,this.update(!0))}removeLinkByID(e){this.links=this.links.filter((t=>t.ID!=e)),this.cleanAnchorList(),this.cleanPortalList(),this.update(!0),this.updateBlockers()}removeLink(e,t){const a=[];for(const o of this.links)o.fromPortalId==e&&o.toPortalId==t||a.push(o);this.links=a,this.cleanAnchorList(),this.cleanPortalList(),this.update(!0),this.updateBlockers()}reverseLink(e,t){if(e instanceof ee){const t=e.fromPortalId;e.fromPortalId=e.toPortalId,e.toPortalId=t}else for(const a of this.links)a.fromPortalId===e&&a.toPortalId===t&&(a.fromPortalId=t,a.toPortalId=e);this.update(!0)}cleanAll(){this.cleanAnchorList(),this.cleanPortalList(),this.cleanCaches()}cleanCaches(){}cleanAnchorList(){const e=[];for(const t of this.links)e.includes(t.fromPortalId)||e.push(t.fromPortalId),e.includes(t.toPortalId)||e.push(t.toPortalId);this.anchors=e}cleanPortalList(){const e=new Map;for(const t of this.links)e.set(t.fromPortalId,this._idToOpportals.get(t.fromPortalId)),e.set(t.toPortalId,this._idToOpportals.get(t.toPortalId));for(const t of this.markers)e.set(t.portalId,this._idToOpportals.get(t.portalId));for(const t of this.anchors)e.set(t,this._idToOpportals.get(t));const t=new Set,a={links:this.links.length,markers:this.markers.length};for(const[a,o]of e)void 0===o&&(this.links=this.links.filter((e=>e.fromPortalId!=a&&e.toPortalId!=a)),this.markers=this.markers.filter((e=>e.portalId!=a)),t.add(a));a.links-=this.links.length,a.markers-=this.markers.length,a.links+a.markers>0&&(console.trace("op corruption: missing portals"),this.fire("corrupt",{...a,portals:t.size}),this.cleanAnchorList());for(const a of t)e.delete(a);this._idToOpportals=e,this.buildCoordsLookupTable()}addPortal(e){!this.updatePortal(e)&&this._addPortal(e)&&this.update(!1)}_addPortal(e){if(!this.containsPortal(e)){const t=e.lat+"/"+e.lng;return this._coordsToOpportals.has(t)&&(console.debug("add portal %s on portal %s location %s",this._coordsToOpportals.get(t).id,e.id,t),this._dirtyCoordsTable=!0),this._idToOpportals.set(e.id,e),this._coordsToOpportals.set(t,e),!0}return!1}updatePortal(e){return!!this._updatePortal(e)&&(this.update(!0),!0)}_updatePortal(e){const t=this.getPortal(e.id);if(t){if(!e.faked){if(e.lat!==t.lat||e.lng!==t.lng){console.warn("portal %s has moved, replacing by a fake at old location",t.id);const a=se.fake(t.lat,t.lng,null,t.name);this._coordsToOpportals.delete(t.lat+"/"+t.lng),this._addPortal(a),this._swapPortal(t,a);for(const e of this.markers)e.portalId==t.id&&(e.portalId=a.id);return this._idToOpportals.delete(t.id),this._addPortal(e),!0}return t.name!=e.name&&(t.name=e.name,!0)}}else{const t=this.getPortalByLatLng(e.lat,e.lng);if(t){t.pureFaked||console.warn("update real portal %s by portal %s at location %s",t.id,e.id,e.lat+"/"+e.lng),this._coordsToOpportals.delete(e.lat+"/"+e.lng),this._addPortal(e),this._swapPortal(t,e);for(const a of this.markers)a.portalId==t.id&&(a.portalId=e.id);return this._idToOpportals.delete(t.id),!0}}return!1}addLink(e,t,a={}){if(console.assert(e&&t,"missing portal for link"),e.id===t.id)return console.debug("Operation: Ignoring link where source and target are the same portal."),null;this.addAnchor(e),this.addAnchor(t);const o=this.getLink(e,t),n=o&&a.replace?o:new ee({fromPortalId:e.id,toPortalId:t.id});if(a.description&&(n.comment=a.description),a.order&&n.setOrder(a.order),a.color&&(n.color=a.color),o){if(!a.replace)return console.debug("Link Already Exists In Operation -> "+JSON.stringify(n)),o;this.update(!0),this.updateBlockers()}else this.links.push(n),this.update(!0),this.updateBlockers();return n}containsAnchor(e){if(0==this.anchors.length)return!1;for(const t of this.anchors)if(t==e)return!0;return!1}addAnchor(e){this._addPortal(e),this.containsAnchor(e.id)||this.anchors.push(e.id)}get fakedPortals(){const e=Array.from(this._idToOpportals.values()).filter((e=>e.faked));return e}_swapPortal(e,t){this.anchors=this.anchors.filter((function(t){return t!==e.id})),this.containsAnchor(t.id)||this.anchors.push(t.id);const a=[];for(const o of this.links)o.fromPortalId==e.id?o.toPortalId===t.id?(console.debug(`Operation: Removing link '${o.ID}' while swapping because it would create a link with the same source and target.`),a.push(o)):this.containsLinkFromTo(t.id,o.toPortalId)?(console.debug(`Operation: Removing link '${o.ID}' while swapping because it would duplicate an existing link in the operation.`),a.push(o)):o.fromPortalId=t.id:o.toPortalId==e.id&&(o.fromPortalId===t.id?(console.debug(`Operation: Removing link '${o.ID}' while swapping because it would create a link with the same source and target.`),a.push(o)):this.containsLinkFromTo(o.fromPortalId,t.id)?(console.debug(`Operation: Removing link '${o.ID}' while swapping because it would duplicate an existing link in the operation.`),a.push(o)):o.toPortalId=t.id);this.links=this.links.filter((e=>!a.includes(e)))}swapPortal(e,t){this._addPortal(t),this._swapPortal(e,t),this.update(!0),this.updateBlockers()}duplicateAnchor(e,t){const a=!this._batchmode;a&&this.startBatchMode();const o=this.getLinkListFromPortal(e);for(const a of o){let o=this.getPortal(a.fromPortalId),n=this.getPortal(a.toPortalId);o.id===e.id&&(o=t),n.id===e.id&&(n=t),this.addLink(o,n,{description:a.comment,order:a.order,color:a.color,replace:!1})}a&&this.endBatchMode()}addMarker(e,t,a={}){if(!t)return!1;this._addPortal(t);const o=new ie({type:e,portalId:t.id});return a&&a.comment&&(o.comment=a.comment),a&&a.zone&&(o.zone=a.zone),a&&a.assign&&o.assign(a.assign),this.markers.push(o),this.update(!0),o.isDestructMarker()&&this.updateBlockers(),!0}assignMarker(e,t){for(const a of this.markers)a.ID==e&&(a.assign(t),this.update(!0))}assignLink(e,t){for(const a of this.links)a.ID==e&&(a.assign(t),this.update(!0))}clearAllItems(){this.anchors=[],this.links=[],this.markers=[],this._idToOpportals.clear(),this._coordsToOpportals.clear(),this.update(!0)}clearAllLinks(){this.links=[],this.cleanAnchorList(),this.cleanPortalList(),this.update(!0)}clearAllMarkers(){this.markers=[],this.cleanPortalList(),this.update(!0)}update(e=!0){!0!==this._batchmode&&(this.fetched&&e&&(this.localchanged=!0),this.store(),this.fire("update"))}updateBlockers(){!0!==this._batchmode&&this.fire("blockers")}startBatchMode(){this._batchmode=!0}endBatchMode(){this._batchmode=!1,this.update(!0),this.updateBlockers()}convertLinksToObjs(e){const t=[];if(!e||0==e.length)return t;for(const a of e)t.push(new ee(a));return t}convertMarkersToObjs(e){const t=[];if(!e||0==e.length)return t;if(e)for(const a of e)t.push(new ie(a));return t}convertPortalsToObjs(e){const t=[];if(!e||0==e.length)return t;for(const a of e)if(a instanceof se)t.push(a);else{const e=new se(a);t.push(e)}return t}convertZonesToObjs(e){if(!e||0==e.length)return[{id:1,name:"Primary",color:"purple"},{id:2,name:"Secondary",color:"yellow"}].map((e=>new le(e)));const t=[];for(const a of e)if(a instanceof le)t.push(a);else{const e=new le(a);t.push(e)}return t}get mbr(){if(0==this._idToOpportals.size)return null;const e=[],t=[];for(const a of this.anchors){const o=this.getPortal(a);e.push(o.lat),t.push(o.lng)}for(const a of this.markers){const o=this.getPortal(a.portalId);e.push(o.lat),t.push(o.lng)}if(!e.length)return null;const a=Math.min.apply(null,e),o=Math.max.apply(null,e),n=Math.min.apply(null,t),i=Math.max.apply(null,t),r=L.latLng(a,n),s=L.latLng(o,i);return L.latLngBounds(r,s)}canWriteServer(){if(!this.isServerOp())return!1;if(!re.isLoggedIn())return!1;if(!this.isOnCurrentServer())return!1;const e=re.cacheGet();if(!e)return!1;if(e.id==this.creator)return!0;if(!e.Teams||0==e.Teams.length)return!1;for(const t of this.teamlist)if("write"==t.role)for(const a of e.Teams)if(t.teamid==a.ID)return!0;return!1}canWrite(){return"write"===this.getPermission()}getPermission(){if(!this.isServerOp())return"write";if(!re.isLoggedIn())return"write";if(!this.isOnCurrentServer())return"write";const e=re.cacheGet();if(!e)return"read";if(e.id==this.creator)return"write";const t=new Set(e.Teams.map((e=>e.ID)));for(const e of this.teamlist)if("write"==e.role&&t.has(e.teamid))return"write";for(const e of this.teamlist)if("read"==e.role&&t.has(e.teamid))return"read";return"assignonly"}isOnCurrentServer(){return this.isServerOp()&&this.server==pe()}isServerOp(){return!!this.fetched}isOwnedOp(){if(!this.isServerOp())return!0;if(!re.isLoggedIn())return!0;const e=re.cacheGet();return!!e&&e.id==this.creator}get nextOrder(){let e=0;for(const t of this.links)e=Math.max(e,t.order);for(const t of this.markers)e=Math.max(e,t.order);return++e}keyOnHand(e,t,a,o){"string"==typeof a&&(a=Number.parseInt(a,10));for(const n of this.keysonhand)if("string"==typeof n.onhand&&(n.onhand=Number.parseInt(n.onhand,10)),n.portalId==e&&n.gid==t)return n.onhand=a,n.capsule=o,void this.update(!1);const n={portalId:e,gid:t,onhand:a,capsule:o};this.keysonhand.push(n),this.update(!1)}KeysOnHandForPortal(e,t){let a=0;for(const o of this.keysonhand)o.portalId!==e||t&&t!==o.gid||(a+=o.onhand);return a}keysOnHandForPortalPerAgent(e){const t={};for(const a of this.keysonhand)a.portalId==e&&(a.gid in t||(t[a.gid]=0),t[a.gid]+=a.onhand);return t}KeysRequiredForPortal(e){let t=0;for(const a of this.links)a.toPortalId==e&&t++;return t}zoneName(e){if(0===e)return 0;for(const t of this.zones)if(t.id==e)return t.name;return e}getZone(e){for(const t of this.zones)if(t.id==e)return t;return null}setZone(e,t){e.zone=Number(t),this.update(!0)}removeZone(e){if(1!=e){for(const t of this.markers)t.zone==e&&(t.zone=1);for(const t of this.links)t.zone==e&&(t.zone=1);this.zones=this.zones.filter((t=>t.id!=e)),this.update(!0)}else console.log("cannot remove zone 1")}removeZonePoints(e){for(const t of this.zones)t.id==e&&(t.points=[]);this.update(!0)}renameZone(e,t){for(const a of this.zones)if(a.id==e){a.name=t;break}this.update(!0)}addZone(){const e=new Set;for(const t of this.zones)e.add(t.id);const t=Math.max(...e)+1;return this.zones.push(new le({id:t,name:t})),this.update(!0),t}addZonePoint(e,t){for(const a of this.zones)if(a.id==e){a.points.push({lat:t.lat,lng:t.lng,position:a.points.length});break}this.update(!0)}changes(e){const t=new Se(e||this.getFetchedOp()||{}),a=new Map(t.links.map((e=>[e.ID,e]))),o=new Map(t.markers.map((e=>[e.ID,e]))),n=new Map(this.links.map((e=>[e.ID,e]))),i=new Map(this.markers.map((e=>[e.ID,e])));if(t.name!=this.name)return!0;if(t.color!=this.color)return!0;if(t.comment!=this.comment)return!0;for(const[e,a]of this._idToOpportals)if(t._idToOpportals.has(e)){const o=t._idToOpportals.get(e);if(["comment","hardness"].filter((e=>o[e]!=a[e])).map((e=>[e,o[e]])).length>0)return!0}for(const e of a.keys())if(!n.has(e))return!0;for(const e of this.links){if(!a.has(e.ID))return!0;{const t=a.get(e.ID);if(["fromPortalId","toPortalId","color","zone","order","assignedTo","completedID","comment","state"].filter((a=>t[a]!=e[a])).map((e=>[e,t[e]])).length>0)return!0}}for(const e of o.keys())if(!i.has(e))return!0;for(const e of this.markers){if(!o.has(e.ID))return!0;{const t=o.get(e.ID);if(["type","zone","order","assignedTo","completedID","comment","state"].filter((a=>t[a]!=e[a])).map((e=>[e,t[e]])).length>0)return!0}}return!1}checkChanges(){return this.localchanged&&(this.localchanged=this.changes()),this.localchanged}mergeZones(e){const t=new Map;let a=0;for(const e of this.zones)t.set(e.id,e);for(const o of e.zones)t.has(o.id)||(this.zones.push(o),a+=1);return a}determineZone(e){this.zones.sort(((e,t)=>e.id-t.id));for(const t of this.zones)if(t.contains(e))return t.id;return 1}getOrderInfo(){const e=Array.from(this.links);e.sort(((e,t)=>e.order-t.order));const t=new Map,a=[];let o=0,n=0;const i=new Map,r=[];for(const s of e){i.has(s.fromPortalId)||i.set(s.fromPortalId,new Set),i.has(s.toPortalId)||i.set(s.toPortalId,new Set);const e=i.get(s.fromPortalId),l=i.get(s.toPortalId),c=new Set;for(const t of e)l.has(t)&&c.add(t);if(e.add(s.toPortalId),l.add(s.fromPortalId),s.order>0){const e=this.getPortal(s.fromPortalId),a=this.getPortal(s.toPortalId),i=[],l=[];for(const t of c){const o=this.getPortal(t);we(o,e,a)>0?i.push(o):l.push(o)}if(i.length&&(o+=1),l.length&&(o+=1),i.length>1||l.length>1){let e=0;i.length>1&&(e+=i.length-1),l.length>1&&(e+=l.length-1),r.push([s,e]),n+=e}for(const o of c){const n=this.getPortal(o);for(const i of this.anchors)i===o||i===e.id||i===a.id||t.has(i)||be(e,a,n,this.getPortal(i))&&t.set(i,s)}}t.has(s.fromPortalId)&&a.push(s)}return{fieldCount:o,emptyFieldLinks:r,emptyCount:n,linksFromInner:a,coveredPortals:t}}}class ve{constructor(e){if("string"==typeof e)return void console.trace("team waits for an object");let t=!1;"fetched"in e?this.fetched=e.fetched:(this.fetched=Date.now(),t=!0),this.id=e.id,this.name=e.name,this.rc=e.rc,this.rk=e.rk,this.jlt=e.jlt,this.vt=e.vt,this.vr=e.vr,this.agents=e.agents.map((e=>new V({...e,fetched:this.fetched}))),t&&this._updateCache()}async _updateCache(){try{await(await q).put("teams",this)}catch(e){console.error(e)}}static async get(e){return await(await q).get("teams",e)}}let Oe=N.strings;const De=N.constants.DEFAULT_LANGUAGE,Ne=N.constants.LANGUAGE_KEY,Ce=/\{ *([\w_ -]+) *\}/g;function ye(e,t){const a=function(){window.plugin.wasabee.skin&&window.plugin.wasabee.skin.strings&&(Oe=window.plugin.wasabee.skin.strings);let e=localStorage[Ne];return e||(e=De,localStorage[Ne]=De,console.log("no language set, using default")),Oe[e]||(e=De,localStorage[Ne]=De,console.log("invalid language set, changing to default")),e}();window.plugin.wasabee.skin&&window.plugin.wasabee.skin.strings&&(Oe=window.plugin.wasabee.skin.strings);let o=null;Oe[a]&&Oe[a][e]&&(o=Oe[a][e]),!o&&Oe[De]&&Oe[De][e]&&(o=Oe[De][e]);let n=!1;return window.plugin.userLocation&&(n=!0),n&&Oe[a]&&Oe[a].smallScreen&&Oe[a].smallScreen[e]&&(o=Oe[a].smallScreen[e]),o||(o=`${e} not in ${a} or ${De}`),t?o.replace(Ce,(function(e,a){const o=t[a];return void 0===o?`{${a}}`:""+o})):o}const Re=ye;function Ie(e,t){return window.dialog({title:"Wasabee info",text:t?null:e.toString(),html:t?e:null})}function Me(e,t){return window.dialog({title:"Wasabee warning",text:t?null:e.toString(),html:t?e:null})}function Pe(e){return window.dialog({title:"Wasabee error",text:e.toString()})}class xe{constructor(e){this.code=e.code,this.text=e.text,this.error=e.error,this.code||(this.code=-1,this.text="Unknown error")}toString(){switch(this.code){case 401:return this.error?Re("NOT LOGGED IN",this):Re("NOT LOGGED IN SHORT");case 403:return this.error?Re("PERM DENIED",this):Re("PERM DENIED SHORT");case 410:return this.error?Re("NO LONGER AVAILABLE",this):Re("NO LONGER AVAILABLE SHORT");case 412:return this.error?"Mismatch version: "+this.error:"Mismatch version";default:return this.error?this.text+": "+this.error:this.text}}}function Ue(e){localStorage[window.plugin.wasabee.static.constants.SELECTED_OP_KEY]=e}function Be(){return localStorage[window.plugin.wasabee.static.constants.SELECTED_OP_KEY]}function Ke(){return window.plugin.wasabee._selectedOp}async function Ge(){const e=Ke(),t=await Ye();return t.includes(e.ID)||(0==t.length?await He():await ze(t[t.length-1])),Ke()}async function He(){const e=new Se({creator:PLAYER.nickname,name:Re("DEFAULT OP NAME",{date:(new Date).toUTCString()})});return await e.store(),await ze(e.ID),Ke()}async function ze(e){let t;null!=window.plugin.wasabee._selectedOp&&(t=window.plugin.wasabee._selectedOp.ID,e==window.plugin.wasabee._selectedOp.ID?console.log("makeSelectedOperation called on the current op; replacing with version from local store. not saving live changes first"):(await Ye()).includes(window.plugin.wasabee._selectedOp.ID)&&await window.plugin.wasabee._selectedOp.store());const a=await Se.load(e);if(null==a)return console.log("makeSelectedOperation called on invalid opID"),void Pe("attempted to load invalid opID");a.on("update",(()=>window.map.fire("wasabee:op:change"))),a.on("blockers",(()=>window.map.fire("wasabee:crosslinks"))),a.on("corrupt",(e=>Me(`Oops, something went wrong and OP ${a.name} got corrupted. Fix by removing ${e.portals} missing portals and ${e.links} links and ${e.markers} markers. Please check your OP and report to the devs.`))),delete window.plugin.wasabee._selectedOp,window.plugin.wasabee._selectedOp=a,function(e){ke=e}(a),Ue(window.plugin.wasabee._selectedOp.ID),t!==e?window.map.fire("wasabee:op:select",{previous:t,current:e}):window.map.fire("wasabee:op:change"),window.map.fire("wasabee:crosslinks")}async function Fe(e){await Se.delete(e),j.removeBlockers(e),window.map.fire("wasabee:op:delete",e)}function We(){try{const e=localStorage[window.plugin.wasabee.static.constants.OPS_LIST_HIDDEN_KEY];return JSON.parse(e)}catch{return[]}}async function Ye(e=!0){let t=[];try{const e=localStorage[window.plugin.wasabee.static.constants.OPS_LIST_KEY];t=JSON.parse(e),t=t.filter((e=>localStorage[e]))}catch{}const a=await window.plugin.wasabee.idb.getAllKeys("operations");for(const e of a)t.includes(e)||t.push(e);if(!e){const e=We();return t.filter((t=>!e.includes(t)))}return t}async function Ze(e){let t=null;return t=e==window.plugin.wasabee._selectedOp.ID?window.plugin.wasabee._selectedOp:await Se.load(e),t=new Se({name:t.name+" "+(new Date).toUTCString(),creator:window.PLAYER.nickname,opportals:t.opportals,links:t.links,markers:t.markers,color:t.color,comment:t.comment,zones:t.zones,referencetime:t.referencetime}),await t.store(),t}async function qe(e){if(e.GID){for(const t of await Ye()){const a=await Se.load(t);(!a||a.isServerOp()&&a.creator!==e.GID)&&(await Se.delete(t),j.removeBlockers(t))}await Ge()}}function Ve(e){if(e&&e.options&&e.options.data&&e.options.guid){const t=e.options.data,a=e.options.guid;if(t.title)return new se({id:a,name:t.title,lat:(t.latE6/1e6).toFixed(6),lng:(t.lngE6/1e6).toFixed(6)});if(t.latE6)return se.fake((t.latE6/1e6).toFixed(6),(t.lngE6/1e6).toFixed(6),a)}return null}function je(e){return window.portals[e.id]&&window.portals[e.id].options.data?window.portals[e.id].options.data.team:""}function Qe(e){return e.pureFaked?Re("FAKED",{portalId:e.id}):e.loading?Re("LOADING1",{portalGuid:e.id}):e.name}function Je(e,t=!1){const a=e.latLng,o=`${e.lat},${e.lng}`,n=Qe(e),i=L.DomUtil.create("a","wasabee-portal");!0===t&&e.name.length>12?i.textContent=n.slice(0,8)+"...":i.textContent=n;const r=je(e);return"E"==r&&i.classList.add("enl"),"R"==r&&i.classList.add("res"),"M"==r&&i.classList.add("mac"),"N"==r&&i.classList.add("unclaimed"),i.href=`/intel?ll=${o}&pll=${o}`,L.DomEvent.on(i,"click",(t=>(window.selectedPortal!=e.id&&35==e.id.length?window.renderPortalDetails(e.id):window.map.panTo(a),t.preventDefault(),!1))).on(i,"dblclick",(t=>(window.selectedPortal!=e.id&&35==e.id.length&&window.renderPortalDetails(e.id),window.map.getBounds().contains(a)?window.zoomToAndShowPortal(e.id,a):window.map.panTo(a),t.preventDefault(),!1))),i}function Xe(e){return Ve(window.portals[e])}function $e(){return window.selectedPortal?Xe(window.selectedPortal):null}function et(e){const t=window.map.getBounds(),a=[];for(const o in window.portals)if(t.contains(window.portals[o].getLatLng())){if(e.containsMarkerByID(window.portals[o].options.guid,ie.constants.MARKER_TYPE_EXCLUDE))continue;const t=Ve(window.portals[o]);t&&a.push(t)}return a}function tt(e){if(!e.portal.options.data.title)return;const t=Ke(),a=Ve(e.portal);t.updatePortal(a),j.updatePortal(t,a).then((e=>{e&&window.map.fire("wasabee:crosslinks:update")}))}function at(e){if(!e.success)return;const t=new se({id:e.guid,name:e.details.title,lat:(e.details.latE6/1e6).toFixed(6),lng:(e.details.lngE6/1e6).toFixed(6)}),a=Ke();a.updatePortal(t),j.updatePortal(a,t).then((e=>{e&&window.map.fire("wasabee:crosslinks:update")}))}function ot(e){Array.isArray(e)?window.plugin.wasabee.portalDetailQueue=window.plugin.wasabee.portalDetailQueue.concat(e):window.plugin.wasabee.portalDetailQueue.push(e);const t=localStorage[window.plugin.wasabee.static.constants.PORTAL_DETAIL_RATE_KEY]||1e3;window.plugin.wasabee.portalDetailIntervalID||(window.plugin.wasabee.portalDetailIntervalID=window.setInterval(nt,t),console.log("starting portal details request queue: "+window.plugin.wasabee.portalDetailIntervalID))}function nt(){const e=window.plugin.wasabee.portalDetailQueue.shift();if(void 0===e)return console.debug("closing portal details request queue: "+window.plugin.wasabee.portalDetailIntervalID),window.clearInterval(window.plugin.wasabee.portalDetailIntervalID),void(window.plugin.wasabee.portalDetailIntervalID=null);35==e.length&&window.portalDetail.request(e)}function it(e,t=!1){if("true"!==(localStorage[window.plugin.wasabee.static.constants.AUTO_LOAD_FAKED]||!1)&&!t)return;const a=[];for(const t of e.fakedPortals)a.push(t.id);a.length>0&&ot(a)}async function rt(e,t=!1){if("true"!==(localStorage[window.plugin.wasabee.static.constants.AUTO_LOAD_FAKED]||!1)&&!t)return;const a=(await j.getPortals(e)).filter((e=>e.id===e.name)).map((e=>e.id));a.length>0&&ot(a)}function st(e,t,a){if(Ae(t.getLatLngs(),e.getLatLngs(a))){if(!a.markers||0==a.markers.length)return!0;for(const e of a.markers)if(!(e.type!=ie.constants.MARKER_TYPE_DESTROY&&e.type!=ie.constants.MARKER_TYPE_VIRUS&&e.type!=ie.constants.MARKER_TYPE_DECAY||e.portalId!=t.options.data.dGuid&&e.portalId!=t.options.data.oGuid))return!1;return!0}return!1}function lt(e){const t=L.geodesicPolyline(e.getLatLngs(),{color:"#d22",opacity:.7,weight:5,interactive:!1,dashArray:[8,8],guid:e.options.guid});t.addTo(window.plugin.wasabee.crossLinkLayers),window.plugin.wasabee._crosslinkCache.set(e.options.guid,t)}function ct(e,t){if(!window.plugin.wasabee._crosslinkCache.has(e.options.guid))for(const a of t.links)if(st(a,e,t)){lt(e);let a=t.getPortal(e.options.data.oGuid)||Xe(e.options.data.oGuid);a||(a=se.fake((e.options.data.oLatE6/1e6).toFixed(6),(e.options.data.oLngE6/1e6).toFixed(6),e.options.data.oGuid));let o=t.getPortal(e.options.data.dGuid)||Xe(e.options.data.dGuid);o||(o=se.fake((e.options.data.dLatE6/1e6).toFixed(6),(e.options.data.dLngE6/1e6).toFixed(6),e.options.data.dGuid)),j.addBlocker(t,a,o);break}}function dt(e,t){for(const a of t.links)if(e.ID!=a.ID&&Ae(a.getLatLngs(t),e.getLatLngs(t)))return!0;return!1}function ut(){if(!1===window.isLayerGroupDisplayed("Wasabee Cross Links"))return;const e=Ke();if(window.plugin.wasabee.crossLinkLayers.clearLayers(),window.plugin.wasabee._crosslinkCache.clear(),!e.links||0==e.links.length)return;const t=function*(){const e=Object.getOwnPropertyNames(window.links);for(const t of e)null!=window.links[t]&&(yield window.links[t])}();for(const a of t)ct(a,e);for(const t of e.links)if(dt(t,e)){const a=L.geodesicPolyline(t.getLatLngs(e),window.plugin.wasabee.skin.selfBlockStyle);a.options.interactive=!1,a.addTo(window.plugin.wasabee.crossLinkLayers)}window.map.fire("wasabee:crosslinks:done")}function pt(e){ct(e.link,Ke())}function mt(){window.removeHook("linkAdded",pt)}function ht(){!1!==window.isLayerGroupDisplayed("Wasabee Cross Links")&&(window.plugin.wasabee.crossLinkLayers.bringToFront(),ut(),window.addHook("linkAdded",pt))}const gt=new MessageChannel,ft=gt.port1;function Et(e){"analytics"===e.id&&"true"!==localStorage[D.SEND_ANALYTICS_KEY]||"analytics"!==e.id&&"true"===localStorage[D.FIREBASE_DISABLE]||("wasabeeLogin"==e.id&&(e.server=pe(),e.jwt=kt()),e.app_name="Wasabee-IITC",e.app_version=window.plugin.wasabee.info.version,ft.postMessage(e))}async function _t(e,t=86400){const a=await V.get(e);if(a&&a.fetched>Date.now()-1e3*t)return new V(a);if(!re.isLoggedIn())return null;try{const t=await(o=e,Pt(`/api/v1/agent/${o}`));return new V(t)}catch(e){console.error(e)}var o;return null}async function wt(e,t){const a=re.localGet();if(null===a||null==a.fetched||a.fetched<re.maxCacheAge()||e)try{const e=await Pt("/api/v1/me");new re(e).store()}catch(a){if(e&&!t)throw a}return re.localGet()}async function bt(e,t=60){const a=await ve.get(e);if(a){const e=new ve(a);if(e.fetched>Date.now()-1e3*t)return e}if(!re.isLoggedIn())return null;try{const t=await(o=e,Pt(`/api/v1/team/${o}`));return new ve(t)}catch(e){console.error(e)}var o;return null}const Tt="wasabee-jwt";function At(e){localStorage[Tt]=e}function Lt(){localStorage.removeItem(Tt)}function kt(){return localStorage.getItem(Tt)}async function St(e){const t=await(a=e,xt("/aptok",JSON.stringify({accessToken:a}),"application/json;charset=UTF-8"));var a;return t&&t.jwt&&At(t.jwt),t?new re(t):wt(!0)}function vt(e=!1){return new Promise(((t,a)=>{const o={client_id:window.plugin.wasabee.static.constants.OAUTH_CLIENT_ID,scope:"email profile openid",response_type:"id_token permission",prompt:e?"select_account":"none"};window.gapi.auth2.authorize(o,(o=>{if(o.error){if(Et({id:"exception",error:o.error}),"idpiframe_initialization_failed"===o.error)return a("You need enable cookies or allow [*.]google.com");if(!e&&("user_logged_out"==o.error||"immediate_failed"==o.error))return t(vt(!0));const n=`error from gapiAuth: ${o.error}: ${o.error_subtype}`;return Et({id:"exception",error:n}),a(n)}return t(o.access_token)}))}))}function Ot(){if(window.plugin&&window.plugin.wasabee){let e=localStorage[window.plugin.wasabee.static.constants.SERVER_BASE_KEY];return null==e&&(e=window.plugin.wasabee.static.constants.SERVER_BASE_DEFAULT,localStorage[window.plugin.wasabee.static.constants.SERVER_BASE_KEY]=e),e}return""}function Dt(e){(e=e.trim()).startsWith("http")||(e="https://"+e),e.endsWith("/")&&(e=e.slice(0,-1)),localStorage[window.plugin.wasabee.static.constants.SERVER_BASE_KEY]=e}function Nt(e,t){return Pt(`/api/v1/me?lat=${e}&lon=${t}`)}function Ct(e,t,a="ad hoc"){return xt(`/api/v1/agent/${e}/target`,JSON.stringify({Name:t.name,Lat:t.lat,Lng:t.lng,ID:t.id,Type:a}),"application/json;charset=UTF-8")}async function yt(e){let t="Sat, 29 Oct 1994 19:43:31 GMT";const a=await Se.load(e);null!=a&&a.fetched&&(t=a.fetched);try{const o=await Mt({url:`/api/v1/draw/${e}`,method:"GET",headers:a?a.lasteditid?{"If-None-Match":a.lasteditid}:{"If-Modified-Since":t}:null}),n=new Se(o);return n.localchanged=!1,n.server=Ot(),n.fetchedOp=JSON.stringify(o),n.fetched=(new Date).toUTCString(),n}catch(t){if(!(t instanceof xe))return console.error(t),Promise.reject(new xe({code:-1,text:`Unexpected error: ${t}`}));switch(t.code){case 304:return a.server=Ot(),a;case 403:case 410:await Fe(e);default:return Promise.reject(t)}}}function Rt(e,t){return Pt(`/api/v1/draw/${e}/link/${t}`)}function It(e,t){return Pt(`/api/v1/draw/${e}/marker/${t}`)}async function Mt(e){const t={method:e.method,mode:"cors",cache:"default",credentials:"include",redirect:"manual",referrerPolicy:"origin",headers:{}};if(e.body&&(t.body=e.body),e.headers&&(t.headers=e.headers),e.url.startsWith("/api")){const e=kt();e&&(t.headers.Authorization=`Bearer ${e}`)}try{const a=await fetch(Ot()+e.url,t),o=await a.text();let n;if(!e.raw){if(!o&&!e.retried){if(a.ok)return console.warn(`server answer is empty on[${e.url}], retry once, just in case `),Mt({...e,retried:!0});if("opaqueredirect"===a.type&&0===a.status)return console.warn(`server answer is a redirect on[${e.url}], retry once, just in case `),Mt({...e,retried:!0})}try{n=JSON.parse(o)}catch{if(a.ok)return Promise.reject(new xe({code:-1,text:"unexpected server answer"}))}}switch(a.status){case 200:return!e.raw&&n.updateID&&(window.plugin&&window.plugin.wasabee?window.plugin.wasabee._updateList:window.wasabeewebui._updateList).set(n.updateID,Date.now()),Promise.resolve(e.raw?o:n);case 401:re.purge();default:return Promise.reject(new xe({code:a.status,text:a.statusText,error:n?n.error:null}))}}catch(e){return console.error(e),Promise.reject(new xe({code:-1,text:"Network error"}))}}function Pt(e){return Mt({method:"GET",url:e})}function xt(e,t,a){return Mt({url:e,method:"POST",body:t,headers:a?{"Content-Type":a}:null})}function Ut(e,t){return Mt({url:e,method:"PUT",body:t})}function Bt(e,t){return Mt({url:e,method:"DELETE",body:t})}const Kt=L.Class.extend({initialize:function(e){this._map=e,this._pane=e._panes.tooltipPane,this._container=L.DomUtil.create("div","wasabee-tooltip",this._pane),L.DomUtil.addClass(this._container,"wasabee-tooltip-single"),window.map.on("mousemove",this._onMouseMove,this)},dispose:function(){window.map.off("mousemove",this._onMouseMove,this),this._pane.removeChild(this._container),this._container=null},updateContent:function(e,t){return t&&e instanceof Node?this._container.replaceChildren(e):this._container.textContent=e,this},_onMouseMove:function(e){e.layerPoint&&L.DomUtil.setPosition(this._container,e.layerPoint)},updatePosition:function(e){const t=this._map.latLngToLayerPoint(e);return L.DomUtil.setPosition(this._container,t),this},showAsError:function(){return L.DomUtil.addClass(this._container,"wasabee-error-tooltip"),this},removeError:function(){return L.DomUtil.removeClass(this._container,"wasabee-error-tooltip"),this}}),Gt=L.Handler.extend({options:{paneId:"wasabee",paneName:"Wasabee",default:null},initialize:function(e){L.setOptions(this,e),window.useAndroidPanes()&&android.addPane(this.options.paneId,this.options.paneName),window.addHook("paneChanged",(e=>{e===this.options.paneId?this.enable():this.disable()})),this._container=L.DomUtil.create("div","wasabee-pane hidden",document.body),window.map.on("wasabee:pane:set",(e=>{e.pane===this.options.paneId&&(this._dialog&&this._dialog.closeDialog(),this._dialog=e.dialog,this._container.textContent="",this._container.appendChild(this._dialog._container),window.show(e.pane))})),window.map.on("wasabee:pane:clear",(e=>{e.pane===this.options.paneId&&this._dialog===e.dialog&&delete this._dialog}))},addHooks:function(){this._container.classList.remove("hidden"),!this._dialog&&this.options.default&&this.options.default().enable()},removeHooks:function(){this._container.classList.add("hidden")}}),Ht=L.Handler.extend({statics:{TYPE:"Unextended Wasabee Dialog"},needWritePermission:!1,options:{usePane:!1,paneId:"wasabee"},initialize:function(e){L.setOptions(this,e),this._smallScreen=this._isMobile(),window.map.fire("wdialog",{dialogType:this.constructor.TYPE}),this.options.usePane=this.options.usePane&&window.isSmartphone()&&"true"===localStorage[window.plugin.wasabee.static.constants.USE_PANES]},addHooks:function(){window.map.on("wasabee:ui:skin",this.update,this),window.map.on("wasabee:ui:lang",this.update,this),window.map.on("wasabee:op:change wasabee:op:select",Ht.prototype.onOpChange,this)},removeHooks:function(){window.map.off("wasabee:ui:skin",this.update,this),window.map.off("wasabee:ui:lang",this.update,this),window.map.off("wasabee:op:change wasabee:op:select",Ht.prototype.onOpChange,this)},onOpChange:function(){if(this.needWritePermission){const e=window.plugin.wasabee._selectedOp;e&&e.canWrite()||this._dialog&&this.closeDialog()}},enable:function(){if(this.needWritePermission){const e=window.plugin.wasabee._selectedOp;if(!e||!e.canWrite())return}L.Handler.prototype.enable.call(this)},update:function(){},createDialog:function(e){if(this.options.title=e.title,e.dialogClass="wasabee-dialog wasabee-dialog-"+e.dialogClass,this._smallScreen&&(e.dialogClass+=" wasabee-small-screen"),this.options.usePane){if(this._container=L.DomUtil.create("div",e.dialogClass),e.id&&(this._container.id=e.id),this._header=L.DomUtil.create("div","header",this._container),e.title&&(this._header.textContent=e.title),this._content=L.DomUtil.create("div","content",this._container),e.html&&this._content.appendChild(e.html),this._buttons=L.DomUtil.create("div","buttonset",this._container),e.buttons){e.buttons instanceof Array||(e.buttons=Object.entries(e.buttons).map((([e,t])=>({text:e,click:t}))));for(const t of e.buttons){const e=L.DomUtil.create("button",null,this._buttons);e.textContent=t.text,L.DomEvent.on(e,"click",t.click)}}window.map.fire("wasabee:pane:set",{pane:this.options.paneId,dialog:this})}else{if(e.closeCallback||(e.closeCallback=()=>{this.disable(),delete this._dialog}),window.isSmartphone()&&!e.autofocus&&e.html instanceof HTMLElement){const t=L.DomUtil.create("input");t.autofocus=!0,t.type="hidden",e.html.appendChild(t)}this._dialog=window.dialog(e),e.buttons&&this._dialog.dialog("option","buttons",e.buttons)}},setTitle:function(e){this._dialog?this._dialog.dialog("option","title",e):this._header&&(this._header.textContent=e)},setContent:function(e){this._dialog?this._dialog.html(e):this._container&&(this._content.textContent="",this._content.appendChild(e))},closeDialog:function(){this._dialog?(this._dialog.dialog("close"),delete this._dialog):this._container&&(window.map.fire("wasabee:pane:clear",{pane:this.options.paneId,dialog:this}),this.disable(),delete this._container,window.show("map"))},_isMobile:function(){return!!window.plugin.userLocation}}),zt=L.Control.extend({onAdd:function(){for(const e of this.options.buttons.values())e.setControl(this);const e=L.DomUtil.create("div","wasabee-buttons");return e.appendChild(this.options.container),window.map.on("wasabee:login wasabee:logout",this.update,this),window.map.on("wasabee:op:select wasabee:op:change",this.update,this),e},onRemove:function(){window.map.off("wasabee:op:select wasabee:op:change",this.update,this),window.map.off("wasabee:login wasabee:logout",this.update,this)},update:function(){for(const e of this.options.buttons.values())e.update()},disableAllExcept:function(e){for(const[t,a]of this.options.buttons)t!=e&&a.disable()}}),Ft=L.Class.extend({statics:{TYPE:"unextendedWButton"},_enabled:!1,title:"Unset",needWritePermission:!1,initialize:function(e){console.log("WButton init"),this.type=Ft.TYPE,this.title="Unextended WButton",this._container=e,this.handler=this._toggleActions},update:function(){if(!this.button||!this.needWritePermission)return;const e=window.plugin.wasabee._selectedOp;e&&e.canWrite()?this.button.style.display="block":this.button.style.display="none"},_toggleActions:function(){this._enabled?this.disable():this.enable()},setControl:function(e){this.control=e},disable:function(){this._enabled&&(this._enabled=!1,this.actionsContainer&&(this.actionsContainer.style.display="none"))},enable:function(){this._enabled||(this.control&&this.control.disableAllExcept(this.type),this._enabled=!0,this.actionsContainer&&(this.actionsContainer.style.display="block"))},setSubActions:function(e){this.actionsContainer||(this.actionsContainer=L.DomUtil.create("ul","wasabee-actions",this._container)),this.actionsContainer.textContent="";for(const t of e){const e=L.DomUtil.create("li","wasabee-subactions",this.actionsContainer);this._createButton({...t,container:e})}},_createButton:function(e){const t=L.DomUtil.create("a",e.className||"",e.container);if(e.text&&(t.innerHTML=e.text),e.html&&t.appendChild(e.html),e.accesskey&&(t.accessKey=e.accesskey),e.buttonImage){const a=L.DomUtil.create("img","wasabee-actions-image",t);a.id=this.type,a.src=e.buttonImage}return e.title&&(t.title=e.title),L.DomEvent.disableClickPropagation(t),L.DomEvent.on(t,"click",e.callback,e.context),t}});var Wt=a(818),Yt=a.n(Wt);function Zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(a),!0).forEach((function(t){Qt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function jt(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Qt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o,n,i=[],r=!0,s=!1;try{for(a=a.call(e);!(r=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){s=!0,n=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw n}}return i}}(e,t)||$t(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){if(e){if("string"==typeof e)return ea(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ea(e,t):void 0}}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}var ta=function(){},aa={},oa={},na=null,ia={mark:ta,measure:ta};try{"undefined"!=typeof window&&(aa=window),"undefined"!=typeof document&&(oa=document),"undefined"!=typeof MutationObserver&&(na=MutationObserver),"undefined"!=typeof performance&&(ia=performance)}catch(e){}var ra=(aa.navigator||{}).userAgent,sa=void 0===ra?"":ra,la=aa,ca=oa,da=na,ua=ia,pa=(la.document,!!ca.documentElement&&!!ca.head&&"function"==typeof ca.addEventListener&&"function"==typeof ca.createElement),ma=~sa.indexOf("MSIE")||~sa.indexOf("Trident/"),ha="svg-inline--fa",ga="data-fa-i2svg",fa="data-fa-pseudo-element",Ea="data-prefix",_a="data-icon",wa="fontawesome-i2svg",ba=["HTML","HEAD","STYLE","SCRIPT"],Ta=function(){try{return!0}catch(e){return!1}}(),Aa={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},La={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},ka={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Sa={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},va=/fa[srltdbk\-\ ]/,Oa="fa-layers-text",Da=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Na={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},Ca=[1,2,3,4,5,6,7,8,9,10],ya=Ca.concat([11,12,13,14,15,16,17,18,19,20]),Ra=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ia="duotone-group",Ma="primary",Pa="secondary",xa=[].concat(Xt(Object.keys(La)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ia,"swap-opacity",Ma,Pa]).concat(Ca.map((function(e){return"".concat(e,"x")}))).concat(ya.map((function(e){return"w-".concat(e)}))),Ua=la.FontAwesomeConfig||{};ca&&"function"==typeof ca.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Jt(e,2),a=t[0],o=t[1],n=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=ca.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(a));null!=n&&(Ua[o]=n)}));var Ba=qt(qt({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:ha,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),Ua);Ba.autoReplaceSvg||(Ba.observeMutations=!1);var Ka={};Object.keys(Ba).forEach((function(e){Object.defineProperty(Ka,e,{enumerable:!0,set:function(t){Ba[e]=t,Ga.forEach((function(e){return e(Ka)}))},get:function(){return Ba[e]}})})),la.FontAwesomeConfig=Ka;var Ga=[],Ha=16,za={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Fa(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function Wa(e){for(var t=[],a=(e||[]).length>>>0;a--;)t[a]=e[a];return t}function Ya(e){return e.classList?Wa(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function Za(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qa(e){return Object.keys(e||{}).reduce((function(t,a){return t+"".concat(a,": ").concat(e[a].trim(),";")}),"")}function Va(e){return e.size!==za.size||e.x!==za.x||e.y!==za.y||e.rotate!==za.rotate||e.flipX||e.flipY}function ja(){var e="fa",t=ha,a=Ka.familyPrefix,o=Ka.replacementClass,n=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(a!==e||o!==t){var i=new RegExp("\\.".concat(e,"\\-"),"g"),r=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");n=n.replace(i,".".concat(a,"-")).replace(r,"--".concat(a,"-")).replace(s,".".concat(o))}return n}var Qa=!1;function Ja(){Ka.autoAddCss&&!Qa&&(function(e){if(e&&pa){var t=ca.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var a=ca.head.childNodes,o=null,n=a.length-1;n>-1;n--){var i=a[n],r=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(r)>-1&&(o=i)}ca.head.insertBefore(t,o)}}(ja()),Qa=!0)}var Xa={mixout:function(){return{dom:{css:ja,insertCss:Ja}}},hooks:function(){return{beforeDOMElementCreation:function(){Ja()},beforeI2svg:function(){Ja()}}}},$a=la||{};$a.___FONT_AWESOME___||($a.___FONT_AWESOME___={}),$a.___FONT_AWESOME___.styles||($a.___FONT_AWESOME___.styles={}),$a.___FONT_AWESOME___.hooks||($a.___FONT_AWESOME___.hooks={}),$a.___FONT_AWESOME___.shims||($a.___FONT_AWESOME___.shims=[]);var eo=$a.___FONT_AWESOME___,to=[],ao=!1;function oo(e){pa&&(ao?setTimeout(e,0):to.push(e))}function no(e){var t=e.tag,a=e.attributes,o=void 0===a?{}:a,n=e.children,i=void 0===n?[]:n;return"string"==typeof e?Za(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,a){return t+"".concat(a,'="').concat(Za(e[a]),'" ')}),"").trim()}(o),">").concat(i.map(no).join(""),"</").concat(t,">")}function io(e,t,a){if(e&&e[t]&&e[t][a])return{prefix:t,iconName:a,icon:e[t][a]}}pa&&((ao=(ca.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ca.readyState))||ca.addEventListener("DOMContentLoaded",(function e(){ca.removeEventListener("DOMContentLoaded",e),ao=1,to.map((function(e){return e()}))})));var ro=function(e,t,a,o){var n,i,r,s=Object.keys(e),l=s.length,c=void 0!==o?function(e,t){return function(a,o,n,i){return e.call(t,a,o,n,i)}}(t,o):t;for(void 0===a?(n=1,r=e[s[0]]):(n=0,r=a);n<l;n++)r=c(r,e[i=s[n]],i,e);return r};function so(e){var t=function(e){for(var t=[],a=0,o=e.length;a<o;){var n=e.charCodeAt(a++);if(n>=55296&&n<=56319&&a<o){var i=e.charCodeAt(a++);56320==(64512&i)?t.push(((1023&n)<<10)+(1023&i)+65536):(t.push(n),a--)}else t.push(n)}return t}(e);return 1===t.length?t[0].toString(16):null}function lo(e){return Object.keys(e).reduce((function(t,a){var o=e[a];return o.icon?t[o.iconName]=o.icon:t[a]=o,t}),{})}function co(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.skipHooks,n=void 0!==o&&o,i=lo(t);"function"!=typeof eo.hooks.addPack||n?eo.styles[e]=qt(qt({},eo.styles[e]||{}),i):eo.hooks.addPack(e,lo(t)),"fas"===e&&co("fa",t)}var uo=eo.styles,po=eo.shims,mo=Object.values(ka),ho=null,go={},fo={},Eo={},_o={},wo={},bo=Object.keys(Aa);function To(e,t){var a,o=t.split("-"),n=o[0],i=o.slice(1).join("-");return n!==e||""===i||(a=i,~xa.indexOf(a))?null:i}var Ao,Lo=function(){var e=function(e){return ro(uo,(function(t,a,o){return t[o]=ro(a,e,{}),t}),{})};go=e((function(e,t,a){return t[3]&&(e[t[3]]=a),t[2]&&t[2].filter((function(e){return"number"==typeof e})).forEach((function(t){e[t.toString(16)]=a})),e})),fo=e((function(e,t,a){return e[a]=a,t[2]&&t[2].filter((function(e){return"string"==typeof e})).forEach((function(t){e[t]=a})),e})),wo=e((function(e,t,a){var o=t[2];return e[a]=a,o.forEach((function(t){e[t]=a})),e}));var t="far"in uo||Ka.autoFetchSvg,a=ro(po,(function(e,a){var o=a[0],n=a[1],i=a[2];return"far"!==n||t||(n="fas"),"string"==typeof o&&(e.names[o]={prefix:n,iconName:i}),"number"==typeof o&&(e.unicodes[o.toString(16)]={prefix:n,iconName:i}),e}),{names:{},unicodes:{}});Eo=a.names,_o=a.unicodes,ho=Do(Ka.styleDefault)};function ko(e,t){return(go[e]||{})[t]}function So(e,t){return(wo[e]||{})[t]}function vo(e){return Eo[e]||{prefix:null,iconName:null}}function Oo(){return ho}function Do(e){var t=La[e]||La[Aa[e]],a=e in eo.styles?e:null;return t||a||null}function No(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.skipLookups,o=void 0!==a&&a,n=null,i=e.reduce((function(e,t){var a=To(Ka.familyPrefix,t);if(uo[t]?(t=mo.includes(t)?Sa[t]:t,n=t,e.prefix=t):bo.indexOf(t)>-1?(n=t,e.prefix=Do(t)):a?e.iconName=a:t!==Ka.replacementClass&&e.rest.push(t),!o&&e.prefix&&e.iconName){var i="fa"===n?vo(e.iconName):{},r=So(e.prefix,e.iconName);i.prefix&&(n=null),e.iconName=i.iconName||r||e.iconName,e.prefix=i.prefix||e.prefix,"far"!==e.prefix||uo.far||!uo.fas||Ka.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==i.prefix&&"fa"!==n||(i.prefix=Oo()||"fas"),i}Ao=function(e){ho=Do(e.styleDefault)},Ga.push(Ao),Lo();var Co=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,a;return t=e,a=[{key:"add",value:function(){for(var e=this,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];var n=a.reduce(this._pullDefinitions,{});Object.keys(n).forEach((function(t){e.definitions[t]=qt(qt({},e.definitions[t]||{}),n[t]),co(t,n[t]);var a=ka[t];a&&co(a,n[t]),Lo()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var a=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(a).map((function(t){var o=a[t],n=o.prefix,i=o.iconName,r=o.icon,s=r[2];e[n]||(e[n]={}),s.length>0&&s.forEach((function(t){"string"==typeof t&&(e[n][t]=r)})),e[n][i]=r})),e}}],a&&jt(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),yo=[],Ro={},Io={},Mo=Object.keys(Io);function Po(e,t){for(var a=arguments.length,o=new Array(a>2?a-2:0),n=2;n<a;n++)o[n-2]=arguments[n];var i=Ro[e]||[];return i.forEach((function(e){t=e.apply(null,[t].concat(o))})),t}function xo(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];var n=Ro[e]||[];n.forEach((function(e){e.apply(null,a)}))}function Uo(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Io[e]?Io[e].apply(null,t):void 0}function Bo(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,a=e.prefix||Oo();if(t)return t=So(a,t)||t,io(Ko.definitions,a,t)||io(eo.styles,a,t)}var Ko=new Co,Go={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pa?(xo("beforeI2svg",e),Uo("pseudoElements2svg",e),Uo("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Ka.autoReplaceSvg&&(Ka.autoReplaceSvg=!0),Ka.observeMutations=!0,oo((function(){zo({autoReplaceSvgRoot:t}),xo("watch",e)}))}},Ho={noAuto:function(){Ka.autoReplaceSvg=!1,Ka.observeMutations=!1,xo("noAuto")},config:Ka,dom:Go,parse:{icon:function(e){if(null===e)return null;if("object"===Vt(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:So(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],a=Do(e[0]);return{prefix:a,iconName:So(a,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(Ka.familyPrefix,"-"))>-1||e.match(va))){var o=No(e.split(" "),{skipLookups:!0});return{prefix:o.prefix||Oo(),iconName:So(o.prefix,o.iconName)||o.iconName}}if("string"==typeof e){var n=Oo();return{prefix:n,iconName:So(n,e)||e}}}},library:Ko,findIconDefinition:Bo,toHtml:no},zo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,a=void 0===t?ca:t;(Object.keys(eo.styles).length>0||Ka.autoFetchSvg)&&pa&&Ka.autoReplaceSvg&&Ho.dom.i2svg({node:a})};function Fo(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return no(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(pa){var t=ca.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Wo(e){var t=e.icons,a=t.main,o=t.mask,n=e.prefix,i=e.iconName,r=e.transform,s=e.symbol,l=e.title,c=e.maskId,d=e.titleId,u=e.extra,p=e.watchable,m=void 0!==p&&p,h=o.found?o:a,g=h.width,f=h.height,E="fak"===n,_=[Ka.replacementClass,i?"".concat(Ka.familyPrefix,"-").concat(i):""].filter((function(e){return-1===u.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(u.classes).join(" "),w={children:[],attributes:qt(qt({},u.attributes),{},{"data-prefix":n,"data-icon":i,class:_,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(f)})},b=E&&!~u.classes.indexOf("fa-fw")?{width:"".concat(g/f*16*.0625,"em")}:{};m&&(w.attributes[ga]=""),l&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(d||Fa())},children:[l]}),delete w.attributes.title);var T=qt(qt({},w),{},{prefix:n,iconName:i,main:a,mask:o,maskId:c,transform:r,symbol:s,styles:qt(qt({},b),u.styles)}),A=o.found&&a.found?Uo("generateAbstractMask",T)||{children:[],attributes:{}}:Uo("generateAbstractIcon",T)||{children:[],attributes:{}},L=A.children,k=A.attributes;return T.children=L,T.attributes=k,s?function(e){var t=e.prefix,a=e.iconName,o=e.children,n=e.attributes,i=e.symbol,r=!0===i?"".concat(t,"-").concat(Ka.familyPrefix,"-").concat(a):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:qt(qt({},n),{},{id:r}),children:o}]}]}(T):function(e){var t=e.children,a=e.main,o=e.mask,n=e.attributes,i=e.styles,r=e.transform;if(Va(r)&&a.found&&!o.found){var s={x:a.width/a.height/2,y:.5};n.style=qa(qt(qt({},i),{},{"transform-origin":"".concat(s.x+r.x/16,"em ").concat(s.y+r.y/16,"em")}))}return[{tag:"svg",attributes:n,children:t}]}(T)}function Yo(e){var t=e.content,a=e.width,o=e.height,n=e.transform,i=e.title,r=e.extra,s=e.watchable,l=void 0!==s&&s,c=qt(qt(qt({},r.attributes),i?{title:i}:{}),{},{class:r.classes.join(" ")});l&&(c[ga]="");var d=qt({},r.styles);Va(n)&&(d.transform=function(e){var t=e.transform,a=e.width,o=void 0===a?16:a,n=e.height,i=void 0===n?16:n,r=e.startCentered,s=void 0!==r&&r,l="";return l+=s&&ma?"translate(".concat(t.x/Ha-o/2,"em, ").concat(t.y/Ha-i/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/Ha,"em), calc(-50% + ").concat(t.y/Ha,"em)) "):"translate(".concat(t.x/Ha,"em, ").concat(t.y/Ha,"em) "),(l+="scale(".concat(t.size/Ha*(t.flipX?-1:1),", ").concat(t.size/Ha*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:n,startCentered:!0,width:a,height:o}),d["-webkit-transform"]=d.transform);var u=qa(d);u.length>0&&(c.style=u);var p=[];return p.push({tag:"span",attributes:c,children:[t]}),i&&p.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),p}function Zo(e){var t=e.content,a=e.title,o=e.extra,n=qt(qt(qt({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")}),i=qa(o.styles);i.length>0&&(n.style=i);var r=[];return r.push({tag:"span",attributes:n,children:[t]}),a&&r.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),r}var qo=eo.styles;function Vo(e){var t=e[0],a=e[1],o=Jt(e.slice(4),1)[0];return{found:!0,width:t,height:a,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(Ka.familyPrefix,"-").concat(Ia)},children:[{tag:"path",attributes:{class:"".concat(Ka.familyPrefix,"-").concat(Pa),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(Ka.familyPrefix,"-").concat(Ma),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var jo={found:!1,width:512,height:512};function Qo(e,t){var a=t;return"fa"===t&&null!==Ka.styleDefault&&(t=Oo()),new Promise((function(o,n){if(Uo("missingIconAbstract"),"fa"===a){var i=vo(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&qo[t]&&qo[t][e])return o(Vo(qo[t][e]));!function(e,t){Ta||Ka.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),o(qt(qt({},jo),{},{icon:Ka.showMissingIcons&&e&&Uo("missingIconAbstract")||{}}))}))}var Jo=function(){},Xo=Ka.measurePerformance&&ua&&ua.mark&&ua.measure?ua:{mark:Jo,measure:Jo},$o='FA "6.1.1"',en=function(e){return Xo.mark("".concat($o," ").concat(e," begins")),function(){return function(e){Xo.mark("".concat($o," ").concat(e," ends")),Xo.measure("".concat($o," ").concat(e),"".concat($o," ").concat(e," begins"),"".concat($o," ").concat(e," ends"))}(e)}},tn=function(){};function an(e){return"string"==typeof(e.getAttribute?e.getAttribute(ga):null)}function on(e){return ca.createElementNS("http://www.w3.org/2000/svg",e)}function nn(e){return ca.createElement(e)}function rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.ceFn,o=void 0===a?"svg"===e.tag?on:nn:a;if("string"==typeof e)return ca.createTextNode(e);var n=o(e.tag);Object.keys(e.attributes||[]).forEach((function(t){n.setAttribute(t,e.attributes[t])}));var i=e.children||[];return i.forEach((function(e){n.appendChild(rn(e,{ceFn:o}))})),n}var sn={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(rn(e),t)})),null===t.getAttribute(ga)&&Ka.keepOriginalSource){var a=ca.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(a,t)}else t.remove()},nest:function(e){var t=e[0],a=e[1];if(~Ya(t).indexOf(Ka.replacementClass))return sn.replace(e);var o=new RegExp("".concat(Ka.familyPrefix,"-.*"));if(delete a[0].attributes.id,a[0].attributes.class){var n=a[0].attributes.class.split(" ").reduce((function(e,t){return t===Ka.replacementClass||t.match(o)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});a[0].attributes.class=n.toSvg.join(" "),0===n.toNode.length?t.removeAttribute("class"):t.setAttribute("class",n.toNode.join(" "))}var i=a.map((function(e){return no(e)})).join("\n");t.setAttribute(ga,""),t.innerHTML=i}};function ln(e){e()}function cn(e,t){var a="function"==typeof t?t:tn;if(0===e.length)a();else{var o=ln;"async"===Ka.mutateApproach&&(o=la.requestAnimationFrame||ln),o((function(){var t=!0===Ka.autoReplaceSvg?sn.replace:sn[Ka.autoReplaceSvg]||sn.replace,o=en("mutate");e.map(t),o(),a()}))}}var dn=!1;function un(){dn=!0}function pn(){dn=!1}var mn=null;function hn(e){if(da&&Ka.observeMutations){var t=e.treeCallback,a=void 0===t?tn:t,o=e.nodeCallback,n=void 0===o?tn:o,i=e.pseudoElementsCallback,r=void 0===i?tn:i,s=e.observeMutationsRoot,l=void 0===s?ca:s;mn=new da((function(e){if(!dn){var t=Oo();Wa(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!an(e.addedNodes[0])&&(Ka.searchPseudoElements&&r(e.target),a(e.target)),"attributes"===e.type&&e.target.parentNode&&Ka.searchPseudoElements&&r(e.target.parentNode),"attributes"===e.type&&an(e.target)&&~Ra.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Ea):null,a=e.getAttribute?e.getAttribute(_a):null;return t&&a}(e.target)){var o=No(Ya(e.target)),i=o.prefix,s=o.iconName;e.target.setAttribute(Ea,i||t),s&&e.target.setAttribute(_a,s)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(Ka.replacementClass)&&n(e.target);var l}))}})),pa&&mn.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function gn(e){var t=e.getAttribute("style"),a=[];return t&&(a=t.split(";").reduce((function(e,t){var a=t.split(":"),o=a[0],n=a.slice(1);return o&&n.length>0&&(e[o]=n.join(":").trim()),e}),{})),a}function fn(e){var t,a,o=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=void 0!==e.innerText?e.innerText.trim():"",r=No(Ya(e));return r.prefix||(r.prefix=Oo()),o&&n&&(r.prefix=o,r.iconName=n),r.iconName&&r.prefix||r.prefix&&i.length>0&&(r.iconName=(t=r.prefix,a=e.innerText,(fo[t]||{})[a]||ko(r.prefix,so(e.innerText)))),r}function En(e){var t=Wa(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),a=e.getAttribute("title"),o=e.getAttribute("data-fa-title-id");return Ka.autoA11y&&(a?t["aria-labelledby"]="".concat(Ka.replacementClass,"-title-").concat(o||Fa()):(t["aria-hidden"]="true",t.focusable="false")),t}function _n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},a=fn(e),o=a.iconName,n=a.prefix,i=a.rest,r=En(e),s=Po("parseNodeAttributes",{},e),l=t.styleParser?gn(e):[];return qt({iconName:o,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:n,transform:za,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:l,attributes:r}},s)}var wn=eo.styles;function bn(e){var t="nest"===Ka.autoReplaceSvg?_n(e,{styleParser:!1}):_n(e);return~t.extra.classes.indexOf(Oa)?Uo("generateLayersText",e,t):Uo("generateSvgReplacementMutation",e,t)}function Tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!pa)return Promise.resolve();var a=ca.documentElement.classList,o=function(e){return a.add("".concat(wa,"-").concat(e))},n=function(e){return a.remove("".concat(wa,"-").concat(e))},i=Ka.autoFetchSvg?Object.keys(Aa):Object.keys(wn),r=[".".concat(Oa,":not([").concat(ga,"])")].concat(i.map((function(e){return".".concat(e,":not([").concat(ga,"])")}))).join(", ");if(0===r.length)return Promise.resolve();var s=[];try{s=Wa(e.querySelectorAll(r))}catch(e){}if(!(s.length>0))return Promise.resolve();o("pending"),n("complete");var l=en("onTree"),c=s.reduce((function(e,t){try{var a=bn(t);a&&e.push(a)}catch(e){Ta||"MissingIcon"===e.name&&console.error(e)}return e}),[]);return new Promise((function(e,a){Promise.all(c).then((function(a){cn(a,(function(){o("active"),o("complete"),n("pending"),"function"==typeof t&&t(),l(),e()}))})).catch((function(e){l(),a(e)}))}))}function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;bn(e).then((function(e){e&&cn([e],t)}))}var Ln=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.transform,o=void 0===a?za:a,n=t.symbol,i=void 0!==n&&n,r=t.mask,s=void 0===r?null:r,l=t.maskId,c=void 0===l?null:l,d=t.title,u=void 0===d?null:d,p=t.titleId,m=void 0===p?null:p,h=t.classes,g=void 0===h?[]:h,f=t.attributes,E=void 0===f?{}:f,_=t.styles,w=void 0===_?{}:_;if(e){var b=e.prefix,T=e.iconName,A=e.icon;return Fo(qt({type:"icon"},e),(function(){return xo("beforeDOMElementCreation",{iconDefinition:e,params:t}),Ka.autoA11y&&(u?E["aria-labelledby"]="".concat(Ka.replacementClass,"-title-").concat(m||Fa()):(E["aria-hidden"]="true",E.focusable="false")),Wo({icons:{main:Vo(A),mask:s?Vo(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:T,transform:qt(qt({},za),o),symbol:i,title:u,maskId:c,titleId:m,extra:{attributes:E,styles:w,classes:g}})}))}},kn={mixout:function(){return{icon:(e=Ln,function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(t||{}).icon?t:Bo(t||{}),n=a.mask;return n&&(n=(n||{}).icon?n:Bo(n||{})),e(o,qt(qt({},a),{},{mask:n}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Tn,e.nodeCallback=An,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,a=void 0===t?ca:t,o=e.callback;return Tn(a,void 0===o?function(){}:o)},e.generateSvgReplacementMutation=function(e,t){var a=t.iconName,o=t.title,n=t.titleId,i=t.prefix,r=t.transform,s=t.symbol,l=t.mask,c=t.maskId,d=t.extra;return new Promise((function(t,u){Promise.all([Qo(a,i),l.iconName?Qo(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var u=Jt(l,2),p=u[0],m=u[1];t([e,Wo({icons:{main:p,mask:m},prefix:i,iconName:a,transform:r,symbol:s,maskId:c,title:o,titleId:n,extra:d,watchable:!0})])})).catch(u)}))},e.generateAbstractIcon=function(e){var t,a=e.children,o=e.attributes,n=e.main,i=e.transform,r=qa(e.styles);return r.length>0&&(o.style=r),Va(i)&&(t=Uo("generateAbstractTransformGrouping",{main:n,transform:i,containerWidth:n.width,iconWidth:n.width})),a.push(t||n.icon),{children:a,attributes:o}}}},Sn={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.classes,o=void 0===a?[]:a;return Fo({type:"layer"},(function(){xo("beforeDOMElementCreation",{assembler:e,params:t});var a=[];return e((function(e){Array.isArray(e)?e.map((function(e){a=a.concat(e.abstract)})):a=a.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Ka.familyPrefix,"-layers")].concat(Xt(o)).join(" ")},children:a}]}))}}}},vn={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.title,o=void 0===a?null:a,n=t.classes,i=void 0===n?[]:n,r=t.attributes,s=void 0===r?{}:r,l=t.styles,c=void 0===l?{}:l;return Fo({type:"counter",content:e},(function(){return xo("beforeDOMElementCreation",{content:e,params:t}),Zo({content:e.toString(),title:o,extra:{attributes:s,styles:c,classes:["".concat(Ka.familyPrefix,"-layers-counter")].concat(Xt(i))}})}))}}}},On={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.transform,o=void 0===a?za:a,n=t.title,i=void 0===n?null:n,r=t.classes,s=void 0===r?[]:r,l=t.attributes,c=void 0===l?{}:l,d=t.styles,u=void 0===d?{}:d;return Fo({type:"text",content:e},(function(){return xo("beforeDOMElementCreation",{content:e,params:t}),Yo({content:e,transform:qt(qt({},za),o),title:i,extra:{attributes:c,styles:u,classes:["".concat(Ka.familyPrefix,"-layers-text")].concat(Xt(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var a=t.title,o=t.transform,n=t.extra,i=null,r=null;if(ma){var s=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();i=l.width/s,r=l.height/s}return Ka.autoA11y&&!a&&(n.attributes["aria-hidden"]="true"),Promise.resolve([e,Yo({content:e.innerHTML,width:i,height:r,transform:o,title:a,extra:n,watchable:!0})])}}},Dn=new RegExp('"',"ug"),Nn=[1105920,1112319];function Cn(e,t){var a="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(o,n){if(null!==e.getAttribute(a))return o();var i,r,s,l=Wa(e.children).filter((function(e){return e.getAttribute(fa)===t}))[0],c=la.getComputedStyle(e,t),d=c.getPropertyValue("font-family").match(Da),u=c.getPropertyValue("font-weight"),p=c.getPropertyValue("content");if(l&&!d)return e.removeChild(l),o();if(d&&"none"!==p&&""!==p){var m=c.getPropertyValue("content"),h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(d[2])?La[d[2].toLowerCase()]:Na[u],g=function(e){var t,a,o,n,i=e.replace(Dn,""),r=(o=(t=i).length,(n=t.charCodeAt(0))>=55296&&n<=56319&&o>1&&(a=t.charCodeAt(1))>=56320&&a<=57343?1024*(n-55296)+a-56320+65536:n),s=r>=Nn[0]&&r<=Nn[1],l=2===i.length&&i[0]===i[1];return{value:so(l?i[0]:i),isSecondary:s||l}}(m),f=g.value,E=g.isSecondary,_=d[0].startsWith("FontAwesome"),w=ko(h,f),b=w;if(_){var T=(r=_o[i=f],s=ko("fas",i),r||(s?{prefix:"fas",iconName:s}:null)||{prefix:null,iconName:null});T.iconName&&T.prefix&&(w=T.iconName,h=T.prefix)}if(!w||E||l&&l.getAttribute(Ea)===h&&l.getAttribute(_a)===b)o();else{e.setAttribute(a,b),l&&e.removeChild(l);var A={iconName:null,title:null,titleId:null,prefix:null,transform:za,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},L=A.extra;L.attributes[fa]=t,Qo(w,h).then((function(n){var i=Wo(qt(qt({},A),{},{icons:{main:n,mask:{prefix:null,iconName:null,rest:[]}},prefix:h,iconName:b,extra:L,watchable:!0})),r=ca.createElement("svg");"::before"===t?e.insertBefore(r,e.firstChild):e.appendChild(r),r.outerHTML=i.map((function(e){return no(e)})).join("\n"),e.removeAttribute(a),o()})).catch(n)}}else o()}))}function yn(e){return Promise.all([Cn(e,"::before"),Cn(e,"::after")])}function Rn(e){return!(e.parentNode===document.head||~ba.indexOf(e.tagName.toUpperCase())||e.getAttribute(fa)||e.parentNode&&"svg"===e.parentNode.tagName)}function In(e){if(pa)return new Promise((function(t,a){var o=Wa(e.querySelectorAll("*")).filter(Rn).map(yn),n=en("searchPseudoElements");un(),Promise.all(o).then((function(){n(),pn(),t()})).catch((function(){n(),pn(),a()}))}))}var Mn=!1,Pn=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var a=t.toLowerCase().split("-"),o=a[0],n=a.slice(1).join("-");if(o&&"h"===n)return e.flipX=!0,e;if(o&&"v"===n)return e.flipY=!0,e;if(n=parseFloat(n),isNaN(n))return e;switch(o){case"grow":e.size=e.size+n;break;case"shrink":e.size=e.size-n;break;case"left":e.x=e.x-n;break;case"right":e.x=e.x+n;break;case"up":e.y=e.y-n;break;case"down":e.y=e.y+n;break;case"rotate":e.rotate=e.rotate+n}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},xn={mixout:function(){return{parse:{transform:function(e){return Pn(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var a=t.getAttribute("data-fa-transform");return a&&(e.transform=Pn(a)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,a=e.transform,o=e.containerWidth,n=e.iconWidth,i={transform:"translate(".concat(o/2," 256)")},r="translate(".concat(32*a.x,", ").concat(32*a.y,") "),s="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),l="rotate(".concat(a.rotate," 0 0)"),c={outer:i,inner:{transform:"".concat(r," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(n/2*-1," -256)")}};return{tag:"g",attributes:qt({},c.outer),children:[{tag:"g",attributes:qt({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:qt(qt({},t.icon.attributes),c.path)}]}]}}}},Un={x:0,y:0,width:"100%",height:"100%"};function Bn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Kn,Gn={hooks:function(){return{parseNodeAttributes:function(e,t){var a=t.getAttribute("data-fa-mask"),o=a?No(a.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return o.prefix||(o.prefix=Oo()),e.mask=o,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,a=e.children,o=e.attributes,n=e.main,i=e.mask,r=e.maskId,s=e.transform,l=n.width,c=n.icon,d=i.width,u=i.icon,p=function(e){var t=e.transform,a=e.iconWidth,o={transform:"translate(".concat(e.containerWidth/2," 256)")},n="translate(".concat(32*t.x,", ").concat(32*t.y,") "),i="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),r="rotate(".concat(t.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(n," ").concat(i," ").concat(r)},path:{transform:"translate(".concat(a/2*-1," -256)")}}}({transform:s,containerWidth:d,iconWidth:l}),m={tag:"rect",attributes:qt(qt({},Un),{},{fill:"white"})},h=c.children?{children:c.children.map(Bn)}:{},g={tag:"g",attributes:qt({},p.inner),children:[Bn(qt({tag:c.tag,attributes:qt(qt({},c.attributes),p.path)},h))]},f={tag:"g",attributes:qt({},p.outer),children:[g]},E="mask-".concat(r||Fa()),_="clip-".concat(r||Fa()),w={tag:"mask",attributes:qt(qt({},Un),{},{id:E,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[m,f]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:_},children:(t=u,"g"===t.tag?t.children:[t])},w]};return a.push(b,{tag:"rect",attributes:qt({fill:"currentColor","clip-path":"url(#".concat(_,")"),mask:"url(#".concat(E,")")},Un)}),{children:a,attributes:o}}}},Hn={provides:function(e){var t=!1;la.matchMedia&&(t=la.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],a={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:qt(qt({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var n=qt(qt({},o),{},{attributeName:"opacity"}),i={tag:"circle",attributes:qt(qt({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||i.children.push({tag:"animate",attributes:qt(qt({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:qt(qt({},n),{},{values:"1;0;1;1;0;1;"})}),e.push(i),e.push({tag:"path",attributes:qt(qt({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:qt(qt({},n),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:qt(qt({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:qt(qt({},n),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};Kn={mixoutsTo:Ho}.mixoutsTo,yo=[Xa,kn,Sn,vn,On,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=In,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,a=void 0===t?ca:t;Ka.searchPseudoElements&&In(a)}}},{mixout:function(){return{dom:{unwatch:function(){un(),Mn=!0}}}},hooks:function(){return{bootstrap:function(){hn(Po("mutationObserverCallbacks",{}))},noAuto:function(){mn&&mn.disconnect()},watch:function(e){var t=e.observeMutationsRoot;Mn?pn():hn(Po("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},xn,Gn,Hn,{hooks:function(){return{parseNodeAttributes:function(e,t){var a=t.getAttribute("data-fa-symbol"),o=null!==a&&(""===a||a);return e.symbol=o,e}}}}],Ro={},Object.keys(Io).forEach((function(e){-1===Mo.indexOf(e)&&delete Io[e]})),yo.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"==typeof t[e]&&(Kn[e]=t[e]),"object"===Vt(t[e])&&Object.keys(t[e]).forEach((function(a){Kn[e]||(Kn[e]={}),Kn[e][a]=t[e][a]}))})),e.hooks){var a=e.hooks();Object.keys(a).forEach((function(e){Ro[e]||(Ro[e]=[]),Ro[e].push(a[e])}))}e.provides&&e.provides(Io)}));var zn=Ho.icon,Fn=a(55),Wn=a(619),Yn=a(986),Zn=a(375),qn=a(610),Vn=a(371),jn=a(755),Qn=a(117),Jn=a(102),Xn=a(789),$n=a(98),ei=a(49),ti=a(467);function ai(e,t="#000000"){try{return Yt().to.hex(Yt().get.rgb(function(e){switch(e){case"groupa":return"orange";case"groupb":return"yellow";case"groupc":return"lime";case"groupd":return"purple";case"groupe":return"teal";case"groupf":return"fuchsia";case"main":return window.plugin.wasabee.skin.defaultOperationColor;default:return e}}(e)))}catch{return t}}function oi(e){let[t,a,o]=[0,0,0];for(const n of e){const e=Yt().get.rgb(n);t+=e[0],a+=e[1],o+=e[2]}return e.length&&(t=Math.floor(t/e.length),a=Math.floor(a/e.length),o=Math.floor(o/e.length)),Yt().to.hex(t,a,o)}const ni={check:Fn.LE,trash:Wn.$,server:Yn.xf,"arrows-rotate":Zn.T8,"left-right":qn.Bq,pen:Vn.Iw,eraser:jn.xf,ban:Qn.gP,palette:Jn.q2,asterisk:Xn.$X,desktop:$n.tc,"carret-right":ei.I4,"location-dot":ti.op};function ii(e,t){if(e in ni){const a=zn(ni[e]).node[0];t.appendChild(a)}}const ri=Ht.extend({statics:{TYPE:"agent"},options:{},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:async function(){const e=L.DomUtil.create("div",null);try{const t=await _t(this.options.gid);L.DomUtil.create("h2","wasabee-agent-label",e).textContent=t.getName();const a=L.DomUtil.create("ul","",e),o=[["Server name: ",t.name],["Ingress name: ",t.communityname],["V name: ",t.vname],["V verified: ",t.Vverified],["Rocks name: ",t.rocksname],["Rocks Verified: ",t.rocks]];for(const[e,t]of o){const o=L.DomUtil.create("li","",a);L.DomUtil.create("label",null,o).textContent=e,!0===t?ii("check",o):L.DomUtil.create("span",null,o).textContent=t}L.DomUtil.create("img",null,e).src=t.pic}catch(t){console.error(t),e.innerHTML=t.toString()}const t={};t[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("AGENT_STATS"),html:e,width:"auto",dialogClass:"agent",buttons:t})},_displaySmallDialog:function(){this._displayDialog()}});function si(e){const t=L.DomUtil.create("a","wasabee-agent-label");(e.Vverified||e.rocks)&&L.DomUtil.addClass(t,"enl"),e.blacklisted&&L.DomUtil.addClass(t,"res"),L.DomEvent.on(t,"click",(t=>{L.DomEvent.stop(t),new ri({gid:e.id}).enable()}));let a="";return e.communityname&&(a+="C"),e.Vverified?a+="V":e.vname===e.name&&(a+="v"),e.rocks?a+="R":e.rocksname===e.name&&(a+="r"),e.intelname&&((e.rocksname||e.vname)&&(e.rocks||e.Vverified)?e.intelname===e.name?a+="I":e.intelname.toLowerCase()===e.name.toLowerCase()&&(a+="i"):a+="I"),t.textContent=a?`[${a}] `+e.getName():e.getName(),t}function li(e){if(!e.date)return"";const t=Date.parse(e.date+"Z");if(Number.isNaN(t))return`(${e.date} UTC)`;if(0==t)return"";const a=Math.floor((Date.now()-t)/1e3);if(a<0)return"";let o=Math.floor(a/31536e3/2592e3/86400);return o>1?Re("AGES"):(o=Math.floor(a/3600),o>1?Re("HOURS",{hours:o}):(o=Math.floor(a/60),o>1?Re("MINUTES",{minutes:o}):(o=Math.floor(a),Re("SECONDS",{seconds:o}))))}const ci=Ht.extend({statics:{TYPE:"confirmDialog"},options:{title:Re("NO_TITLE"),label:Re("NO_LABEL")},_skippable:function(){const e=localStorage[window.plugin.wasabee.static.constants.SKIP_CONFIRM];if("always"===e)return!0;if("entity"===e)switch(this.options.type){case"anchor":case"link":case"marker":case"zone":case"agent":return!0}return!1},addHooks:function(){Ht.prototype.addHooks.call(this),this._skippable()?(console.log("skipping dialog display"),this.options.callback&&this.options.callback()):this._displayDialog()},_displayDialog:function(){const e={};e[Re("OK")]=()=>{this.options.callback&&this.options.callback(),this.closeDialog()},e[Re("CANCEL")]=()=>{this.options.cancelCallback&&this.options.cancelCallback(),this.closeDialog()},this.createDialog({title:this.options.title,html:this._buildContent(),width:"auto",dialogClass:"confirm",buttons:e})},_buildContent:function(){const e=L.DomUtil.create("div","title");return"string"==typeof this.options.label?e.textContent=this.options.label:e.appendChild(this.options.label),e}});function di(e,t=7){return t<6?function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("viewBox","200 70 630 520"),e.setAttribute("height","30"),e.setAttribute("width","30"),e.setAttribute("style","fill-rule: evenodd; clip-rule: evenodd; stroke-miterlimit: 10;"),e.innerHTML='<path d="M694 342L835 376 699 412 694 342Z" fill="rgb(220,110,110)"/><path d="M555 75C600 91 616 164 591 237 566 311 497 351 463 341 422 328 401 251 427 178 452 105 510 59 555 75Z" fill="rgb(182,182,182)"/><path d="M479 189C608 189 713 273 713 378 713 482 608 567 479 567 351 567 246 482 246 378 246 273 351 189 479 189Z" fill="rgb(220,110,110)"/><path d="M717 124C756 153 751 227 705 290 659 353 581 372 551 352 515 329 517 249 563 186 608 123 678 95 717 124Z" fill="rgb(214,214,214)"/><path d="M398 365C404 365 409 374 409 386 409 398 404 407 398 407 391 407 386 398 386 386 386 374 391 365 398 365Z" fill="rgb(43,43,33)"/><path d="M289 356C295 356 300 366 300 377 300 389 295 399 289 399 283 399 278 389 278 377 278 366 283 356 289 356Z" fill="rgb(43,43,33)"/><path d="M313 425C316 438 332 480 342 480 352 476 356 449 361 427 328 428 327 427 313 425Z" fill="rgb(43,43,33)"/>',e}():t>=6&&t<9?function(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("viewBox","0 0 52 68"),t.innerHTML=`<defs><clipPath id="circleView"><circle fill="#fff" cx="26" cy="26" r="23" /></clipPath></defs>\n      <path fill="yellow" stroke="#aaa" stroke-width="1" stroke-opacity="0.6" d="M 51 26 a 25 25 90 0 0 -50 0 c 0 11 5 20 10 25 l 12 12 c 3 3 3 3 6 0 l 11 -12 c 5 -5 11 -14 11 -25 z" />\n      <circle fill="#fff" cx="26" cy="26" r="24" opacity="0.8" />\n      <image x="2.5" y="2.5" width="47" height="47" href="${e.pic}" clip-path="url(#circleView)" />`,t}(e):t>=9&&t<15?function(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("viewBox","0 0 52 68"),t.innerHTML=`<defs><clipPath id="circleView"><circle fill="#fff" cx="26" cy="26" r="23" /></clipPath></defs>\n      <path fill="orange" stroke="#aaa" stroke-width="1" stroke-opacity="0.6" d="M 51 26 a 25 25 90 0 0 -50 0 c 0 11 5 20 10 25 l 12 12 c 3 3 3 3 6 0 l 11 -12 c 5 -5 11 -14 11 -25 z" />\n      <circle fill="#fff" cx="26" cy="26" r="24" opacity="0.8" />\n      <image x="2.5" y="2.5" width="47" height="47" href="${e.pic}" clip-path="url(#circleView)" />`,t}(e):function(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("viewBox","0 0 52 68"),t.innerHTML=`<defs><clipPath id="circleView"><circle fill="#fff" cx="26" cy="26" r="23" /></clipPath></defs>\n      <path fill="red" stroke="#aaa" stroke-width="1" stroke-opacity="0.6" d="M 51 26 a 25 25 90 0 0 -50 0 c 0 11 5 20 10 25 l 12 12 c 3 3 3 3 6 0 l 11 -12 c 5 -5 11 -14 11 -25 z" />\n      <circle fill="#fff" cx="26" cy="26" r="24" opacity="0.8" />\n      <image x="2.5" y="2.5" width="47" height="47" href="${e.pic}" clip-path="url(#circleView)" />`,t}(e)}function ui(e=7){return e<6?[30,30]:e>=6&&e<9?[36,47]:e>=9&&e<15?[40,52]:[46,60]}function pi(e=7){return e<6?[15,30]:e>=6&&e<9?[18,47]:e>=9&&e<15?[20,52]:[23,60]}const mi=L.Marker.extend({initialize:function(e){const t=window.map.getZoom();L.Marker.prototype.initialize.call(this,e.latLng,{title:e.getName(),icon:L.divIcon({className:"wasabee-agent-icon",iconSize:ui(t),iconAnchor:pi(t),popupAnchor:L.point(0,-70),html:di(e,t)}),id:e.id,agent:e,zoom:t}),this.bindPopup((e=>e._getPopup()),{className:"wasabee-popup",closeButton:!1}),this.off("click",this._openPopup),window.registerMarkerForOMS(this),this.on("spiderfiedclick",this._openPopup)},update:function(){const e=window.map.getZoom();this.options.zoom!=e?(this.options.zoom=e,this.setIcon(L.divIcon({className:"wasabee-agent-icon",iconSize:ui(e),iconAnchor:pi(e),popupAnchor:L.point(0,-70),html:di(this.options.agent,e)}))):L.Marker.prototype.update.call(this)},_getPopup:function(){const e=this.options.agent,t=L.DomUtil.create("div","wasabee-agent-popup"),a=L.DomUtil.create("div","desc",t);a.id=e.id,a.textContent=e.getName();const o=L.DomUtil.create("div","desc",t);o.id=e.id,o.textContent=li(e),_t(this.options.id).then(si).then((t=>{a.textContent="",a.appendChild(t),o.textContent=li(e)}));const n=L.DomUtil.create("button",null,t);n.textContent=Re("SEND TARGET"),L.DomEvent.on(n,"click",(t=>{L.DomEvent.stop(t);const a=$e();a?new ci({title:Re("SEND TARGET"),label:Re("SEND TARGET CONFIRM",{portalName:Qe(a),agent:e.getName()}),type:"agent",callback:async()=>{try{await Ct(e.id,a),Ie(Re("TARGET SENT"))}catch(e){console.error(e)}}}).enable():Me(Re("SELECT PORTAL"))}));const i=Ke(),r=L.DomUtil.create("ul","assignments",t);for(const t of i.markers){if(t.assignedTo!=e.id)continue;const a=L.DomUtil.create("li","assignment",r),o=i.getPortal(t.portalId);a.textContent=`${t.order}: ${Re(t.type)} `,a.appendChild(Je(o))}return t}});class hi{constructor(){this._items=[],this._fields=[],this._sortBy=0,this._sortAsc=!0,this._table=L.DomUtil.create("table","wasabee-table"),this._head=L.DomUtil.create("thead",null,this._table),this._body=L.DomUtil.create("tbody",null,this._table),this._foot=L.DomUtil.create("tfoot",null,this._table),this._smallScreen=!!window.plugin.userLocation,this._sortByStoreKey="",this._sortAscStoreKey="",this._done=!0}get sortBy(){return this._sortBy}set sortBy(e){this._sortBy=Number(e),this.renderHead(),this.sort()}get sortAsc(){return this._sortAsc}set sortAsc(e){!0!==e&&(e=!1),this._sortAsc=e,this.renderHead(),this.sort()}set sortByStoreKey(e){this._sortByStoreKey=e,null==localStorage[this._sortByStoreKey]&&(localStorage[this._sortByStoreKey]=0),this.sortBy=localStorage[this._sortByStoreKey]}set sortAscStoreKey(e){this._sortAscStoreKey=e,null==localStorage[this._sortAscStoreKey]&&(localStorage[this._sortAscStoreKey]="true"),this.sortAsc="true"==localStorage[this._sortAscStoreKey]}get table(){return this._table}get items(){return this._items.map((e=>e.obj))}set items(e){this._body.textContent="";let t=0;const a=[],o=e.map((async e=>{const o=L.DomUtil.create("tr"),n={obj:e,row:o,index:t,values:[],sortValues:[]};t++;for(const t of this._fields){let a=t.value(e);null!=a&&a instanceof Promise&&(a=await a),n.values.push(a);let i=a;t.sortValue&&(i=t.sortValue(a,e),null!=i&&i instanceof Promise&&(i=await i)),n.sortValues.push(i);const r=o.insertCell(-1);t.className&&r.classList.add(t.className),t.format?t.format(r,a,e):r.textContent=a,t.smallScreenHide&&this._smallScreen&&(r.style.display="none")}return a.push(n),n}));a.length===o.length?(this._items=a,this.sort(),this._done=!0):this._done=Promise.all(o).then((e=>(this._items=e,this.sort(),!0)),(e=>{console.log("rejected",e),this._done=!1}))}get fields(){return this._fields}set fields(e){this._fields=e,this.renderHead(),this.renderFoot()}get done(){return this._done}renderHead(){this._head.textContent="";const e=this._head.insertRow(-1);for(const[t,a]of this._fields.entries()){const o=L.DomUtil.create("th",a.className,e);o.textContent=a.name,a.smallScreenHide&&this._smallScreen&&(o.style.display="none"),null!==a.sort&&(L.DomUtil.addClass(o,"sortable"),t==this._sortBy&&L.DomUtil.addClass(o,this._sortAsc?"asc":"desc"),L.DomEvent.on(o,"click",(a=>{L.DomEvent.stop(a);for(const t of e.children)L.DomUtil.removeClass(t,"asc"),L.DomUtil.removeClass(t,"desc");t==this._sortBy&&(this._sortAsc=!this._sortAsc),L.DomUtil.addClass(o,this._sortAsc?"asc":"desc"),this._sortBy=t,null!=this._sortByStoreKey&&(localStorage[this._sortByStoreKey]=this._sortBy),null!=this._sortAscStoreKey&&(localStorage[this._sortAscStoreKey]=this._sortAsc.toString()),this.sort()}),!1))}}renderFoot(){if(this._foot.textContent="",this._fields.every((e=>!e.foot)))return;const e=this._foot.insertRow(-1);for(const t of this._fields){const a=L.DomUtil.create("td",t.className,e);t.foot&&t.foot(a)}}sort(){const e=this._fields[this._sortBy];this._items.sort(((t,a)=>{const o=t.sortValues[this._sortBy],n=a.sortValues[this._sortBy];if(void 0===o&&null==n)return 0;if(null==o)return-1;if(null==n)return 1;let i=0;return"function"==typeof e.sort?i=e.sort(o,n,t.obj,a.obj):(o>n&&(i=1),n>o&&(i=-1)),0==i&&(i=t.index-a.index),this._sortAsc?i:-i}));for(const[e,t]of this._items.entries())t.index=e,this._body.appendChild(t.row)}}const gi=window.plugin.wasabee;function fi(){gi.skin={},gi.skin.defaultOperationColor=gi.static.defaultOperationColor,gi.skin.layerTypes=new Map(gi.static.layerTypes),gi.skin.linkStyle=gi.static.linkStyle,gi.skin.selfBlockStyle=gi.static.selfBlockStyle,gi.skin.backgroundLinkStyle=gi.static.backgroundLinkStyle,gi.skin.anchorTemplate=gi.static.anchorTemplate,gi.skin.strings=Object.assign({},gi.static.strings);for(const e of Object.getOwnPropertyNames(gi.static.CSS))Ei(e,gi.static.CSS[e]);bi(),wi()}function Ei(e,t){gi._css||(gi._css=[]),gi._css.includes(e)&&(document.getElementById("wasabee-css-"+e).remove(),gi._css.splice(gi._css.indexOf(e)));const a=L.DomUtil.create("style",null,document.head);a.textContent=t,a.id="wasabee-css-"+e,gi._css.push(e)}function _i(e){window.plugin.wasabeeSkins||(window.plugin.wasabeeSkins={}),0==e.length&&delete localStorage[gi.static.constants.SKIN_KEY],delete gi.skin,function(){for(const e of gi._css)document.getElementById("wasabee-css-"+e).remove();gi._css=[]}(),fi();const t=[];for(const a of e){if(!window.plugin.wasabeeSkins[a]||!window.plugin.wasabeeSkins[a].static)continue;t.push(a);const e=window.plugin.wasabeeSkins[a].static;if(e.strings)for(const t of Object.getOwnPropertyNames(e.strings))t==a&&(localStorage[gi.static.constants.LANGUAGE_KEY]=a),gi.skin.strings[t]=e.strings[t];for(const t of Object.getOwnPropertyNames(e.CSS))Ei(t,e.CSS[t]);if(e.defaultOperationColor&&(gi.skin.defaultOperationColor=e.defaultOperationColor),e.layerTypes)for(const[t,a]of e.layerTypes)gi.skin.layerTypes.set(t,a);e.linkStyle&&(gi.skin.linkStyle=e.linkStyle),e.selfBlockStyle&&(gi.skin.selfBlockStyle=e.selfBlockStyle),void 0!==e.anchorTemplate&&(gi.skin.anchorTemplate=e.anchorTemplate)}return bi(),wi(),localStorage[window.plugin.wasabee.static.constants.SKIN_KEY]=JSON.stringify(t),window.map.fire("wasabee:ui:skin"),!0}function wi(){const e=document.getElementById("wasabee-anchor-svg");e&&e.remove();const t=gi.skin.anchorTemplate;if(t){const e=L.DomUtil.create("div");e.innerHTML=t;const a=e.firstChild;a.id="wasabee-anchor-svg",document.body.appendChild(a)}}function bi(){const e=document.getElementById("wasabee-colors-datalist");e&&e.remove();const t=L.DomUtil.create("datalist",null,document.body);t.id="wasabee-colors-datalist";for(const e of gi.skin.layerTypes.values())L.DomUtil.create("option",null,t).value=e.color}function Ti(e){const t=document.getElementById("wasabee-colors-datalist");if(!t)return;for(const a of t.children)if(a.value==e)return void t.insertBefore(a,t.firstChild);const a=L.DomUtil.create("option");a.value=e,t.insertBefore(a,t.firstChild)}function Ai(e,t,a=!1){const o=L.DomUtil.create("div",null);o.appendChild(Je(t.getPortal(e.fromPortalId),a));const n=L.DomUtil.create("span","wasabee-link-seperator",o);n.style.color=ai(e.getColor(t)),ii("carret-right",n);const i=L.DomUtil.create("input","hidden-color-picker",n);return i.type="color",i.value=ai(e.getColor(t)),i.setAttribute("list","wasabee-colors-datalist"),i.disabled=!t.canWrite(),L.DomEvent.on(n,"click",(()=>{i.click()})),L.DomEvent.on(i,"change",(a=>{const o=a.target.value;e.setColor(o,t),Ti(o)})),o.appendChild(Je(t.getPortal(e.toPortalId),a)),o}const Li=Ht.extend({statics:{TYPE:"assignDialog"},needWritePermission:!0,options:{},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:function(){const e={};e[Re("OK")]=()=>{this.localAssign(this._currentAssign),this.closeDialog()};const t=this._buildContent();this.createDialog({title:this._name,html:t,width:"auto",dialogClass:"assign",buttons:e,id:window.plugin.wasabee.static.dialogNames.assign,autofocus:!0})},_buildContent:function(){const e=L.DomUtil.create("div","container"),t=this.options.target,a=Ke();this._currentAssign=null,this._targetID=t.ID;const o=L.DomUtil.create("div","desc",e),n=L.DomUtil.create("div","wasabee-agent-menu",e);if(t instanceof ee){const e=a.getPortal(t.fromPortalId);this._type="Link",this._name=Re("ASSIGN LINK PROMPT",{portalName:Qe(e)}),o.appendChild(Ai(t,a)),L.DomUtil.create("label",null,n).textContent=Re("LINK ASSIGNMENT"),this._currentAssign=t.assignedTo}if(t instanceof ie){const e=a.getPortal(t.portalId);this._type="Marker",this._name=Re("ASSIGN MARKER PROMPT",{portalName:Qe(e)}),o.appendChild(Je(e)),L.DomUtil.create("label",null,n).textContent=Re("MARKER ASSIGNMENT"),this._currentAssign=t.assignedTo}if(t instanceof se){const e=t;this._type="Anchor",this._name=Re("ASSIGN OUTBOUND PROMPT",{portalName:Qe(e)}),o.appendChild(Je(e)),L.DomUtil.create("label",null,n).textContent=Re("ANCHOR ASSIGNMENT");for(const t of a.getLinkListFromPortal(e))if(t.fromPortalId===e.id&&t.assignedTo){this._currentAssign=t.assignedTo;break}}const i=L.DomUtil.create("select",null,n),r=L.DomUtil.create("option",null,i);return r.value="",r.textContent=Re("UNASSIGNED"),L.DomEvent.on(i,"change",(e=>{this._currentAssign=e.target.value,this.localAssign(e.target.value)})),this._populateAgentSelect(i,this._currentAssign),e},_populateAgentSelect:async function(e,t){const a=new Array,o=await wt();for(const n of Ke().teamlist)if(0!=o.teamJoined(n.teamid))try{const o=await bt(n.teamid,300);for(const n of o.agents)if(!a.includes(n.id)){a.push(n.id);const o=L.DomUtil.create("option","",e);o.value=n.id,o.textContent=n.getName(),n.id==t&&(o.selected=!0)}}catch(e){console.error(e)}},localAssign:function(e){const t=Ke();if("Marker"==this._type&&t.assignMarker(this._targetID,e),"Link"==this._type&&t.assignLink(this._targetID,e),"Anchor"==this._type){const a=t.getLinkListFromPortal(this.options.target);for(const o of a)o.fromPortalId==this.options.target.id&&t.assignLink(o.ID,e)}}}),ki=Ht.extend({statics:{TYPE:"stateDialog"},needWritePermission:!0,options:{},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:function(){const e={};e[Re("OK")]=()=>{this.closeDialog()},this._buildContent(),this.createDialog({title:this._name,html:this._html,width:"auto",dialogClass:"state",buttons:e,id:window.plugin.wasabee.static.dialogNames.state,autofocus:!0})},_buildContent:function(){this._targetID=this.options.target.ID,this._html=L.DomUtil.create("div",null);const e=L.DomUtil.create("div","desc",this._html),t=this._getStateMenu(this.options.target),a=Ke();if(this.options.opID!=a.ID&&(console.log("operation changed between create/setup?!"),this.options.opID=a.ID),this.options.target instanceof ee){this._type="Link",this._name=Re("LINK STATE PROMPT"),e.appendChild(Ai(this.options.target,a));const o=L.DomUtil.create("label",null);o.textContent=Re("LINK STATE"),t.prepend(o)}if(this.options.target instanceof ie){const o=a.getPortal(this.options.target.portalId);this._type="Marker",this._name=Re("MARKER STATE PROMPT"),e.appendChild(Je(o));const n=L.DomUtil.create("label",null);n.textContent=Re("MARKER STATE"),t.prepend(n)}this._html.appendChild(t)},_getStateMenu:function(e){const t=L.DomUtil.create("div","wasabee-state-menu"),a=L.DomUtil.create("select",null,t),o=["pending","acknowledged","completed"];for(const t of o){const o=a.appendChild(L.DomUtil.create("option",null));o.value=t,o.textContent=Re(t),e.state==t&&(o.selected=!0)}return a.addEventListener("change",(e=>{this.setState(e)})),t},setState:function(e){const t=Ke();this.options.opID==t.ID?("Marker"==this._type&&t.setMarkerState(this._targetID,e.srcElement.value),"Link"==this._type&&t.setLinkState(this._targetID,e.srcElement.value)):console.log("operation changed -- bailing")}}),Si=Ht.extend({statics:{TYPE:"setCommentDialog"},needWritePermission:!0,options:{},initialize:function(e){Ht.prototype.initialize.call(this,e),this.options.target instanceof ee&&(this.commentType="link",this.dialogTitle=Re("SET_LCOMMENT"),this.portal=this.options.operation.getPortal(this.options.target.fmPortalId)),this.options.target instanceof ie&&(this.commentType="marker",this.portal=this.options.operation.getPortal(this.options.target.portalId),this.dialogTitle=Re("SET_MCOMMENT",{portalName:Qe(this.portal)})),this.options.target instanceof se&&(this.commentType="portal",this.dialogTitle=Re("SET_PCOMMENT",{portalName:Qe(this.options.target)}),this.portal=this.options.target),this.commentType||(console.log("comment dialog requested for unknown type"),console.log(this.options.target))},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:function(){const e={};e[Re("OK")]=()=>{this.closeDialog()},this.createDialog({title:this.dialogTitle,html:this._buildHtml(),width:"auto",dialogClass:"setcomment",buttons:e,id:window.plugin.wasabee.static.dialogNames.setComment,autofocus:!0})},_buildHtml:function(){const e=L.DomUtil.create("form","container");L.DomEvent.on(e,"submit",this.closeDialog,this);const t=L.DomUtil.create("div","desc",e),a=L.DomUtil.create("input",null,e);if(a.placeholder=Re("COMMENT"),"link"==this.commentType&&(t.textContent=Re("SET_LINK_COMMENT"),t.appendChild(Ai(this.options.target,this.options.operation)),this.options.target.comment&&(a.value=this.options.target.comment),a.addEventListener("change",(()=>{this.options.operation.setLinkComment(this.options.target,a.value)}),!1)),"marker"==this.commentType&&(t.textContent=Re("SET_MARKER_COMMENT"),t.appendChild(Je(this.portal)),this.options.target.comment&&(a.value=this.options.target.comment),a.addEventListener("change",(()=>{this.options.operation.setMarkerComment(this.options.target,a.value)}),!1)),"portal"==this.commentType){t.textContent=Re("SET_PORT_COMMENT"),t.appendChild(Je(this.portal)),this.portal.comment&&(a.value=this.portal.comment),a.addEventListener("change",(()=>{this.options.operation.setPortalComment(this.options.target,a.value)}),!1);const o=L.DomUtil.create("input",null,e);o.placeholder=Re("dialog.setcomment.portal_hardness"),this.portal.hardness&&(o.value=this.portal.hardness),o.addEventListener("change",(()=>{this.options.operation.setPortalHardness(this.options.target,o.value)}),!1)}return e}}),vi=Ht.extend({statics:{TYPE:"markerButton"},needWritePermission:!0,options:{},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:function(){const e=Ke(),t=L.DomUtil.create("div","content"),a=e.getPortal(this.options.marker.portalId);L.DomUtil.create("div","portal",t).appendChild(Je(a)),this._type=L.DomUtil.create("select",null,t);for(const e of ie.markerTypes){const t=L.DomUtil.create("option",null,this._type);t.value=e,t.textContent=Re(e)}this._type.value=this.options.marker.type;const o={};o[Re("OK")]=()=>{ie.markerTypes.has(this._type.value)&&(e.startBatchMode(),e.removeMarker(this.options.marker),e.addMarker(this._type.value,a,{zone:this.options.marker.zone,comment:this.options.marker.comment,assign:this.options.marker.assignedTo}),ie.isDestructMarkerType(this._type.value)&&j.removeBlocker(e,a.id),e.endBatchMode()),this.closeDialog()},o[Re("CANCEL")]=()=>{this.closeDialog()},this.createDialog({title:Re("SET_MARKER_TYPE_TITLE"),html:t,width:"auto",dialogClass:"markerchange",buttons:o,id:window.plugin.wasabee.static.dialogNames.markerButton,autofocus:!0})}});function Oi(){const e=Ke();e.startBatchMode();for(const t of e.markers){const a=e.getPortal(t.portalId).latLng,o=e.determineZone(a);e.setZone(t,o)}e.endBatchMode()}function Di(){const e=Ke();e.startBatchMode();for(const t of e.links){const a=e.getPortal(t.fromPortalId).latLng,o=e.determineZone(a);e.setZone(t,o)}e.endBatchMode()}let Ni=null;function Ci(e,t){if("and"===t.op)return t.list.every((t=>Ci(e,t)));if("or"===t.op)return t.list.some((t=>Ci(e,t)));if("not"===t.op)return!Ci(e,t.list[0]);if("kind"===t.op)return"link"===t.value?e instanceof ee:"marker"===t.value&&e instanceof ie;if("in"===t.op&&t.key){const a=t.value instanceof Array?t.value:[t.value];return t.key in e&&a.includes(e[t.key])}return"match"===t.op&&t.key?t.key in e&&"string"==typeof t.value&&"string"==typeof e[t.key]&&e[t.key].toLowerCase().includes(t.value.toLocaleLowerCase()):"=="===t.op&&t.key?t.key in e&&e[t.key]===t.value:"<="===t.op&&t.key?t.key in e&&e[t.key]<=t.value:!(">="!==t.op||!t.key)&&t.key in e&&e[t.key]>=t.value}function yi(e){return"and"===e.op||"or"===e.op?e.list instanceof Array&&e.list.every((e=>yi(e))):"not"===e.op?e.list instanceof Array&&1==e.list.length&&yi(e.list[0]):"kind"===e.op?"link"===e.value||"marker"===e.value:"in"===e.op?e.key&&e.value instanceof Array:"match"===e.op?e.key&&"string"==typeof e.value:"=="===e.op?!!e.key:("<="===e.op||">="===e.op)&&e.key&&"number"==typeof e.value}function Ri(e){try{return yi(e)}catch{return!1}}function Ii(e){return!Ni||Ci(e,Ni)}const Mi=Ht.extend({statics:{TYPE:"operationChecklist"},SORTBY_KEY:"wasabee-checklist-sortby",SORTASC_KEY:"wasabee-checklist-sortasc",options:{usePane:!0},addHooks:function(){Ht.prototype.addHooks.call(this),window.map.on("wasabee:op:select wasabee:op:change",this.update,this),window.map.on("wasabee:filter",this.update,this),window.addHook("portalAdded",tt),window.addHook("portalDetailsLoaded",at),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.map.off("wasabee:op:select wasabee:op:change",this.update,this),window.map.off("wasabee:filter",this.update,this),window.removeHook("portalAdded",tt),window.removeHook("portalDetailsLoaded",at)},_displayDialog:async function(){const e=Ke();it(e),this.sortable=this.getListDialogContent(e,e.links.concat(e.markers),this.SORTBY_KEY,this.SORTASC_KEY);const t={};t[Re("CLOSE")]=()=>{this.closeDialog()},t[Re("LOAD PORTALS")]=()=>{it(Ke(),!0)},t[Re("dialog.checklist.count_fields")]=()=>{this.countFields(Ke(),!0)},e.canWrite()&&(t[Re("SET_MARKERS_ZONES")]=()=>{Oi()},t[Re("SET_LINKS_ZONES")]=()=>{Di()}),await this.sortable.done,this.createDialog({title:Re("OP_CHECKLIST",{opName:e.name}),html:this.sortable.table,width:"auto",dialogClass:"ui-resizable wasabee-dialog wasabee-dialog-checklist",buttons:t,id:window.plugin.wasabee.static.dialogNames.operationChecklist})},update:async function(){if(!this.sortable)return;const e=Ke();this.setTitle(Re("OP_CHECKLIST",{opName:e.name})),this.sortable=this.getListDialogContent(e,e.links.concat(e.markers),this.SORTBY_KEY,this.SORTASC_KEY),await this.sortable.done,this.setContent(this.sortable.table)},getFields:function(e){const t=e.canWrite(),a=[{name:this._smallScreen?"#":Re("ORDER"),className:"order",value:e=>e.order,format:(a,o,n)=>{const i=L.DomUtil.create("input");i.value=o,i.disabled=!t,i.type="number",i.step=1,L.DomEvent.on(i,"change",(t=>{L.DomEvent.stop(t),i.value=parseInt(i.value,10),n instanceof ee?e.setLinkOrder(n.ID,+i.value):e.setMarkerOrder(n.ID,+i.value)})),a.appendChild(i)}},{name:Re("PORTAL"),value:t=>e.getPortal(t.portalId).name,sort:(e,t)=>e.localeCompare(t),format:(t,a,o)=>{o instanceof ee?(t.appendChild(Ai(o,e)),t.colSpan=2):t.appendChild(Je(e.getPortal(o.portalId)))}},{name:Re("TYPE"),value:t=>t instanceof ee?e.getPortal(t.toPortalId).name:Re(t.type),sort:(e,t)=>e.localeCompare(t),format:(e,a,o)=>{const n=L.DomUtil.create("span",null,e);o.type&&L.DomUtil.addClass(n,o.type),n.textContent=a,o instanceof ee?e.style.display="none":o instanceof ie&&t&&L.DomEvent.on(e,"click",(e=>{L.DomEvent.stop(e),new vi({marker:o}).enable()}))}},{name:Re("ZONE"),value:e=>e.zone,sort:(e,t)=>e-t,format:(a,o,n)=>{const i=L.DomUtil.create("select",null,a);for(const t of e.zones){const e=L.DomUtil.create("option",null,i);e.textContent=t.name,e.value=t.id,t.id==n.zone&&(e.selected=!0)}i.disabled=!t,L.DomEvent.on(i,"change",(t=>{L.DomEvent.stop(t),e.setZone(n,i.value)}))},smallScreenHide:!0},{name:Re("COMMENT"),value:e=>e.comment,sort:(e,t)=>e.localeCompare(t),format:(a,o,n)=>{o||(o=". . ."),L.DomUtil.create("a",null,a).textContent=o,t&&L.DomEvent.on(a,"click",(t=>{L.DomEvent.stop(t),new Si({target:n,operation:e}).enable()}))},smallScreenHide:!0},{name:Re("ASS_TO"),value:async e=>{if(null!=e.assignedTo&&""!=e.assignedTo){const t=await _t(e.assignedTo);return null!=t?t.getName():"GID: ["+e.assignedTo+"]"}return". . ."},sort:(e,t)=>e.localeCompare(t),format:(t,a,o)=>{L.DomUtil.create("a",null,t).textContent=a,e.canWriteServer()&&L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),new Li({target:o}).enable()}))},smallScreenHide:!0},{name:Re("STATE"),value:e=>e.state,sort:(e,t)=>e.localeCompare(t),format:(a,o,n)=>{const i=L.DomUtil.create("a",null,a);i.href="#",i.textContent=Re(o),t&&L.DomEvent.on(a,"click",(t=>{L.DomEvent.stop(t),new ki({target:n,opID:e.ID}).enable()}))},smallScreenHide:!0}];return t&&a.push({name:this._smallScreen?Re("dialog.common.commands_short"):Re("dialog.common.commands"),className:"actions",value:e=>typeof e,format:(t,a,o)=>{if(o instanceof ee){const a=L.DomUtil.create("a",null,t);a.href="#",a.title=Re("REVERSE"),ii("left-right",a),L.DomEvent.on(a,"click",(t=>{L.DomEvent.stop(t),e.reverseLink(o.fromPortalId,o.toPortalId)}));const n=L.DomUtil.create("a",null,t);n.href="#",n.title=Re("dialog.common.delete"),ii("trash",n),L.DomEvent.on(n,"click",(t=>{L.DomEvent.stop(t),e.removeLink(o.fromPortalId,o.toPortalId)}))}else{const a=L.DomUtil.create("a",null,t);a.href="#",a.title=Re("dialog.common.delete"),ii("trash",a),L.DomEvent.on(a,"click",(t=>{L.DomEvent.stop(t),e.removeMarker(o)}))}}}),a},getListDialogContent:function(e,t,a,o){const n=new hi;return n.fields=this.getFields(e),n.sortByStoreKey=a,n.sortAscStoreKey=o,n.items=t.filter(Ii),n},countFields:function(e,t){const{fieldCount:a,emptyCount:o,emptyFieldLinks:n,linksFromInner:i,coveredPortals:r}=e.getOrderInfo();if(t){const t=L.DomUtil.create("div","field-count");if(n.length){L.DomUtil.create("div",null,t).textContent=Re("dialog.checklist.count_fields.with_empty",{fieldCount:a,emptyCount:o,linkCount:n.length});const i=L.DomUtil.create("ul",null,t);for(const[t,a]of n){const o=L.DomUtil.create("li","empty-field-link",i);o.textContent=a,o.appendChild(Ai(t,e))}}else L.DomUtil.create("div",null,t).textContent=Re("dialog.checklist.count_fields.no_empty",{fieldCount:a});if(i.length){L.DomUtil.create("div",null,t).textContent=Re("dialog.checklist.count_fields.link_from_inside",{count:i.length});const a=L.DomUtil.create("ul",null,t);for(const t of i){const o=r.get(t.fromPortalId),n=L.DomUtil.create("li","inner-link",a);n.append(`${t.order}: `),n.appendChild(Ai(t,e)),n.append(Re("dialog.checklist.count_fields.link_from_inside.covered_at_order",{order:o.order})),n.appendChild(Ai(o,e))}}n.length||i.length?Me(t,!0):Ie(t,!0)}}}),Pi=Mi.extend({statics:{TYPE:"linkListDialog"},SORTBY_KEY:"wasabee-linklist-sortby",SORTASC_KEY:"wasabee-linklist-sortasc",options:{usePane:!0},getFields:function(e){const t=Mi.prototype.getFields.call(this,e);t[2].name="";const a=[{name:Re("dialog.link_list.length"),value:t=>t.length(e),format:(e,t)=>{e.classList.add("length"),e.textContent=t>1e3?(t/1e3).toFixed(1)+"km":t.toFixed(1)+"m"},smallScreenHide:!0},{name:Re("dialog.link_list.level"),title:Re("MIN_SRC_PORT_LVL"),value:t=>t.length(e),format:(t,a,o)=>{t.appendChild(function(e,t){const a=e.length(t);let o=Re("UNKNOWN");const n=L.DomUtil.create("span",null);if(a>6881280)o=Re("IMPOSSIBLE");else if(a>1966080)o=Re("VRLA"),n.title=Re("VRLA DESC"),n.classList.add("help");else if(a>655360)o=Re("LA"),n.title=Re("LA DESC"),n.classList.add("help");else{const e=Math.max(1,Math.ceil(8*Math.pow(a/160,.25))/8),t=8*(e-Math.floor(e));o="L"+e,0!=t&&(1&t||(o+=""),1&t||2&t||(o+=""),o=o+" = L"+Math.floor(e)+"0".charAt(t))}return n.textContent=o,n}(o,e))},smallScreenHide:!0}];return t.slice(0,3).concat(a,t.slice(3))},_displayDialog:async function(){const e=Ke();it(e);const t=e.getLinkListFromPortal(this.options.portal),a=t.filter((e=>e.fromPortalId==this.options.portal.id)).length,o=t.length-a;this.sortable=this.getListDialogContent(e,t,this.SORTBY_KEY,this.SORTASC_KEY);const n={};n[Re("CLOSE")]=()=>{this.closeDialog()},n[Re("dialog.link_list.all_from")]=()=>{this._setAllLinksDirection(!0)},n[Re("dialog.link_list.all_to")]=()=>{this._setAllLinksDirection(!1)},await this.sortable.done,this.createDialog({title:Re("LINKS2",{portalName:Qe(this.options.portal),outgoing:a,incoming:o}),html:this.sortable.table,width:"auto",dialogClass:"checklist",buttons:n,id:window.plugin.wasabee.static.dialogNames.linkList})},update:async function(){if(!this.sortable)return;const e=Ke(),t=e.getLinkListFromPortal(this.options.portal),a=t.filter((e=>e.fromPortalId==this.options.portal.id)).length,o=t.length-a;this.sortable=this.getListDialogContent(e,t,this.SORTBY_KEY,this.SORTASC_KEY),await this.sortable.done,this.setContent(this.sortable.table),this.setTitle(Re("LINKS2",{portalName:Qe(this.options.portal),outgoing:a,incoming:o}))},_setAllLinksDirection(e){const t=Ke();t.startBatchMode();const a=t.getLinkListFromPortal(this.options.portal);for(const o of a)e&&o.toPortalId===this.options.portal.id&&t.reverseLink(o),e||o.fromPortalId!==this.options.portal.id||t.reverseLink(o);t.endBatchMode()}}),xi=Pi,Ui=Ht.extend({statics:{TYPE:"sendTargetDialog"},options:{},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:function(){const e={};e[Re("OK")]=()=>{this._sendTarget()},this._html=L.DomUtil.create("div",null),this._setup(),this.createDialog({title:Re("SEND TARGET AGENT"),html:this._html,width:"auto",dialogClass:"sendtarget",buttons:e,id:window.plugin.wasabee.static.dialogNames.assign,autofocus:!0})},_setup:async function(){const e=L.DomUtil.create("div","desc",this._html),t=await this._getAgentMenu(this.options.target.assignedTo);this._targettype="ad hoc target";const a=Ke();if(this.options.target instanceof ie){this._portal=a.getPortal(this.options.target.portalId),this._targettype=this.options.target.type,e.appendChild(Je(this._portal));const o=L.DomUtil.create("label",null);o.textContent=Re("SEND TARGET AGENT"),t.prepend(o)}if(this.options.target instanceof se){this._portal=this.options.target,this._targettype="anchor",e.appendChild(Je(this._portal));const a=L.DomUtil.create("label",null);a.textContent=Re("SEND TARGET AGENT"),t.prepend(a)}this._html.appendChild(t)},_buildContent:function(){const e=L.DomUtil.create("div");return"string"==typeof this._label?e.textContent=this._label:e.appendChild(this._label),e},_getAgentMenu:async function(e){const t=L.DomUtil.create("div","wasabee-agent-menu"),a=L.DomUtil.create("select",null,t);let o=a.appendChild(L.DomUtil.create("option",null));o.value="",o.textContent=Re("UNASSIGNED");const n=new Array,i=Ke();a.addEventListener("change",(()=>{this._value=a.value}));const r=await wt();for(const t of i.teamlist)if(0!=r.teamJoined(t.teamid))try{const i=await bt(t.teamid,300);for(const t of i.agents)n.includes(t.id)||(n.push(t.id),o=L.DomUtil.create("option"),o.value=t.id,o.textContent=t.getName(),t.id==e&&(o.selected=!0),a.appendChild(o))}catch(e){console.error(e)}return t},_sendTarget:function(){this._value&&this._portal?Ct(this._value,this._portal,this._targettype).then((()=>{Ie(Re("TARGET SENT")),this.closeDialog()})).catch((e=>Pe(e))):this.closeDialog()}}),Bi=L.Marker.extend({type:"portal",initialize:function(e){const t=Ke().getPortal(e.portalId);e.title=t.name,L.Marker.prototype.initialize.call(this,t.latLng,e),this.bindPopup((e=>e._popupContent()),{className:"wasabee-popup",closeButton:!1}),this.off("click",this._openPopup),window.registerMarkerForOMS(this),this.on("spiderfiedclick",this._openPopup),this.on("spiderfiedclick",this._onClick)},_onClick:function(){const e=Ke().getPortal(this.options.portalId);e&&window.map.fire("wasabee:portal:click",{portal:e})},_popupContent:function(){return L.DomUtil.create("div",`wasabee-${this.type}-popup`)},_popupPortalComments:function(e,t,a){const o=L.DomUtil.create("div","wasabee-portal-comment",e),n=L.DomUtil.create("a",null,o);if(n.textContent=t.comment||Re("SET_PORTAL_COMMENT"),a&&(n.href="#",L.DomEvent.on(n,"click",this._setPortalComment,this)),t.hardness){const o=L.DomUtil.create("div","wasabee-portal-hardness",e),n=L.DomUtil.create("a",null,o);n.textContent=t.hardness,a&&(n.href="#",L.DomEvent.on(n,"click",this._setPortalComment,this))}},_setPortalComment:function(e){L.DomEvent.stop(e);const t=Ke(),a=t.getPortal(this.options.portalId);new Si({target:a,operation:t}).enable(),this.closePopup()},_assignButton:function(e,t,a){const o=L.DomUtil.create("button",null,e);o.textContent=t,L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),new Li({target:a}).enable(),this.closePopup()}))},_deleteButton:function(e,t){const a=L.DomUtil.create("button",null,e);a.textContent=t,L.DomEvent.on(a,"click",(e=>{L.DomEvent.stop(e),this._deleteAction&&this._deleteAction(),this.closePopup()}))},_sendTargetButton:function(e,t,a){const o=L.DomUtil.create("button",null,e);o.textContent=t,L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),new Ui({target:a}).enable(),this.closePopup()}))},_mapButton:function(e,t){const a=L.DomUtil.create("button",null,e);a.textContent=t,L.DomEvent.on(a,"click",(e=>{L.DomEvent.stop(e),this.closePopup();const t=this.getLatLng();void 0!==window.android&&window.android&&window.android.intentPosLink?window.android.intentPosLink(+t.lat,+t.lng,window.map.getZoom(),this.options.title,!0):window.open("https://www.google.com/maps/search/?api=1&query="+t.lat+","+t.lng)}))}}),Ki=Bi.extend({type:"anchor",initialize:function(e,t,a="main"){"main"===a&&(a=t.color);const o=L.divIcon({className:"wasabee-anchor-icon",shadowUrl:null,iconAnchor:[12,41],iconSize:[25,41],popupAnchor:[0,-35],html:L.Util.template('<svg style="fill: {color}"><use href="#wasabee-anchor-icon"/></svg>',{color:"main"===a?window.plugin.wasabee.skin.defaultOperationColor:a})});Bi.prototype.initialize.call(this,{portalId:e,id:e,icon:o,color:a})},_popupContent:function(){const e=Ke(),t=e.canWrite(),a=e.getPortal(this.options.portalId),o=Bi.prototype._popupContent.call(this),n=L.DomUtil.create("div","desc",o);n.appendChild(Je(a)),this._popupPortalComments(n,a,t);const i=L.DomUtil.create("div","info-block",o),r=L.DomUtil.create("div","key-required",i),s=e.KeysOnHandForPortal(a.id);let l=0;const c={};for(const t of e.links){if(!Ii(t))continue;const e=t.assignedTo||"[unassigned]";t.toPortalId==this.options.portalId&&(t.completed||(c[e]=(c[e]||0)+1,l++))}if(r.textContent=Re("popup.anchor.keys",{onHand:s,required:l}),s<l&&r.classList.add("key-missing"),re.isLoggedIn()){const t=c[re.localGet().id]||0,o=L.DomUtil.create("div","key-required-self",i),n=e.KeysOnHandForPortal(a.id,re.localGet().id);o.textContent=Re("popup.anchor.keys_mycount",{myCount:n,required:t}),n<t&&o.classList.add("key-missing");const d=e.keysOnHandForPortalPerAgent(a.id);if(s>=l)for(const e in c)if(!d[e]||d[e]<c[e]){r.classList.add("key-missing");break}}const d=L.DomUtil.create("div","wasabee-anchor-buttonset",o);return this._linksButton(d),t&&(this._swapButton(d),this._dupButton(d),this._deleteButton(d,Re("DELETE_ANCHOR"))),this._mapButton(d,Re("ANCHOR_GMAP")),e.canWriteServer()&&this._assignButton(d,Re("ASSIGN OUTBOUND"),a),e.isOnCurrentServer()&&this._sendTargetButton(d,Re("SEND TARGET"),a),o},_linksButton:function(e){const t=Ke().getPortal(this.options.portalId),a=L.DomUtil.create("button",null,e);a.textContent=Re("LINKS"),L.DomEvent.on(a,"click",(e=>{L.DomEvent.stop(e),new xi({portal:t}).enable(),this.closePopup()}))},_swapButton:function(e){const t=Ke(),a=t.getPortal(this.options.portalId),o=L.DomUtil.create("button","swap",e);o.textContent=Re("SWAP"),L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),function(e,t){const a=$e();if(!a)return void Pe(Re("SELECT PORTAL"));if(t.id===a.id)return void Pe(Re("SELF SWAP"));const o=L.DomUtil.create("div",null);o.textContent=Re("SWAP PROMPT"),o.appendChild(Je(t)),L.DomUtil.create("span",null,o).textContent=Re("SWAP WITH"),o.appendChild(Je(a)),L.DomUtil.create("span",null,o).textContent="?",new ci({title:Re("SWAP TITLE"),label:o,type:"anchor",callback:()=>{e.swapPortal(t,a)}}).enable()}(t,a),this.closePopup()}))},_dupButton:function(e){const t=Ke(),a=t.getPortal(this.options.portalId),o=L.DomUtil.create("button","duplicate",e);o.textContent=Re("popup.anchor.duplicate"),L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),function(e,t){const a=$e();a?t.id!==a.id&&e.duplicateAnchor(t,a):Pe(Re("SELECT PORTAL"))}(t,a),this.closePopup()}))},_deleteAction:function(){const e=Ke(),t=e.getPortal(this.options.portalId);!function(e,t){const a=L.DomUtil.create("div",null);a.textContent=Re("DELETE ANCHOR PROMPT"),a.appendChild(Je(t)),new ci({title:Re("DELETE ANCHOR TITLE"),label:a,type:"anchor",callback:()=>{e.removeAnchor(t.id)}}).enable()}(e,t)}}),Gi=L.GeodesicPolyline.extend({initialize:function(e,t){const a=e.getLatLngs(t);let o=e.getColor(t);"main"==o&&(o=window.plugin.wasabee.skin.defaultOperationColor),o=ai(o);const n=L.extend({color:o,opID:t.ID,linkID:e.ID},window.plugin.wasabee.skin.linkStyle);e.assignedTo&&(n.dashArray=n.assignedDashArray),L.GeodesicPolyline.prototype.initialize.call(this,a,n),this._wlink=e,this.bindPopup((e=>e._getPopup()),{className:"wasabee-popup",closeButton:!1})},_getPopup:function(){const e=Ke(),t=this._wlink,a=L.DomUtil.create("div","wasabee-link-popup");L.DomUtil.create("div",null,a).appendChild(Ai(t,e)),t.comment&&(L.DomUtil.create("div","enl",a).textContent=t.comment);const o=L.DomUtil.create("div","info-block",a);L.DomUtil.create("div","link-order",o).textContent="#"+t.order;const n=t.length(e);L.DomUtil.create("div","link-length",o).textContent=n>1e3?(n/1e3).toFixed(1)+"km":n.toFixed(1)+"m";const i=L.DomUtil.create("div","buttonset",a);if(e.canWrite()){const a=L.DomUtil.create("button",null,i);a.textContent=Re("DELETE_LINK"),L.DomEvent.on(a,"click",(a=>{L.DomEvent.stop(a),e.removeLink(t.fromPortalId,t.toPortalId)}));const o=L.DomUtil.create("button",null,i);o.textContent=Re("REVERSE"),L.DomEvent.on(o,"click",(a=>{L.DomEvent.stop(a),e.reverseLink(t.fromPortalId,t.toPortalId)}))}if(e.canWriteServer()){const e=L.DomUtil.create("button",null,i);e.textContent=Re("ASSIGN"),L.DomEvent.on(e,"click",(e=>{L.DomEvent.stop(e),new Li({target:t}).enable()}))}return a}}),Hi=Bi.extend({type:"marker",initialize:function(e){Bi.prototype.initialize.call(this,{portalId:e.portalId,id:e.ID,state:e.state,icon:L.divIcon({className:`wasabee-marker-icon ${e.type} wasabee-status-${e.state}`,shadowUrl:null,iconSize:L.point(24,40),iconAnchor:L.point(12,40),popupAnchor:L.point(-1,-48)})})},setState:function(e){e!=this.options.state&&(L.DomUtil.removeClass(this._icon,`wasabee-status-${this.options.state}`),L.DomUtil.addClass(this._icon,`wasabee-status-${e}`),this.options.state=e)},_popupContent:function(){const e=Ke(),t=e.getMarker(this.options.id),a=e.getPortal(t.portalId);if(null==a)return console.log("null portal getting marker popup"),L.DomUtil.create("div","wasabee-marker-popup").textContent="invalid portal";const o=e.canWrite(),n=Bi.prototype._popupContent.call(this),i=L.DomUtil.create("div","desc",n),r=L.DomUtil.create("span",`wasabee-marker-popup-kind ${t.type}`,i);r.textContent=Re(t.type),i.appendChild(Je(a)),o&&(r.href="#",L.DomEvent.on(r,"click",this._setMarkerType,this)),this._popupMarkerComment(i,t,o),this._popupPortalComments(i,a,o),this._popupAssignState(n,t);const s=L.DomUtil.create("div","wasabee-marker-buttonset",n);return o&&this._deleteButton(s,Re("DELETE_ANCHOR")),e.canWriteServer()&&this._assignButton(s,Re("ASSIGN"),t),o&&this._stateButton(s,t),o&&this._swapButton(s,t),e.isOnCurrentServer()&&this._sendTargetButton(s,Re("SEND TARGET"),t),this._mapButton(s,Re("ANCHOR_GMAP")),n},_popupMarkerComment:function(e,t,a){const o=L.DomUtil.create("div","wasabee-marker-popup-comment",e);o.textContent=t.comment||Re("SET_COMMENT"),a&&L.DomEvent.on(o,"click",this._setComment,this)},_popupAssignState:async function(e,t){const a=L.DomUtil.create("div","wasabee-popup-assignment",e);if("completed"!=t.state&&t.assignedTo)try{const e=await _t(t.assignedTo);a.textContent=Re("ASS_TO"),e?a.appendChild(si(e)):a.textContent+=" "+t.assignedTo}catch(e){console.error(e)}},_stateButton:function(e,t){const a=Ke(),o=L.DomUtil.create("button",null,e);o.textContent=Re("popup.marker.state_button"),L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),new ki({target:t,opID:a.ID}).enable(),this.closePopup()}))},_swapButton:function(e,t){const a=Ke(),o=L.DomUtil.create("button",null,e);o.textContent=Re("SWAP"),L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),function(e,t){const a=$e();if(!a)return void Pe(Re("SELECT PORTAL"));if(t.portalId===a.id)return void Pe(Re("SELF SWAP"));const o=e.getPortal(t.portalId),n=L.DomUtil.create("div",null);n.textContent=Re("swap.marker.prompt"),n.appendChild(Je(o)),L.DomUtil.create("span",null,n).textContent=Re("SWAP WITH"),n.appendChild(Je(a)),L.DomUtil.create("span",null,n).textContent="?",new ci({title:Re("swap.marker.title"),label:n,type:"anchor",callback:()=>{e.startBatchMode(),e.removeMarker(t),e.addMarker(t.type,a,{zone:t.zone,comment:t.comment,assign:t.assignedTo}),ie.isDestructMarkerType(t.type)&&j.removeBlocker(e,o.id),e.endBatchMode()}}).enable()}(a,t),this.closePopup()}))},_deleteAction:function(){const e=Ke(),t=e.getPortal(this.options.portalId),a=e.getMarker(this.options.id);!function(e,t,a){const o=L.DomUtil.create("div",null);o.textContent=Re("DELETE MARKER PROMPT"),o.appendChild(Je(a)),new ci({title:Re("DELETE MARKER TITLE"),label:o,type:"marker",callback:()=>{e.removeMarker(t),window.map.fire("wasabee:crosslinks")}}).enable()}(e,a,t)},_setComment:function(e){L.DomEvent.stop(e);const t=Ke(),a=t.getMarker(this.options.id);new Si({target:a,operation:t}).enable(),this.closePopup()},_setMarkerType:function(e){L.DomEvent.stop(e);const t=Ke().getMarker(this.options.id);new vi({marker:t}).enable(),this.closePopup()}}),zi={stroke:!1,opacity:.7,fill:!0},Fi=L.FeatureGroup.extend({initialize:function(e){e.points.sort(((e,t)=>e.position-t.position));const t=[];if(1==e.points.length)t.push(L.marker(e.points[0],{icon:new L.DivIcon.ColoredSvg(e.color),title:e.name}));else if(2==e.points.length)t.push(L.polyline(e.points,{color:e.color}));else if(e.points.length>2){const a=L.polygon(e.points,{color:e.color,shapeOptions:zi});a.bindTooltip(e.name,{className:"ui-tooltip wasabee-zone-tooltip",sticky:!0}),t.push(a)}L.FeatureGroup.prototype.initialize.call(this,t)},onAdd(e){L.FeatureGroup.prototype.onAdd.call(this,e),this.bringToBack()}}),Wi=window.plugin.wasabee;function Yi(){const e=Ke();!function(e){if(!1===window.isLayerGroupDisplayed("Wasabee Draw Portals"))return;if(!e.anchors||0==e.anchors.length)return void Wi.portalLayerGroup.clearLayers();const t=new Set,a=new Map;for(const o of e.links){if(!Ii(o))continue;t.add(o.fromPortalId),t.add(o.toPortalId);const n=o.fromPortalId,i=a.get(n)||[],r=ai("main"===o.color?"main"===e.color?Wi.skin.defaultOperationColor:e.color:o.color);i.push(r),a.set(n,i)}const o=new Map;for(const e of Wi.portalLayerGroup.getLayers()){const t=a.get(e.options.portalId),n=t?oi(t):"main";e.options.color!=n?Wi.portalLayerGroup.removeLayer(e._leaflet_id):o.set(e.options.id,e._leaflet_id)}for(const n of t)if(o.has(n))o.delete(n);else{const t=a.get(n),o=t?oi(t):"main";new Ki(n,e,o).addTo(Wi.portalLayerGroup)}for(const e of o.values())Wi.portalLayerGroup.removeLayer(e)}(e),function(e){if(!1===window.isLayerGroupDisplayed("Wasabee Draw Markers"))return;if(!e.markers||0==e.markers.length)return void Wi.markerLayerGroup.clearLayers();const t=new Map;for(const e of Wi.markerLayerGroup.getLayers())t.set(e.options.id,e._leaflet_id);for(const a of e.markers)Ii(a)&&(t.has(a.ID)?(Wi.markerLayerGroup.getLayer(t.get(a.ID)).setState(a.state),t.delete(a.ID)):new Hi(a).addTo(Wi.markerLayerGroup));for(const e of t.values())Wi.markerLayerGroup.removeLayer(e)}(e),function(e){if(!1!==window.isLayerGroupDisplayed("Wasabee Draw Links")&&(Wi.linkLayerGroup.clearLayers(),e.links&&0!=e.links.length))for(const t of e.links)Ii(t)&&new Gi(t,e).addTo(Wi.linkLayerGroup)}(e),function(e){if(Wi.zoneLayerGroup.clearLayers(),e.zones&&0!=e.zones.length){for(const t of e.zones)new Fi(t).addTo(Wi.zoneLayerGroup);Wi.zoneLayerGroup.bringToBack()}}(e)}async function Zi(e){if(!1===window.isLayerGroupDisplayed("Wasabee Background Ops"))return;Wi.backgroundOpsGroup.clearLayers();const t=Ke().ID;void 0===e&&(e=await Ye());for(const a of e){if(a===t)continue;const e=await Se.load(a);e.background&&qi(e)}}function qi(e,t,a){if(e&&e.links&&0!=e.links.length){t||(t=Wi.backgroundOpsGroup),a||(a=Wi.skin.backgroundLinkStyle);for(const o of e.links){const n=o.getLatLngs(e);n&&new L.GeodesicPolyline(n,a).addTo(t)}}}async function Vi(){if(!1===window.isLayerGroupDisplayed("Wasabee Agents"))return;if(!re.isLoggedIn())return;const e=ji();let t=[];const a=await wt();for(const o of a.Teams){const a=await Qi(o.ID,e,t);t=t.concat(a)}for(const a of t)e.delete(a);for(const[t,a]of e)console.debug("removing stale agent",t),Wi.agentLayerGroup.removeLayer(a)}function ji(){const e=new Map;for(const t of Wi.agentLayerGroup.getLayers())e.set(t.options.id,Wi.agentLayerGroup.getLayerId(t));return e}async function Qi(e,t,a){const o=[];if(!1===window.isLayerGroupDisplayed("Wasabee Agents"))return o;void 0===a&&(a=[]),void 0===t&&(t=ji());try{const n=await bt(e,15);if(null==n)return o;for(const e of n.agents)!a.includes(e.id)&&Ji(e,t)&&o.push(e.id)}catch(e){console.error(e)}return o}function Ji(e,t=ji()){if(!e.id||!e.lat&&!e.lng)return!1;if(t.has(e.id)){const a=t.get(e.id),o=Wi.agentLayerGroup.getLayer(a),n=o.getLatLng();e.lat==n.lat&&e.lng==n.lng||o.setLatLng(e.latLng)}else{const a=new mi(e);a.addTo(Wi.agentLayerGroup),t.set(e.id,Wi.agentLayerGroup.getLayerId(a))}return!0}function Xi(){const e=Ke(),t=[];for(const a of e.opportals)a.id in window.portals||t.push([a.id,-1,["p","N",Math.trunc(1e6*+a.lat),Math.trunc(1e6*+a.lng)]]);window.mapDataRequest.render.processGameEntities(t,"core"),window.removeHook("mapDataEntityInject",Xi)}function $i(){const e=Ke();for(const t of e.opportals)window.mapDataRequest.render.seenPortalsGuid[t.id]=!0}class er{constructor(){this.anchor1=null,this.anchor2=null}getName(){return Re("toolbar.quick_draw.mode.multilayer")}onPortalClick(e,t,a){this.anchor1?this.anchor2?this.anchor1.id!==t.id&&this.anchor2.id!==t.id&&(e.startBatchMode(),e.addLink(t,this.anchor1,{order:e.nextOrder,color:a.color}),e.addLink(t,this.anchor2,{order:e.nextOrder,color:a.color}),e.endBatchMode()):this.anchor1.id!==t.id&&(e.addLink(t,this.anchor1,{description:Re("QDBASE"),order:e.nextOrder,color:a.color}),this.anchor2=t,localStorage[D.ANCHOR_TWO_KEY]=JSON.stringify(this.anchor2)):(this.anchor1=t,localStorage[D.ANCHOR_ONE_KEY]=JSON.stringify(this.anchor1))}getGuides(e){return this.anchor1?this.anchor2?[[this.anchor1.latLng,e],[this.anchor2.latLng,e]]:[[this.anchor1.latLng,e]]:[]}getTooltip(){return this.anchor1?this.anchor2?Re("QDCONT"):Re("QDNEXT"):Re("QDSTART")}}class tr{constructor(){this.prev=null}getName(){return Re("toolbar.quick_draw.mode.singlelink")}onPortalClick(e,t,a){this.prev&&this.prev.id!==t.id&&e.addLink(t,this.prev,{order:e.nextOrder,color:a.color}),this.prev=t}getGuides(e){return this.prev?[[this.prev.latLng,e]]:[]}getTooltip(){return this.prev?Re("toolbar.quick_draw.tooltip.single_mode.next"):Re("toolbar.quick_draw.tooltip.single_mode.first")}}class ar{constructor(){this.anchor=null}getName(){return Re("toolbar.quick_draw.mode.starburst")}onPortalClick(e,t,a){this.anchor?this.anchor.id!==t.id&&e.addLink(t,this.anchor,{order:e.nextOrder,color:a.color}):this.anchor=t}getGuides(e){return this.anchor?[[this.anchor.latLng,e]]:[]}getTooltip(){return this.anchor?Re("toolbar.quick_draw.tooltip.star_mode.portal"):Re("toolbar.quick_draw.tooltip.star_mode.anchor")}}class or{constructor(e){this.anchor=null,this.op=e}getName(){return Re("toolbar.quick_draw.mode.burst")}getCandidates(e,t){const a=[];if(2==e.anchors.length)a.push(e.getPortal(e.anchors[0])),a.push(e.getPortal(e.anchors[1]));else for(const o of e.anchors){const n=e.getPortal(o);e.links.every((a=>!Ae([t,n.latLng],a.getLatLngs(e))))&&a.push(n)}return a}onPortalClick(e,t,a){if(0==e.anchors.length)this.anchor?(e.addLink(t,this.anchor,{order:e.nextOrder,color:a.color}),this.anchor=null):this.anchor=t;else{const o=this.getCandidates(e,t.latLng).map((e=>[window.map.distance(t.latLng,e.latLng),e]));o.sort(((e,t)=>t[0]-e[0])),e.startBatchMode();for(const[,n]of o)e.addLink(t,n,{order:e.nextOrder,color:a.color});e.endBatchMode()}}getGuides(e){return 0==this.op.anchors.length&&this.anchor?[[e,this.anchor.latLng]]:this.getCandidates(this.op,e).map((t=>[e,t.latLng]))}getTooltip(){return Re("toolbar.quick_draw.tooltip.burst.portal")}}class nr extends Ft{constructor(e){super(e),this.needWritePermission=!0,this.title=Re("QD TITLE"),this.handler=new ir({button:this}),this._container=e,this.type=nr.TYPE,this.button=this._createButton({title:this.title,container:e,className:"wasabee-toolbar-quickdraw",callback:this.handler.enable,context:this.handler}),this.picker=L.DomUtil.create("input","hidden-color-picker"),this.picker.type="color",this.picker.value="#000000",this.picker.setAttribute("list","wasabee-colors-datalist"),L.DomEvent.on(this.picker,"change",(e=>{this.handler._nextDrawnLinksColor=e.target.value})),this.setSubActions(this.getSubActions()),window.map.on("wasabee:ui:skin wasabee:ui:lang",(()=>{this.button.title=Re("QD TITLE"),this.setSubActions(this.getSubActions()),this.handler.updateTooltip()})),this.update()}getSubActions(){const e={title:Re("QD BUTTON CHANGE COLOR"),text:Re("QD CHANGE COLOR"),html:this.picker,callback:()=>{this.picker.click()},context:null};return[{title:Re("QD BUTTON TOGGLE MODE"),text:Re("toolbar.quick_draw.toggle.text",{mode:this.handler.getMode().getName()}),callback:()=>{this.handler._toggleMode()},context:null},e,{title:Re("QD BUTTON END"),text:Re("QD END"),callback:this.handler.disable,context:this.handler}]}enable(){Ft.prototype.enable.call(this),this.button.classList.add("active")}disable(){Ft.prototype.disable.call(this),this.handler.enabled()&&this.handler.disable.call(this.handler),this.button.classList.remove("active")}}nr.TYPE="QuickdrawButton";class ir extends L.Handler{constructor(e){super(window.map),L.setOptions(this,e),this._modes=[er,tr,ar,or]}enable(){return this.enabled()?(this.disable(),this):(super.enable(),this.options.button.enable(),Et({id:"analytics",action:"quickdrawStart"}),this)}disable(){return this.enabled()?(super.disable(),this.options.button.disable(),Et({id:"analytics",action:"quickdrawEnd"}),this):this}addHooks(){L.DomUtil.disableTextSelection(),this._tooltip=new Kt(this._map),this._guideLayerGroup=new L.LayerGroup,window.addLayerGroup("Wasabee Quickdraw Guide",this._guideLayerGroup,window.isSmartphone()),this._operation=Ke(),this._nextDrawnLinksColor=this._operation.color,this._opID=this._operation.ID,this._currentMode=new this._modes[0](this._operation),this._tooltip.updateContent(this._currentMode.getTooltip()),window.map.on("wasabee:portal:click",this._portalClicked,this),window.map.on("wasabee:op:select",this._opchange,this),window.map.on("keyup",this._keyUpListener,this),window.map.on("mousemove",this._onMouseMove,this)}removeHooks(){window.removeLayerGroup(this._guideLayerGroup),L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,window.map.off("wasabee:portal:click",this._portalClicked,this),window.map.off("wasabee:op:select",this._opchange,this),window.map.off("keyup",this._keyUpListener,this),window.map.off("mousemove",this._onMouseMove,this)}getMode(){return this._currentMode||(this._currentMode=new this._modes[0](this._operation)),this._currentMode}updateTooltip(){this.enabled()&&this._tooltip.updateContent(this._currentMode.getTooltip())}_opchange(){this.enabled()&&Ke().ID!=this._opID&&(console.log("operation changed mid-quickdraw - disabling"),this.disable())}_keyUpListener(e){if(this.enabled())switch(e.originalEvent.key){case"Escape":case"Esc":this.disable();break;case"/":case"g":Et({id:"analytics",action:"quickdrawGuides"}),this._guideLayerToggle();break;case"t":case"m":Et({id:"analytics",action:"quickdrawMode"}),this._toggleMode();break;case"X":Et({id:"analytics",action:"quickdrawClearAll"}),this._operation.clearAllLinks(),window.map.fire("wasabee:crosslinks")}}_onMouseMove(e){e.latlng&&this._guideUpdate(e)}_guideUpdate(e){this._guideLayerGroup.clearLayers();for(const t of this._currentMode.getGuides(e.latlng))L.polyline(t,D.QUICKDRAW_GUIDE_STYLE).addTo(this._guideLayerGroup);const t=[];for(const e of this._guideLayerGroup.getLayers()){const a=e.getLatLngs()[0].distanceTo(e.getLatLngs()[1]);t.push(a>1e3?(.001*a).toFixed(2)+" km":a.toFixed(0)+" m")}if(0===t.length)return;const a=document.createDocumentFragment();a.append(t.join(" / "),L.DomUtil.create("br"),this._currentMode.getTooltip()),this._tooltip.updateContent(a,!0)}_guideLayerToggle(){window.map.hasLayer(this._guideLayerGroup)?this._guideLayerGroup.remove():(this._guideLayerGroup.addTo(window.map),window.mapDataRequest.render.bringPortalsToFront())}_portalClicked(e){const t=e.portal;t instanceof se?(this._currentMode.onPortalClick(this._operation,t,{color:this._nextDrawnLinksColor}),this._tooltip.updateContent(this._currentMode.getTooltip())):this._tooltip.updateContent(Re("toolbar.quick_draw.tooltip.portal_fail"))}_toggleMode(){this._modes.push(this._modes.shift()),this._currentMode=new this._modes[0](this._operation),this._guideLayerGroup.clearLayers(),this._tooltip.updateContent(this._currentMode.getTooltip()),this.options.button.setSubActions(this.options.button.getSubActions())}}const rr=nr,sr=Ht.extend({statics:{TYPE:"promptDialog"},options:{title:Re("NO_TITLE"),label:Re("NO_LABEL"),placeholder:"",current:"",suggestions:[],nonEmpty:!1},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this)},_submit:function(){this.options.nonEmpty&&!this.inputField.value||(this.options.callback&&this.options.callback(),this.closeDialog())},_displayDialog:function(){const e={};e[Re("OK")]=()=>{this._submit()},e[Re("CANCEL")]=()=>{this.options.cancelCallback&&this.options.cancelCallback(),this.closeDialog()},this.createDialog({title:this.options.title,html:this._buildContent(),width:"auto",dialogClass:"prompt",buttons:e,autofocus:!0})},_buildContent:function(){const e=L.DomUtil.create("form","container");if("string"==typeof this.options.label?L.DomUtil.create("label",null,e).textContent=this.options.label:e.appendChild(this.options.label),this.inputField=L.DomUtil.create("input",null,e),this.inputField.id="inputField",this.inputField.placeholder=this.options.placeholder,this.inputField.value=this.options.current,this.inputField.required=this.options.nonEmpty,this.options.suggestions){const t=L.DomUtil.create("datalist",null,e);t.id="wasabee-prompt-suggestions";for(const e of this.options.suggestions){const a=L.DomUtil.create("option",null,t);"string"==typeof e?a.value=e:(a.textContent=e.text,a.value=e.value)}this.inputField.setAttribute("list","wasabee-prompt-suggestions")}return L.DomEvent.on(e,"submit",this._submit,this),e}}),lr=Ht.extend({statics:{TYPE:"teamMembershipList"},options:{},addHooks:function(){Ht.prototype.addHooks.call(this),window.map.on("wasabee:team:update",this.update,this),window.map.on("wasabee:logout",this.closeDialog,this),this._displayDialog().catch((e=>{console.error(e),Pe(e)}))},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.map.off("wasabee:team:update",this.update,this),window.map.off("wasabee:logout",this.closeDialog,this)},_displayDialog:async function(){this._table=this._setupTable();const e=await bt(this.options.teamID,10);this._table.items=e.agents;const t={};t[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:e.name,html:this._table.table,width:"auto",dialogClass:"teamlist",buttons:t})},update:async function(){const e=await bt(this.options.teamID,10);this._table.items=e.agents,this.setTitle(e.name)},_setupTable:function(){const e=new hi;return e.fields=[{name:Re("AGENT"),value:e=>e.getName(),sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>e.appendChild(si(a))},{name:Re("COMMENT"),value:e=>e.comment,sort:(e,t)=>e.localeCompare(t)},{name:Re("dialog.team_members.location"),value:e=>e.shareLocation,sort:(e,t)=>e.localeCompare(t),format:(e,t)=>{t&&(e.textContent="")}},{name:Re("dialog.team_members.wd_keys"),value:e=>e.shareWDKeys,sort:(e,t)=>e.localeCompare(t),format:(e,t)=>{t&&(e.textContent="")}}],e.sortBy=0,e}}),cr=lr,dr=Ht.extend({statics:{TYPE:"manageTeamDialog"},options:{},addHooks:function(){Ht.prototype.addHooks.call(this),window.map.on("wasabee:team:update",this.update,this),window.map.on("wasabee:logout",this.closeDialog,this),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.map.off("wasabee:team:update",this.update,this),window.map.off("wasabee:logout",this.closeDialog,this)},_setupTable:async function(){const e=new hi;return e.fields=[{name:Re("AGENT"),value:e=>e.getName(),sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>e.appendChild(si(a))},{name:Re("TEAM STATE"),value:e=>e.shareLocation,sort:(e,t)=>e&&!t},{name:Re("COMMENT"),value:e=>e.comment,sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>{const o=L.DomUtil.create("a",null,e);o.textContent=t,L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e);const o=new sr({title:Re("dialog.agent_comment.title",{agentName:a.name}),label:Re("dialog.agent_comment.text"),callback:async()=>{try{await function(e,t,a){const o=new FormData;return o.append("squad",a),xt(`/api/v1/team/${t}/${e}/comment`,o)}(a.id,this.options.team.ID,o.inputField.value),await bt(this.options.team.ID,0),window.map.fire("wasabee:team:update")}catch(e){console.error(e),Pe(e)}},current:t,placeholder:"boots"});o.enable()}))}},{name:Re("REMOVE"),value:e=>e.id,sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>{const o=L.DomUtil.create("button",null,e);o.textContent=Re("REMOVE"),L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),new ci({title:Re("dialog.remove_agent.title",{agentName:a.name}),label:Re("dialog.remove_agent.text",{agentName:a.name,teamName:this.options.team.Name}),type:"agent",callback:async()=>{try{await(e=t,a=this.options.team.ID,Bt(`/api/v1/team/${a}/${e}`)),await bt(this.options.team.ID,0)}catch(e){console.error(e)}var e,a;window.map.fire("wasabee:team:update")}}).enable()}))}}],e.sortBy=0,await this._refreshTeam(e),e},_refreshTeam:async function(e){try{const t=(await bt(this.options.team.ID,5)).agents;t&&t.length>0&&(e.items=t)}catch(e){console.error(e)}},update:async function(){const e=await this._dialogContent();this.setContent(e),this.setTitle(Re("MANAGE_TEAM",{teamName:this.options.team.Name}))},_dialogContent:async function(){const e=L.DomUtil.create("div","container"),t=L.DomUtil.create("div","list",e),a=await this._setupTable();t.appendChild(a.table),await a.done;const o=await bt(this.options.team.ID);this.options.team.Name=o.name,L.DomUtil.create("label",null,e).textContent=Re("ADD_AGENT");const n=L.DomUtil.create("input",null,e);n.placeholder=Re("INGNAME_GID");const i=L.DomUtil.create("button",null,e);i.textContent=Re("ADD"),L.DomEvent.on(i,"click",(async e=>{L.DomEvent.stop(e);try{await(t=n.value,a=this.options.team.ID,xt(`/api/v1/team/${a}/${t}`,new FormData)),await bt(this.options.team.ID,0),Ie(Re("ADD_SUCC_INSTR")),window.map.fire("wasabee:team:update")}catch(e){console.error(e),Pe(e)}var t,a})),L.DomUtil.create("label",null,e).textContent=Re("RENAME_TEAM");const r=L.DomUtil.create("input",null,e);r.placeholder=Re("BAT_TOAD"),r.value=o.name;const s=L.DomUtil.create("button",null,e);s.textContent=Re("RENAME"),L.DomEvent.on(s,"click",(async e=>{L.DomEvent.stop(e);try{await function(e,t){const a=new FormData;return a.append("teamname",t),Ut(`/api/v1/team/${e}/rename`,a)}(o.id,r.value),await bt(this.options.team.ID,0),window.map.fire("wasabee:team:update")}catch(e){console.error(e),Pe(e)}})),L.DomUtil.create("label",null,e).textContent=Re("ROCKS_COM");const l=L.DomUtil.create("input",null,e);l.placeholder="xxyyzz.com",o.rc&&(l.value=o.rc),L.DomUtil.create("label",null,e).textContent=Re("API_KEY");const c=L.DomUtil.create("input",null,e);c.placeholder="...",o.rk&&(c.value=o.rk);const d=L.DomUtil.create("button",null,e);if(d.textContent=Re("SET"),L.DomEvent.on(d,"click",(async e=>{L.DomEvent.stop(e);try{await(t=o.id,a=l.value,n=c.value,Pt(`/api/v1/team/${t}/rockscfg?rockscomm=${a}&rockskey=${n}`)),Ie("updated rocks info"),this.update()}catch(e){console.error(e),Pe(e)}var t,a,n})),L.DomUtil.create("label",null,e).textContent=Re("dialog.team_manage.join_link"),o.jlt){const t=L.DomUtil.create("input",null,e),a=Ot();t.value=L.Util.template(D.JOIN_TEAM_TEMPLATE,{server:a,teamid:o.id,token:o.jlt}),t.readOnly=!0,L.DomEvent.on(t,"click",(e=>e.target.select()));const n=L.DomUtil.create("button",null,e);n.textContent=Re("dialog.team_manage.join_link.revoke"),L.DomEvent.on(n,"click",(async e=>{var t;L.DomEvent.stop(e),await(t=o.id,Pt(`/api/v1/team/${t}/delJoinKey`)),this.update()}))}else{L.DomUtil.create("span",null,e).textContent=Re("NOT_SET");const t=L.DomUtil.create("button",null,e);t.textContent=Re("dialog.team_manage.join_link.create"),L.DomEvent.on(t,"click",(async e=>{var t;L.DomEvent.stop(e),await(t=o.id,Pt(`/api/v1/team/${t}/genJoinKey`)),this.update()}))}L.DomUtil.create("label",null,e).textContent=Re("REMOVE_TEAM");const u=L.DomUtil.create("button",null,e);return u.textContent=Re("REMOVE"),L.DomEvent.on(u,"click",(e=>{L.DomEvent.stop(e),new ci({title:Re("REMOVE_TEAM_CONFIRM_TITLE",{teamName:o.name}),label:Re("REMOVE_TEAM_CONFIRM_LABEL",{teamName:o.name}),callback:async()=>{try{await(e=o.id,Bt(`/api/v1/team/${e}`)),this.closeDialog(),await wt(!0)}catch(e){console.error(e),Pe(e)}var e;window.map.fire("wasabee:teams")}}).enable()})),e},_displayDialog:async function(){const e=await this._dialogContent(),t={};t[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("MANAGE_TEAM",{teamName:this.options.team.Name}),width:"auto",html:e,dialogClass:"manageteam",buttons:t,id:window.plugin.wasabee.static.dialogNames.manageTeam})}}),ur=dr,pr=Ht.extend({statics:{TYPE:"wasabeeButton"},addHooks:async function(){Ht.prototype.addHooks.call(this),this._me=await wt(!0,!0),window.map.on("wasabee:teams",this.update,this),window.map.on("wasabee:logout",this.closeDialog,this),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.map.off("wasabee:teams",this.update,this),window.map.off("wasabee:logout",this.closeDialog,this)},update:function(){this._enabled&&(this._me=re.localGet(),this.setContent(this._buildContent()))},_buildContent:function(){const e=new hi;e.fields=[{name:Re("TEAM_NAME"),value:e=>e.Name,sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>{const o=L.DomUtil.create("a","enl",e);o.href="#",o.textContent=t,L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),new cr({teamID:a.ID}).enable()}))}},{name:Re("TEAM STATE"),value:e=>e.State,format:(e,t,a)=>{const o=L.DomUtil.create("a",null,e);o.textContent=Re(t?"dialog.common.on":"dialog.common.off"),t&&L.DomUtil.addClass(o,"enl"),o.onclick=async()=>{await this.toggleTeam(a.ID,t),this.update()}}},{name:Re("dialog.team_list.share_wd_keys"),value:e=>e.ShareWD,format:(e,t,a)=>{const o=L.DomUtil.create("a",null,e);o.textContent=Re(t?"dialog.common.on":"dialog.common.off"),t&&L.DomUtil.addClass(o,"enl"),o.onclick=async()=>{await this.toggleShareWD(a.ID,t),this.update(),window.map.fire("wasabee:defensivekeys")}}},{name:Re("dialog.team_list.load_wd_keys"),value:e=>e.LoadWD,format:(e,t,a)=>{const o=L.DomUtil.create("a",null,e);o.textContent=Re(t?"dialog.common.on":"dialog.common.off"),t&&L.DomUtil.addClass(o,"enl"),o.onclick=async()=>{await this.toggleLoadWD(a.ID,t),this.update(),window.map.fire("wasabee:defensivekeys")}}},{name:"",value:()=>"",sort:null,format:(e,t,a)=>{const o=L.DomUtil.create("a",null,e);if(o.textContent="",this._me.id!=a.Owner)o.textContent=Re("LEAVE"),L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),new ci({title:Re("dialog.leave_team.title",{teamName:a.Name}),label:Re("dialog.leave_team.text",{teamName:a.Name}),type:"team",callback:async()=>{try{await(e=a.ID,Bt(`/api/v1/me/${e}`)),this._me=await wt(!0),window.map.fire("wasabee:teams"),window.map.fire("wasabee:defensivekeys")}catch(e){console.error(e)}var e}}).enable()}));else{const t=L.DomUtil.create("a","enl",e);t.textContent=Re("MANAGE"),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),new ur({team:a}).enable()}))}}}],e.sortBy=0;const t=L.DomUtil.create("div","container");return t.appendChild(e.table),e.items=this._me.Teams,t},_displayDialog:function(){if(!this._me)return void this.disable();const e={};e[Re("CLOSE")]=()=>{this.closeDialog()},e[Re("NEW_TEAM")]=()=>{const e=new sr({title:Re("CREATE_NEW_TEAM"),label:Re("NTNAME"),callback:async()=>{const t=e.inputField.value;if(t){try{await(a=t,Pt(`/api/v1/team/new?name=${a}`)),Ie(Re("TEAM_CREATED",{teamName:t})),this._me=await wt(!0)}catch(e){console.error(e),Pe(e)}var a;window.map.fire("wasabee:teams")}else Pe(Re("NAME_REQ"))},current:Re("NEW_TEAM_NAME"),placeholder:Re("AMAZ_TEAM_NAME")});e.enable()},this.createDialog({title:Re("CUR_USER_INFO"),html:this._buildContent(),width:"auto",dialogClass:"wasabee",buttons:e,id:window.plugin.wasabee.static.dialogNames.wasabeeButton})},toggleTeam:async function(e,t){const a=t?"Off":"On";try{await function(e,t){return Pt(`/api/v1/me/${e}?state=${t}`)}(e,a),this._me=await wt(!0)}catch(e){console.error(e),Pe(e)}return a},toggleShareWD:async function(e,t){const a=t?"Off":"On";try{await function(e,t){return Pt(`/api/v1/me/${e}/wdshare?state=${t}`)}(e,a),await wt(!0)}catch(e){console.error(e),Pe(e)}return a},toggleLoadWD:async function(e,t){const a=t?"Off":"On";try{await function(e,t){return Pt(`/api/v1/me/${e}/wdload?state=${t}`)}(e,a),await wt(!0)}catch(e){console.error(e),Pe(e)}return a}}),mr=pr;function hr(e,t,a){const o={};let n=!1;for(const i of a)JSON.stringify(e[i])!==JSON.stringify(t[i])&&(o[i]=t[i],n=!0);return n?o:null}function gr(e,t){return{id:e.ID,type:"edition",props:hr(e,t,["fromPortalId","toPortalId","color","zone","order","assignedTo","comment","state","deltaminutes"])}}function fr(e,t){return{id:e.ID,type:"edition",props:hr(e,t,["type","zone","order","assignedTo","comment","state","deltaminutes"])}}function Er(e,t){return{id:e.id,type:"edition",props:hr(e,t,["comment","hardness"])}}function _r(e,t){return{id:e.id,type:"edition",props:hr(e,t,["name","color","points"])}}function wr(e,t,a,o){const n=e.slice(),i=t.slice();n.sort(((e,t)=>e[a]<t[a]?-1:e[a]>t[a]?1:0)),i.sort(((e,t)=>e[a]<t[a]?-1:e[a]>t[a]?1:0));const r=[];let s=0,l=0;for(;s<n.length&&l<i.length;){const e=n[s],t=i[l];if(e[a]<t[a])r.push({id:e[a],type:"deletion"}),s+=1;else if(e[a]>t[a])r.push({id:t[a],type:"addition",value:t}),l+=1;else{const a=o(e,t);a.props&&r.push(a),s+=1,l+=1}}for(;s<n.length;)r.push({id:n[s][a],type:"deletion"}),s+=1;for(;l<i.length;)r.push({id:i[l][a],type:"addition",value:i[l]}),l+=1;return r}function br(e,t){return{id:e.ID,type:"edition",props:hr(e,t,["name","comment","referencetime","color","localchanged"]),portals:wr(e.opportals,t.opportals,"id",Er),links:wr(e.links,t.links,"ID",gr),markers:wr(e.markers,t.markers,"ID",fr),zones:wr(e.zones,t.zones,"id",_r)}}function Tr(e,t){const a={};let o=!1;for(const n in t)e&&JSON.stringify(e[n])===JSON.stringify(t[n])||(a[n]=t[n],o=!0);return o?a:null}function Ar(e,t,a=!1,o=[]){e.sort(((e,t)=>e.id<t.id?-1:e.id>t.id?1:0)),t.sort(((e,t)=>e.id<t.id?-1:e.id>t.id?1:0));const n=[],i=[];let r=0,s=0;for(;r<e.length&&s<t.length;){const l=e[r],c=t[s];if(l.id<c.id)r+=1;else if(l.id>c.id)n.push(c),s+=1;else{if("addition"===l.type||"addition"===c.type)if(a){const e=Tr(l.props,c.props);e&&n.push({id:c.id,type:"edition",props:e})}else i.push({id:c.id,type:"addition/addition"});else if("deletion"===l.type&&"deletion"===c.type);else if("edition"===l.type&&"edition"===c.type){const e=Tr(l.props,c.props);if(e){let t=!0;for(const a in e)if(a in l.props){t=!1;break}for(const e in l.props)if(!t||o.includes(e)){t=!1;break}for(const e in c.props)if(!t||o.includes(e)){t=!1;break}t?n.push({id:c.id,type:"edition",props:e}):i.push({id:c.id,type:"edition/edition",master:l,follower:c})}}else a?"edition"===c.type&&n.push(c):i.push({id:c.id,type:l.type+"/"+c.type,master:l,follower:c});r+=1,s+=1}}for(;s<t.length;)n.push(t[s]),s+=1;return{result:n,conflict:i}}function Lr(e,t,a){for(const o of e.opportals)t._addPortal(o),a._addPortal(o);const o=br(e,t),n=br(e,a);!function(e,t,a){const o=e.filter((e=>"addition"===e.type)),n=t.filter((e=>"addition"===e.type));for(const e of n)for(const t of o)if(a(e.value,t.value)){e.id=t.id;break}}(o.links,n.links,((e,t)=>e.fromPortalId===t.fromPortalId&&e.toPortalId===t.toPortalId||e.fromPortalId===t.toPortalId&&e.toPortalId===t.fromPortalId));const i={props:Tr(o.props,n.props),portals:Ar(o.portals,n.portals,!0),links:Ar(o.links,n.links,!1,["fromPortalId","toPortalId"]),markers:Ar(o.markers,n.markers,!1),zones:Ar(o.zones,n.zones,!0)};return Sr(t,i),i}function kr(e,t){for(const a in t)e[a]=t[a]}function Sr(e,t){for(const a of t.portals.conflict)a.value=e.getPortal(a.id);for(const a of t.zones.conflict)a.value=e.getZone(a.id);for(const a of t.markers.conflict)a.value=e.getMarker(a.id);for(const a of t.links.conflict)a.value=e.getLinkById(a.id)}function vr(e,t,a){kr(e,a.props);for(const a of t.opportals)e._addPortal(new se(a));for(const a of t.zones)e.getZone(a.id)||e.zones.push(new le(a));for(const t of a.portals.result)if("addition"===t.type)e._addPortal(t.value);else if("edition"===t.type){const a=e.getPortal(t.id);a&&kr(a,t.props)}for(const t of a.zones.result)if("addition"===t.type)e.getZone(t.id)||e.zones.push(new le(t.value));else if("edition"===t.type){const a=e.getZone(t.id);a&&kr(a,t.props)}for(const t of a.markers.result)if("deletion"===t.type)e.markers=e.markers.filter((e=>e.ID!==t.id));else if("addition"===t.type)e.markers.push(new ie(t.value));else{const a=e.getMarker(t.id);a&&kr(a,t.props)}for(const t of a.links.result)if("deletion"===t.type)e.links=e.links.filter((e=>e.ID!==t.id));else if("addition"===t.type)e.links.push(new ee(t.value));else{const a=e.getLinkById(t.id);a&&kr(a,t.props)}for(const t of a.portals.conflict)t.value&&e._updatePortal(t.value);for(const t of a.zones.conflict)t.value&&(e.zones=e.zones.filter((e=>e.id!==t.id)),e.zones.push(t.value));for(const t of a.markers.conflict)e.markers=e.markers.filter((e=>e.ID!==t.id)),t.value&&e.markers.push(t.value);for(const t of a.links.conflict)e.links=e.links.filter((e=>e.ID!==t.id)),t.value&&e.links.push(t.value);e.links=e.links.filter((t=>e.getLinkByPortalIDs(t.fromPortalId,t.toPortalId)===t)),e.cleanAnchorList(),e.cleanPortalList()}const Or=Ht.extend({statics:{TYPE:"conflictDialog"},options:{},addHooks:function(){Ht.prototype.addHooks.call(this),this._layer=new L.LayerGroup,this._layer.addTo(window.map),this._displayDialog()},removeHooks:function(){Ht.prototype.addHooks.call(this),this._layer.remove()},rebase:async function(e){vr(this._opRebase,this.options.opOwn,e),await this._opRebase.store(),Ke().ID==this._opRebase.ID&&await ze(this._opRebase.ID),this.options.updateCallback&&this.options.updateCallback(this._opRebase),this.closeDialog()},useServer:async function(){await this.options.opRemote.store(),Ke().ID==this.options.opRemote.ID&&await ze(this.options.opRemote.ID),this.closeDialog()},useLocal:function(){this.options.updateCallback&&this.options.updateCallback(this.options.opOwn),this.closeDialog()},_displayDialog:function(){this._opRebase=new Se(this.options.opRemote),this._origin=this.options.opOwn.getFetchedOp()?new Se(this.options.opOwn.getFetchedOp()):new Se({ID:this.options.opOwn.ID,name:this.options.opOwn.name,comment:this.options.opOwn.comment,color:this.options.opOwn.color,referencetime:this.options.opOwn.referencetime});const e=Lr(this._origin,this._opRebase,this.options.opOwn);console.debug(e);const t=[];for(const a of e.portals.conflict)"edition/edition"===a.type&&t.push({kind:"portal",conflict:a,masterValue:this._opRebase.getPortal(a.id),followerValue:this.options.opOwn.getPortal(a.id)});for(const a of e.zones.conflict)"edition/edition"===a.type&&t.push({kind:"zone",conflict:a,masterValue:this._opRebase.getZone(a.id),followerValue:this.options.opOwn.getZone(a.id)});for(const a of e.markers.conflict)"addition/addition"!==a.type&&t.push({kind:"marker",conflict:a,masterValue:this._opRebase.getMarker(a.id),followerValue:this.options.opOwn.getMarker(a.id)});for(const a of e.links.conflict)"addition/addition"!==a.type&&t.push({kind:"link",conflict:a,masterValue:this._opRebase.getLinkById(a.id),followerValue:this.options.opOwn.getLinkById(a.id)});if(0===t.length)return void this.rebase(e);const a=L.DomUtil.create("div","container");L.DomUtil.create("div","desc",a).textContent=Re("MERGE_MESSAGE"),L.DomUtil.create("h3","",a).textContent=Re("dialog.conflict.conflicts");const o=L.DomUtil.create("table","conflicts",a),n=L.DomUtil.create("tr","",o);L.DomUtil.create("th","master",n).textContent=Re("dialog.conflict.server");const i=L.DomUtil.create("input","",L.DomUtil.create("th","master",n));i.type="radio",i.name=this.options.opOwn.ID;const r=L.DomUtil.create("input","",L.DomUtil.create("th","follower",n));r.type="radio",r.name=this.options.opOwn.ID,L.DomUtil.create("th","follower",n).textContent=Re("dialog.conflict.local"),L.DomEvent.on(i,"change",(()=>{if(i.checked){o.querySelectorAll("td.master input").forEach((e=>e.checked=!0));for(const e of t)e.conflict.value=e.masterValue}})),L.DomEvent.on(r,"change",(()=>{if(r.checked){o.querySelectorAll("td.follower input").forEach((e=>e.checked=!0));for(const e of t)e.conflict.value=e.followerValue}}));for(const e of t){const t=L.DomUtil.create("tr","",o);this.formatConflict(e,e.conflict.master,this._opRebase,L.DomUtil.create("td","master",t));const a=L.DomUtil.create("input","",L.DomUtil.create("td","master",t));a.type="radio",a.name=e.conflict.id,a.value="master",a.checked=!0;const n=L.DomUtil.create("input","",L.DomUtil.create("td","follower",t));n.type="radio",n.name=e.conflict.id,n.value="master",this.formatConflict(e,e.conflict.follower,this.options.opOwn,L.DomUtil.create("td","follower",t)),L.DomEvent.on(a,"change",(()=>{a.checked&&(e.conflict.value=e.masterValue,r.checked=!1)})),L.DomEvent.on(n,"change",(()=>{n.checked&&(e.conflict.value=e.followerValue,i.checked=!1)}))}const s=[];s.push({text:Re("MERGE_REBASE"),click:()=>this.rebase(e)}),s.push({text:Re("MERGE_REPLACE"),click:()=>this.useServer()}),s.push({text:Re("MERGE_LOCAL"),click:()=>this.useLocal()}),(this.options.updateCallback||this.options.cancelText)&&s.push({text:this.options.cancelText||Re("CANCEL"),click:()=>this.closeDialog()}),this.createDialog({title:this.options.title||Re("MERGE_TITLE"),html:a,width:"auto",dialogClass:"conflict",buttons:s})},formatConflict(e,t,a,o){try{if("link"===e.kind){const e=this._origin.getLinkById(t.id),n=Ai(e,this._origin);if(o.appendChild(n),"deletion"===t.type)n.classList.add("strike");else{const n=L.DomUtil.create("ul","",o);for(const o in t.props)this.formatProp(o,e,t.props,a,n)}}else if("marker"===e.kind){const e=this._origin.getMarker(t.id),n=function(e,t){const a=t.getPortal(e.portalId);if(null==a)return console.log("null portal getting marker popup"),L.DomUtil.create("div","").textContent="invalid portal";const o=L.DomUtil.create("span");return L.DomUtil.create("span",`${e.type}`,o).textContent=Re(e.type),o.appendChild(Je(a)),o}(e,this._origin);if(o.appendChild(n),"deletion"===t.type)n.classList.add("strike");else{const n=L.DomUtil.create("ul","",o);for(const o in t.props)this.formatProp(o,e,t.props,a,n)}}else if("portal"===e.kind){const e=this._origin.getPortal(t.id),n=Je(e);o.appendChild(n);const i=L.DomUtil.create("ul","",o);for(const o in t.props)this.formatProp(o,e,t.props,a,i)}else if("zone"===e.kind){const e=this._origin.getZone(t.id),n=L.DomUtil.create("span");n.textContent=Re("dialog.conflict.zone",{name:e.name}),o.appendChild(n);const i=L.DomUtil.create("ul","",o);for(const o in t.props)this.formatProp(o,e,t.props,a,i)}}catch(e){console.error(e),o.append(JSON.stringify(t.props))}},formatProp(e,t,a,o,n){const i=L.DomUtil.create("li","",n),r=L.DomUtil.create("span","diff-label",i);r.textContent=e+":";const s=L.DomUtil.create("span","strike",i);s.textContent=t[e];const l=L.DomUtil.create("span","",i);l.textContent=a[e],"hardness"===e?r.textContent=Re("dialog.conflict.prop.hardness"):"comment"===e?r.textContent=Re("dialog.conflict.prop.comment"):"assignedTo"===e?r.textContent=Re("dialog.conflict.prop.assignedTo"):"state"===e?(r.textContent=Re("dialog.conflict.prop.state"),s.textContent=Re(X(t[e])),l.textContent=Re(X(a[e]))):"color"===e?r.textContent=Re("dialog.conflict.prop.color"):"order"===e?r.textContent=Re("dialog.conflict.prop.order"):"zone"===e?r.textContent=Re("dialog.conflict.prop.zone"):"points"===e?(r.textContent=Re("dialog.conflict.prop.zone_points"),s.textContent="",l.textContent=""):"fromPortalId"===e?r.textContent=Re("dialog.conflict.prop.fromPortal"):"toPortalId"===e?r.textContent=Re("dialog.conflict.prop.toPortal"):"deltaminutes"===e&&(r.textContent=Re("dialog.conflict.prop.deltaminutes")),"assignedTo"!==e&&"completedID"!==e||(t[e]&&_t(t[e]).then((e=>s.textContent=e.getName())),a[e]&&_t(a[e]).then((e=>l.textContent=e.getName()))),"fromPortalId"!==e&&"toPortalId"!==e||(s.textContent="",s.appendChild(Je(this._origin.getPortal(t[e]))),l.textContent="",l.appendChild(Je(o.getPortal(a[e]))))}});function Dr(e){new ci({title:Re("dialog.clear_links.title",{opName:e.name}),label:Re("dialog.clear_links.text",{opName:e.name}),type:"operation",callback:()=>{e.clearAllLinks(),window.map.fire("wasabee:crosslinks")}}).enable()}function Nr(e){if(!e)return;const t=e.mbr;t&&t.isValid()&&window.map.fitBounds(t)}async function Cr(e,t){const a=Ke();if(!e)return await t.store(),!1;const o=e.ID!=a.ID?e:a;return o.lasteditid===t.lasteditid?o.server!==t.server&&(o.server=t.server,await o.store(),o.ID===a.ID):o.checkChanges()?(o.teamlist=t.teamlist,o.mergeZones(t),o.remoteChanged=!0,await o.store(),a===o&&new Or({opOwn:a,opRemote:t}).enable(),!1):(await t.store(),t.ID===a.ID)}async function yr(){const e=Ke(),t=pe();try{let a=null;const o=await wt(!0),n=new Set(o.Ops.map((e=>e.ID))),i=await Ye(),r=[];for(const e of i){const a=await Se.load(e);a&&a.server===t&&!n.has(a.ID)&&r.push(a)}for(const t of r){if(t.isOwnedOp()){const o=await Ze(t.ID);o.name=t.name,await o.store(),t.ID===e.ID&&(a=o.ID)}await Se.delete(t.ID)}r.length>0&&console.log("remove",r.map((e=>e.ID)));const s=[];for(const e of n)s.push(yt(e));const l=(await Promise.allSettled(s)).filter((e=>"fulfilled"===e.status)).map((e=>e.value));for(const t of l){const o=await Se.load(t.ID);await Cr(o,t)&&(a=e.ID)}if(a)await ze(a);else{const t=await Ge();t!==e&&Nr(t)}return window.map.fire("wasabee:teams"),window.map.fire("wasabee:fullsync"),!0}catch(e){console.error(e),e instanceof xe&&Pe(e),re.isLoggedIn()&&Me(Re("NOT_LOADED"))}return window.map.fire("wasabee:fullsync"),!1}const Rr=Ht.extend({statics:{TYPE:"exportDialog"},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:function(){const e=Ke(),t={};t[Re("CLOSE")]=()=>{this.closeDialog()},t[Re("DRAW TOOLS FORMAT")]=()=>{this._drawToolsFormat(e)},t[Re("ANCHORS_AS_BOOKMARKS")]=()=>{this._bookmarkFormat(e)},this.createDialog({title:Re("EXPORT")+e.name,html:this._buildContent(e),width:"auto",dialogClass:"export",buttons:t,id:window.plugin.wasabee.static.dialogNames.exportDialog})},_buildContent:function(e){const t=L.DomUtil.create("div",null),a=L.DomUtil.create("textarea",null,t);return a.id="wasabee-dialog-export-textarea",e.cleanAll(),a.value=e.toExport(),t},_drawToolsFormat:function(e){const t=document.getElementById("wasabee-dialog-export-textarea"),a=new Array;for(const t of e.links){const o={type:"polyline"};o.color=ai(t.getColor(e)),o.latLngs=t.getLatLngs(e),a.push(o)}t.value=JSON.stringify(a)},_bookmarkFormat:function(e){const t=document.getElementById("wasabee-dialog-export-textarea"),a=new Object;a.maps={},a.maps.idOthers={},a.maps.idOthers.label="Others",a.maps.idOthers.state=1,a.maps.idOthers.bkmrk={},a.portals={},a.portals.idOthers={},a.portals.idOthers.label="Others",a.portals.idOthers.state=1,a.portals.idOthers.bkmrk={};for(const t of e.anchors){const o="id"+t.substring(0,16),n=e._idToOpportals.get(t);a.portals.idOthers.bkmrk[o]={},a.portals.idOthers.bkmrk[o].guid=t,a.portals.idOthers.bkmrk[o].latlng=`${+n.lat},${+n.lng}`,a.portals.idOthers.bkmrk[o].label=n.name}t.value=JSON.stringify(a)}}),Ir=Rr,Mr=L.Handler.extend({initialize:function(e=window.map,t){this.zoneID=0,L.Handler.prototype.initialize.call(this,e),this._parent=t.parent,this.type="ZonedrawHandler"},enable:function(){this._enabled||0==this.zoneID?this.disable():L.Handler.prototype.enable.call(this)},addHooks:function(){L.DomUtil.disableTextSelection(),this._tooltip=new Kt(window.map),this._opID=Ke().ID,this._tooltip.updateContent(this._getTooltipText()),window.map.on("click",this._click,this),window.map.on("wasabee:op:select",this._opchange,this),window.map.on("keyup",this._keyUpListener,this)},removeHooks:function(){L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,window.map.off("click",this._click,this),window.map.off("wasabee:op:select",this._opchange,this),window.map.off("keyup",this._keyUpListener,this)},_opchange:function(){this._enabled&&Ke().ID!=this._opID&&(console.log("operation changed mid-zonedraw - disabling"),this.disable())},_keyUpListener:function(e){this._enabled&&27===e.originalEvent.keyCode&&(this.disable(),this._parent.update())},_click:function(e){Ke().addZonePoint(this.zoneID,e.latlng)},_getTooltipText:function(){return Re("ZONE_DRAW")}}),Pr=Ht.extend({statics:{TYPE:"zoneSetColorDialog"},needWritePermission:!0,options:{},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:function(){this.createDialog({title:Re("dialog.zone_color.title"),html:this._buildContent(),width:"auto",dialogClass:"zone-color"})},_buildContent:function(){const e=L.DomUtil.create("div","container");L.DomUtil.create("div","desc",e).textContent=Re("dialog.zone_color.text",{zoneName:this.options.zone.name});const t=L.DomUtil.create("input","picker",e);return t.type="color",t.setAttribute("list","wasabee-colors-datalist"),L.DomEvent.on(t,"change",(async e=>{L.DomEvent.stop(e);const a=Ke();for(const e of a.links)e.zone==this.options.zone.id&&(e.color=t.value);await a.store(),Ti(t.value),window.map.fire("wasabee:op:change")})),e}});function xr(e,t){const a=Ke(),o="write"===a.getPermission();(t=t||L.DomUtil.create("div")).textContent="";const n=L.DomUtil.create("tbody","",L.DomUtil.create("table","wasabee-table",t)),i=L.DomUtil.create("tr",null,n);L.DomUtil.create("th",null,i).textContent=Re("dialog.zones.id"),L.DomUtil.create("th",null,i).textContent=Re("dialog.common.name"),L.DomUtil.create("th",null,i).textContent=Re("dialog.zones.color"),L.DomUtil.create("th",null,i).textContent=Re("dialog.common.commands");for(const i of a.zones){const r=L.DomUtil.create("tr",null,n);L.DomUtil.create("td",null,r).textContent=""+i.id;const s=L.DomUtil.create("td",null,r),l=L.DomUtil.create("input",null,s);l.type="text",l.value=i.name;const c=L.DomUtil.create("td",null,r),d=L.DomUtil.create("input","picker",c);d.type="color",d.value=ai(i.color),d.setAttribute("list","wasabee-colors-datalist"),d.disabled=!o,L.DomEvent.on(d,"change",(e=>{L.DomEvent.stop(e),i.color=d.value,a.update(),Ti(d.value)})),L.DomEvent.on(l,"change",(e=>{L.DomEvent.stop(e),Ke().renameZone(i.id,l.value)}));const u=L.DomUtil.create("td","actions",r);if(i.points.length>0){const e=L.latLngBounds(i.points),t=L.DomUtil.create("a",null,u);t.href="#",t.title=Re("dialog.zones.jump_to"),ii("location-dot",t),L.DomEvent.on(t,"click",(t=>{L.DomEvent.stop(t),window.map.fitBounds(e)}))}if(o){const a=L.DomUtil.create("a",null,u);if(a.href="#",a.title=Re("dialog.zones.color_links"),ii("palette",a),L.DomEvent.on(a,"click",(e=>{L.DomEvent.stop(e),new Pr({zone:i}).enable()})),1!=i.id){const e=L.DomUtil.create("a",null,u);e.href="#",e.title=Re("dialog.common.delete"),ii("trash",e),L.DomEvent.on(e,"click",(e=>{L.DomEvent.stop(e),new ci({title:Re("dialog.zones.delete.title",{zoneName:i.name}),label:Re("dialog.zones.delete.text",{zoneName:i.name}),type:"operation",callback:async()=>{Ke().removeZone(i.id)}}).enable()}))}if(e&&e.zoneID===i.id&&e.enabled()){const a=L.DomUtil.create("a",null,u);a.href="#",a.title=Re("dialog.zones.stop_drawing"),ii("ban",a),L.DomEvent.on(a,"click",(a=>{L.DomEvent.stop(a),e.disable(),xr(e,t)}))}else if(0==i.points.length){const a=L.DomUtil.create("a",null,u);a.title=Re("dialog.zones.draw_zone_shape"),ii("pen",a),a.href="#",L.DomEvent.on(a,"click",(a=>{L.DomEvent.stop(a),e.zoneID=i.id,e.enable(),xr(e,t)}))}else{const e=L.DomUtil.create("a",null,u);e.title=Re("dialog.zones.delete_zone_shape"),ii("eraser",e),e.href="#",L.DomEvent.on(e,"click",(e=>{L.DomEvent.stop(e),Ke().removeZonePoints(i.id)}))}}}return t}class Ur extends Ht{addHooks(){super.addHooks(),this._zoneHandler=new Mr(window.map,{parent:this}),window.map.on("wasabee:op:select wasabee:op:change",this.update,this),this._activeTab=0,this._displayDialog()}removeHooks(){super.removeHooks(),window.map.off("wasabee:op:select wasabee:op:change",this.update,this)}_displayDialog(){const e=this.makeContent(),t={};t[Re("OK")]=()=>{this.closeDialog()},this.createDialog({title:Re("OP_SETTINGS_TITLE"),html:e,height:"auto",width:"auto",dialogClass:"op-settings",buttons:t,id:window.plugin.wasabee.static.dialogNames.opSettings})}update(){if(this.enabled()){this.setTitle(Re("OP_SETTINGS_TITLE"));const e=this.makeContent();this.setContent(e)}}buildZoneTab(){const e=L.DomUtil.create("a");e.textContent=Re("dialog.op_settings.zones");const t=L.DomUtil.create("div");t.appendChild(xr(this._zoneHandler));const a=L.DomUtil.create("div","buttonset",t),o={};o[Re("ADD_ZONE")]=()=>{Ke().canWrite()&&Ke().addZone()},o[Re("SET_MARKERS_ZONES")]=()=>{Ke().canWrite()&&Oi()},o[Re("SET_LINKS_ZONES")]=()=>{Ke().canWrite()&&Di()};for(const e in o){const t=L.DomUtil.create("button",null,a);t.textContent=e,L.DomEvent.on(t,"click",o[e])}return[e,t]}buildPermTab(){const e=Ke(),t=L.DomUtil.create("a");t.textContent=Re("OP_PERMS");const a=L.DomUtil.create("div");return a.appendChild(function(e,t){const a=t&&e.isOwnedOp()&&e.isOnCurrentServer(),o=a?L.DomUtil.create("select"):null,n=a?L.DomUtil.create("select"):null,i=a?L.DomUtil.create("select"):null;if(a){for(const e of t.Teams){const t=L.DomUtil.create("option",null,o);t.value=e.ID,t.textContent=e.Name}const a=L.DomUtil.create("option",null,n);a.value="read",a.textContent=Re("READ");const r=L.DomUtil.create("option",null,n);r.value="write",r.textContent=Re("WRITE");const s=L.DomUtil.create("option",null,n);s.value="assignedonly",s.textContent=Re("ASSIGNED_ONLY");const l=L.DomUtil.create("option",null,i);l.value="0",l.textContent=Re("dialog.common.zone_all");for(const t of e.zones){const e=L.DomUtil.create("option",null,i);e.value=""+t.id,e.textContent=t.name}}const r=new hi,s=[{name:Re("TEAM"),value:async a=>{if(t&&e.isOnCurrentServer()&&t.teamJoined(a.teamid)){const e=await bt(a.teamid);if(e)return e.name;if(t)for(const e of t.Teams)if(e.ID==a.teamid)return e.Name}return"["+a.teamid+"]"},sort:(e,t)=>e.localeCompare(t),foot:e=>{a&&e.append(o)}},{name:Re("ROLE"),value:e=>e.role,sort:(e,t)=>e.localeCompare(t),foot:e=>{a&&e.append(n)}},{name:Re("ZONE"),value:t=>0===t.zone?Re("dialog.common.zone_all"):e.zoneName(t.zone),sort:(e,t)=>e.localeCompare(t),foot:e=>{a&&e.append(i)}}];if(a)s.push({name:Re("dialog.common.commands"),value:()=>Re("REMOVE"),format:(e,t,a)=>{const o=L.DomUtil.create("a",null,e);o.href="#",o.textContent=t,L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),async function(e){if(!re.isLoggedIn())return void Pe(Re("NOT LOGGED IN SHORT"));const t=Ke();if(t.isOwnedOp())try{await function(e,t,a,o){const n=new FormData;return n.append("team",t),n.append("role",a),n.append("zone",`${o}`),Bt(`/api/v1/draw/${e}/perms`,n)}(t.ID,e.teamid,e.role,e.zone);const a=[];for(const o of t.teamlist)o.teamid==e.teamid&&o.role==e.role&&o.zone==e.zone||a.push(o);t.teamlist=a,await t.store(),window.map.fire("wasabee:op:change")}catch(e){console.error(e),Pe(e)}}(a)}))},foot:e=>{const t=L.DomUtil.create("a",null,e);t.href="#",t.textContent=Re("ADD"),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),async function(e,t,a){if(!re.isLoggedIn())return void Pe(Re("NOT LOGGED IN SHORT"));const o=Ke();if(o.isOwnedOp()){for(const n of o.teamlist)if(n.teamid==e&&n.role==t&&n.zone==a)return void console.debug("not adding duplicate permission");try{await function(e,t,a,o){const n=new FormData;return n.append("team",t),n.append("role",a),n.append("zone",`${o}`),xt(`/api/v1/draw/${e}/perms`,n)}(o.ID,e,t,a),o.teamlist.push({teamid:e,role:t,zone:a}),await o.store(),window.map.fire("wasabee:op:change")}catch(e){console.error(e),Pe(e)}}}(o.value,n.value,+i.value)}))}});else for(const e of s)delete e.foot;return r.fields=s,r.sortBy=0,r.items=e.teamlist,r.table}(e,re.cacheGet())),[t,a]}buildAdvancedTab(){const e=Ke(),t=L.DomUtil.create("a");t.textContent=Re("dialog.op_settings.advanced");const a=L.DomUtil.create("div","advanced");if(e.canWrite()){L.DomUtil.create("div","desc",a).textContent=Re("dialog.op_settings.import.desc"),L.DomUtil.create("label",null,a).textContent=Re("dialog.op_settings.import.select_op");const t=L.DomUtil.create("select",null,a);Ye().then((async a=>{const o=(await Promise.all(a.map(Se.load))).map((e=>[e.ID,e.name]));o.sort(((e,t)=>e[1].localeCompare(t[1])));for(const[a,n]of o){if(a===e.ID)continue;const o=L.DomUtil.create("option",null,t);o.value=a,o.textContent=n}})),L.DomUtil.create("label",null,a).textContent=Re("dialog.op_settings.import.select_color");const o=L.DomUtil.create("input","picker",a);o.type="color",o.value=ai(e.color),o.setAttribute("list","wasabee-colors-datalist");const n=L.DomUtil.create("label","checkbox",a),i=L.DomUtil.create("input","",n);i.type="checkbox",L.DomUtil.create("span","",n).textContent=Re("dialog.op_settings.import.collision_default");const r=L.DomUtil.create("button","import",a);r.textContent=Re("dialog.op_settings.import.button"),L.DomEvent.on(r,"click",(async()=>{const a=await Se.load(t.value);if(delete a.fetchedOp,o.value!==ai(e.color))for(const e of a.links)"main"!==e.color&&e.color!==a.color||(e.color=o.value);const n=Ke();a.ID=n.ID;const r=n.zones.map((e=>e.id)).reduce(((e,t)=>e>t?e:t),1);for(const e of a.zones)e.id+=r;for(const e of a.links)e.zone+=r;for(const e of a.markers)e.zone+=r;const s=Lr(new Se({ID:n.ID,name:n.name,comment:n.comment,color:n.color,referencetime:n.referencetime}),n,a);console.debug(s),s.props={},i.checked&&Sr(a,s),vr(n,a,s),await n.store(),window.map.fire("wasabee:op:change")}))}return[t,a]}buildMainTab(){const e=Ke(),t=e.canWrite(),a=L.DomUtil.create("a");a.textContent=Re("dialog.op_settings.setting");const o=L.DomUtil.create("div"),n=L.DomUtil.create("div","topset",o);if(t){L.DomUtil.create("label",null,n).textContent=Re("OPER_COLOR");const t=L.DomUtil.create("input","picker",n);t.type="color",t.value=ai(e.color),t.setAttribute("list","wasabee-colors-datalist"),L.DomEvent.on(t,"change",(async e=>{L.DomEvent.stop(e);const a=Ke();a.color=t.value,a.localchanged=!0,await a.store(),Ti(t.value),window.map.fire("wasabee:op:change")}))}if(t){const t=L.DomUtil.create("textarea",null,n);t.placeholder="Op Comment",t.value=e.comment,L.DomEvent.on(t,"change",(async e=>{L.DomEvent.stop(e);const a=Ke();a.comment=t.value,a.localchanged=!0,await a.store(),window.map.fire("wasabee:op:change")}))}else L.DomUtil.create("p","comment",n).textContent=e.comment;if(t){L.DomUtil.create("label",null,n).textContent=Re("REFERENCE_TIME");const t=L.DomUtil.create("input",null,n);t.size=30,t.placeholder="Sun, 21 Oct 2018 12:16:24 GMT",t.value=e.referencetime,L.DomEvent.on(t,"change",(async e=>{L.DomEvent.stop(e);const a=Ke();try{const e=new Date(t.value);if("Invalid Date"===e.toString()||isNaN(+e))throw e;a.referencetime=e.toUTCString(),t.value=a.referencetime,a.localchanged=!0,await a.store(),window.map.fire("wasabee:op:change")}catch(e){console.log(e),Pe("Invalid date format")}}))}else L.DomUtil.create("p","comment",n).textContent=Re("REFERENCE_TIME")+" "+e.referencetime;const i=L.DomUtil.create("div","buttonset",o);if(t){const e=L.DomUtil.create("div",null,i),t=L.DomUtil.create("button",null,e);t.textContent=Re("CLEAR_EVERYTHING"),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e);const t=Ke();var a;new ci({title:Re("dialog.clear_all.title",{opName:(a=t).name}),label:Re("dialog.clear_all.text",{opName:a.name}),type:"operation",callback:()=>{a.clearAllItems(),window.map.fire("wasabee:crosslinks")}}).enable()}))}const r=L.DomUtil.create("div",null,i),s=L.DomUtil.create("button",null,r);e.isServerOp()?re.isLoggedIn()&&e.isOwnedOp()&&e.isOnCurrentServer()?s.textContent=Re("DELETE_OP",{opName:e.name})+Re("LOCFRMSER"):s.textContent=Re("REM_LOC_CP",{opName:e.name}):s.textContent=Re("DELETE_OP",{opName:e.name}),L.DomEvent.on(s,"click",(e=>{L.DomEvent.stop(e);const t=Ke();new ci({title:Re("CON_DEL",{opName:t.name}),label:Re("YESNO_DEL",{opName:t.name}),type:"operation",callback:async()=>{if(re.isLoggedIn()&&t.isOwnedOp()&&t.isOnCurrentServer())try{await(e=t.ID,Bt(`/api/v1/draw/${e}`)),console.log("delete from server successful")}catch(e){console.error(e),Pe(e)}var e;await Fe(t.ID),Nr(await Ge())}}).enable()}));const l=L.DomUtil.create("div",null,i),c=L.DomUtil.create("button",null,l);c.textContent=Re("DUPE_OP"),L.DomEvent.on(c,"click",(async e=>{L.DomEvent.stop(e);const t=Ke(),a=await Ze(t.ID);await ze(a.ID)}));const d=L.DomUtil.create("div",null,i),u=L.DomUtil.create("button",null,d);return u.textContent=Re("EXPORT OP"),L.DomEvent.on(u,"click",(e=>{L.DomEvent.stop(e),(new Ir).enable()})),[a,o]}makeContent(){const e=Ke(),t=e.canWrite(),a=L.DomUtil.create("div"),o=L.DomUtil.create("div","topset",a);if(L.DomUtil.create("label",null,o).textContent=Re("OPER_NAME"),t){const t=L.DomUtil.create("input",null,o);t.value=e.name,L.DomEvent.on(t,"change",(async e=>{if(L.DomEvent.stop(e),t.value&&""!=t.value){const e=Ke();e.name=t.value,e.localchanged=!0,await e.store(),window.map.fire("wasabee:op:change")}else Pe(Re("USE_VALID_NAME"))}))}else L.DomUtil.create("div",null,o).textContent=e.name;const n=[];n.push(this.buildMainTab()),n.push(this.buildZoneTab()),e.isServerOp()&&n.push(this.buildPermTab()),n.push(this.buildAdvancedTab());const i=L.DomUtil.create("div","ui-tabs tabs",a),r=L.DomUtil.create("ul","ui-tabs-nav nav",i);for(let e=0;e<n.length;e++){const[t,a]=n[e];L.DomUtil.create("li","ui-tabs-tab",r).appendChild(t),t.classList.add("ui-tabs-anchor"),i.appendChild(a),a.classList.add("ui-tabs-panel"),a.style.display="none",L.DomEvent.on(t,"click",(()=>{for(const e of n)e[0].parentElement.classList.remove("ui-tabs-active"),e[1].style.display="none";t.parentElement.classList.add("ui-tabs-active"),a.style.display=null,this._activeTab=e}))}return this._activeTab>=n.length&&(this._activeTab=0),n[this._activeTab][0].parentElement.classList.add("ui-tabs-active"),n[this._activeTab][1].style.display=null,a}}Ur.TYPE="opSettingDialog";const Br=Ur,Kr=Ht.extend({statics:{TYPE:"opsDialog"},SORTBY_KEY:"wasabee-opslist-sortby",SORTASC_KEY:"wasabee-opslist-sortasc",options:{usePane:!0},addHooks:function(){Ht.prototype.addHooks.call(this),window.map.on("wasabee:op:select wasabee:op:change",this.update,this),window.map.on("wasabee:fullsync",this.update,this),window.map.on("wasabee:logout",this.update,this),window.map.on("wasabee:op:delete",this.update,this),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.map.off("wasabee:op:select wasabee:op:change",this.update,this),window.map.off("wasabee:fullsync",this.update,this),window.map.off("wasabee:logout",this.update,this),window.map.off("wasabee:op:delete",this.update,this)},_displayDialog:async function(){this.initSortable(),await this.updateSortable();const e={};e[Re("dialog.ops_list.unhide_ops")]=()=>{localStorage[window.plugin.wasabee.static.constants.OPS_LIST_HIDDEN_KEY]="[]",this.update()},e[Re("dialog.ops_list.toggle_hide")]=()=>{const e="false"!==localStorage[window.plugin.wasabee.static.constants.OPS_SHOW_HIDDEN_OPS];localStorage[window.plugin.wasabee.static.constants.OPS_SHOW_HIDDEN_OPS]=!e,this.update()},e[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("OPERATIONS"),html:this.sortable.table,height:"auto",width:"auto",dialogClass:"ops",buttons:e,id:window.plugin.wasabee.static.dialogNames.opsList})},update:async function(){this._enabled&&await this.updateSortable()},initSortable:function(){const e=new hi;e.fields=[{name:"S",value:e=>e.server,format:(e,t,a)=>{e.textContent=a.server}},{name:Re("dialog.common.name"),value:e=>e.name,sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>{const o=L.DomUtil.create("a","",e);o.href="#",o.textContent=a.name,a.local||(o.title=Re("dialog.ops_list.last_fetched",{date:a.fetched})+"\n",a.localchanged&&(o.title+=Re("dialog.ops_list.local_change")+"\n"),a.remotechanged&&(o.title+=Re("dialog.ops_list.remote_change")+"\n")),a.id==Ke().ID&&o.classList.add("enl"),L.DomEvent.on(o,"click",(async e=>{L.DomEvent.stop(e),await ze(a.id),Nr(Ke())}))}},{name:"",value:e=>1*e.local+2*e.localchanged+4*e.remotechanged,format:(e,t,a)=>{a.local||(a.localchanged&&!a.remotechanged?(ii("desktop",e),e.title=Re("dialog.ops_list.local_change")):a.remotechanged&&(ii("server",e),e.title=Re("dialog.ops_list.remote_change")))}},{name:Re("dialog.common.owner"),value:e=>e.owner,sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>{e.classList.add("opowner"),a.currentserver?e.appendChild(a.ownerDisplay):e.append(a.owner)}},{name:"P",value:e=>e.perm,format:(e,t,a)=>{let o=Re("ASSIGNED_ONLY_SHORT");if("read"==a.perm?o=Re("READ_SHORT"):"write"==a.perm&&(o=Re("WRITE_SHORT")),a.id==Ke().ID){const t=L.DomUtil.create("a","",e);t.textContent=o,L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),(new Br).enable()}))}else L.DomUtil.create("span","",e).textContent=o}},{name:"Bg",value:()=>null,sort:null,format:(e,t,a)=>{const o=L.DomUtil.create("input",null,e);o.type="checkbox",o.checked=a.background,o.title=a.background?Re("dialog.ops_list.background_disable"):Re("dialog.ops_list.background_enable"),L.DomEvent.on(o,"change",(e=>{L.DomEvent.stop(e);const t=e.target;t.title=t.checked?Re("dialog.ops_list.background_disable"):Re("dialog.ops_list.background_enable"),async function(e,t){const a=Ke(),o=a.ID===e?a:await Se.load(e);o.background!=t&&(o.background=t,await o.store(),window.map.fire("wasabee:op:background",{opID:e,background:t}))}(a.id,t.checked)}))}},{name:Re("dialog.common.commands_short"),value:()=>null,sort:null,className:"actions",format:(e,t,a)=>{const o=L.DomUtil.create("a","",e);if(o.href="#",ii("trash",o),o.title=Re("REM_LOC_CP",{opName:a.name}),L.DomEvent.on(o,"click",(e=>{var t,o;L.DomEvent.stop(e),t=a.name,o=a.id,new ci({title:Re("REM_LOC_CP",{opName:t}),label:Re("YESNO_DEL",{opName:t}),type:"operation",callback:async()=>{await Fe(o),Nr(await Ge())}}).enable()})),a.currentserver){const t=L.DomUtil.create("a","",e);t.href="#",ii("arrows-rotate",t),t.title=Re("dialog.ops_list.download",{opName:a.name}),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),async function(e){const t=await Se.load(e),a=await yt(e);a.lasteditid!=t.lasteditid&&(t.localchanged?new Or({opOwn:t,opRemote:a}).enable():await a.store())}(a.id)}))}}},{name:"V",value:()=>null,sort:null,className:"visibility",format:(e,t,a)=>{const o=L.DomUtil.create("input",null,e);o.type="checkbox",o.checked=!a.hidden,L.DomEvent.on(o,"change",(e=>{L.DomEvent.stop(e),o.checked?function(e){const t=We();t.includes(e)&&(localStorage[window.plugin.wasabee.static.constants.OPS_LIST_HIDDEN_KEY]=JSON.stringify(t.filter((t=>t!=e))),window.map.fire("wasabee:op:showhide",{opID:e,show:!0}))}(a.id):function(e){const t=We();t.includes(e)||(t.push(e),localStorage[window.plugin.wasabee.static.constants.OPS_LIST_HIDDEN_KEY]=JSON.stringify(t),window.map.fire("wasabee:op:showhide",{opID:e,show:!1}))}(a.id)}))}}],e.sortByStoreKey=this.SORTBY_KEY,e.sortAscStoreKey=this.SORTASC_KEY,this.sortable=e},updateSortable:async function(){if(!this.sortable)return;const e="false"!==localStorage[window.plugin.wasabee.static.constants.OPS_SHOW_HIDDEN_OPS],t=re.cacheGet(),a=await Ye(e),o=this.sortable.items.map((e=>e.id)),n=o.filter((e=>a.includes(e))).concat(a.filter((e=>!o.includes(e)))),i=We(),r=[];for(const e of n){const a=await Se.load(e);if(!a)continue;const o={id:e,name:a.name,localchanged:a.localchanged,remotechanged:a.remoteChanged,fetched:a.fetched,local:null===a.fetched,perm:a.getPermission(),hidden:i.includes(e),currentserver:t&&a.isOnCurrentServer(),server:"",background:a.background};if(o.currentserver){const e=await _t(a.creator);o.owner=e.getName(),o.ownerDisplay=si(e)}else o.owner=window.PLAYER.nickname;for(const e of window.plugin.wasabee.static.publicServers)e.url===a.server&&(o.server=e.short);r.push(o)}this.sortable.items=r,await this.sortable.done,e?this.sortable.table.classList.remove("hideOps"):this.sortable.table.classList.add("hideOps")}});function Gr(){re.isLoggedIn()&&"true"===localStorage[window.plugin.wasabee.static.constants.SEND_LOCATION_KEY]&&navigator.geolocation.getCurrentPosition((async e=>{try{await Nt(e.coords.latitude,e.coords.longitude),console.debug(Re("LOCATION SUB"))}catch(e){console.error(e)}}),(e=>{console.error(e)}))}async function Hr(e){let t=await j.getAll(e);e.startBatchMode();for(const a of t)e._addPortal(new se({id:a.from,name:a.fromPortal.name,lat:a.fromPortal.lat,lng:a.fromPortal.lng})),e._addPortal(new se({id:a.to,name:a.toPortal.name,lat:a.toPortal.lat,lng:a.toPortal.lng}));for(;t.length;){const a={};for(const e of t)a[e.from]||(a[e.from]=0),a[e.from]++,a[e.to]||(a[e.to]=0),a[e.to]++;for(const t of e.markers)t.type===ie.constants.MARKER_TYPE_EXCLUDE&&delete a[t.portalId];const o=Object.entries(a).reduce(((e,t)=>e[1]<t[1]?t:e),[null,0])[0];if(!o)break;let n=e.getPortal(o);if(n||(n=Xe(o)),!n){Ie(Re("AUTOMARK STOP"));break}let i=ie.constants.MARKER_TYPE_DESTROY;"E"==je(n)&&(i=ie.constants.MARKER_TYPE_VIRUS);const r=e.determineZone(n.latLng);e.addMarker(i,n,{comment:"auto-marked",zone:r}),t=t.filter((e=>e.from!==o&&e.to!==o)),await j.removeBlocker(e,o)}e.cleanAll(),e.endBatchMode()}const zr=Ht.extend({statics:{TYPE:"authDialog"},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),"true"===localStorage[window.plugin.wasabee.static.constants.SEND_LOCATION_KEY]&&Gr()},_successLogin:function(e){e.store(),window.map.fire("wasabee:login"),this.closeDialog(),yr().then((e=>{e&&Ie(ye("SYNC DONE"))})),e.querytoken&&function(e,t,a){const o=new FormData;o.append("name",e),o.append("faction",t),o.append("qt",a),Ut("/api/v1/me/intelid",o)}(window.PLAYER.nickname,window.PLAYER.team,e.querytoken)},_displayDialog:function(){if(window.gapi.auth2.getAuthInstance())return void Pe(ye("AUTH INCOMPAT"));const e=L.DomUtil.create("div","content");this._server=L.DomUtil.create("input","",e),this._server.readOnly=!0,this._server.value=Ot();const t=L.DomUtil.create("div","useragent",e);this._android=!1,this._ios=!1,-1!=navigator.userAgent.search("Iceweasel/")&&(this._android=!0),-1!=navigator.userAgent.search("Linux; Android")&&(this._android=!0),-1==navigator.userAgent.search("iPhone")&&-1==navigator.userAgent.search("iPad")||(this._ios=!0,this._android=!1,-1==navigator.userAgent.search("Safari/")&&(t.textContent=ye("IOS NEED FAKE UA")));const a=L.DomUtil.create("button","gapi",e);if(a.textContent=ye("LOG IN"),L.DomEvent.on(a,"click",(e=>{L.DomEvent.stop(e),a.disabled=!0,a.textContent="... loading ...",this.gapiAuth()})),!this._android&&!this._ios){const t=L.DomUtil.create("button","gapi",e);t.textContent=ye("AUTH_SELECT_ACCOUNT"),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),t.disabled=!0,t.textContent="... loading ...",this.gsapiAuthChoose()}))}const o=L.DomUtil.create("button","server",e);o.textContent=ye("CHANGE SERVER"),L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e);const t=new sr({title:ye("CHANGE SERVER"),label:ye("CHANGE SERVER PROMPT"),suggestions:window.plugin.wasabee.static.publicServers.map((e=>({text:`${e.name} (${e.url})`,value:e.url}))),callback:()=>{t.inputField.value&&(Dt(t.inputField.value),this._server.value=Ot(),re.purge()),window.map.fire("wasabee:defensivekeys")},placeholder:Ot()});t.enable()}));const n=L.DomUtil.create("button","server",e);n.textContent=ye("dialog.auth.ott.button"),L.DomEvent.on(n,"click",(e=>{L.DomEvent.stop(e);const t=L.DomUtil.create("span");t.innerHTML=ye("dialog.auth.ott.text",{url:`${D.WEBUI_DEFAULT}/#/settings`});const a=new sr({title:ye("dialog.auth.ott.title"),label:t,callback:async()=>{if(a.inputField.value)try{const e=await async function(e){const t=await function(e){const t=new FormData;return t.append("token",e),xt("/oneTimeToken",t)}(e);return t&&t.jwt&&At(t.jwt),t?new re(t):wt(!0)}(a.inputField.value);this._successLogin(e),Et({id:"wasabeeLogin",method:"One Time Token"})}catch(e){console.error(e),Pe(e)}window.map.fire("wasabee:defensivekeys")},placeholder:"smurf-tears-4twn"});a.enable()}));const i={};i[ye("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:ye("AUTH REQUIRED"),html:e,width:"auto",dialogClass:"auth",buttons:i,id:window.plugin.wasabee.static.dialogNames.mustauth})},gapiAuth:async function(){try{const e=await vt(!1),t=await St(e);Et({id:"wasabeeLogin",method:"gapiAuth"}),this._successLogin(t)}catch(e){this.disable(),this.enable(),e instanceof xe?Pe(ye("AUTH TOKEN REJECTED",{error:e.toString()})):(Pe(e),Et({id:"exception",error:e}))}},gsapiAuthChoose:async function(){try{const e=await vt(!0),t=await St(e);Et({id:"wasabeeLogin",method:"gsapiAuthChoose"}),this._successLogin(t)}catch(e){this.disable(),this.enable(),e instanceof xe?Pe(ye("AUTH TOKEN REJECTED",{error:e.toString()})):(Pe(e),Et({id:"exception",error:e}))}}}),Fr=Ht.extend({statics:{TYPE:"importDialog"},addHooks:function(){this._autoload=!1,"true"===localStorage[window.plugin.wasabee.static.constants.AUTO_LOAD_FAKED]&&(this._autoload=!0),Ht.prototype.addHooks.call(this),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this)},_displayDialog:function(){const e=L.DomUtil.create("div",null);e.style.width="420px";const t=L.DomUtil.create("span",null,e),a=L.DomUtil.create("label",null,t);a.textContent=Re("NAME"),this._namefield=L.DomUtil.create("input",null,a),this._namefield.value=Re("IMPORT_OP")+(new Date).toGMTString(),this._namefield.placeholder="noodles",L.DomUtil.create("span",null,t).textContent=Re("ONLY_DT_IMP"),this._textarea=L.DomUtil.create("textarea",null,e),this._textarea.placeholder=Re("PASTE_INSTRUCT");const o={};o[Re("OK")]=()=>{this.importTextareaAsOp(),window.map.fire("wasabee:crosslinks"),this.closeDialog()},o[Re("GET DT")]=()=>{this.drawToolsFormat()},o[Re("dialog.import.url")]=()=>{this.fillFromURL()},this.createDialog({title:Re("IMP_WAS_OP"),html:e,width:"auto",dialogClass:"import",buttons:o,id:window.plugin.wasabee.static.dialogNames.importDialog})},drawToolsFormat(){const e=window.plugin.drawTools?localStorage[window.plugin.drawTools.KEY_STORAGE]:void 0;e?this._textarea.value=e:this._textarea.placeholder=Re("NO_DT_ITEMS")},fillFromURL(){const e=new sr({title:Re("dialog.import.url"),label:"URL",callback:async()=>{try{const t=new URL(e.inputField.value.trim()),a=await fetch(t,{mode:"cors"});this._textarea.value=await a.text()}catch(e){return void Pe("Unable to fetch data from the given url.")}}});e.enable()},async importTextareaAsOp(){let e=this._textarea.value;if(e.match(new RegExp("^(https?://)?(www|intel)\\.ingress\\.com/(intel)?.*")))Pe(Re("NO_STOCK_INTEL"));else{if(e.match(new RegExp(".*(polyline|polygon).*"))){console.log("trying to import IITC Drawtools format... wish me luck");const t=this.parseDrawTools(e);return this._namefield.value?t.name=this._namefield.value:t.name=Re("IMPORT_OP_TITLE",{date:(new Date).toGMTString()}),await t.store(),await ze(t.ID),(new Mi).enable(),void Nr(t)}try{const t=JSON.parse(e),a=new Se(t);await Se.load(a.ID)?(Pe(Re("IMP_NOPE",{error:"op already exists, either delete it or duplicate"})),await ze(a.ID)):(await a.store(),await ze(a.ID),Ie(Re("IMPORT_OP_SUCCESS",{opName:a.name})))}catch(e){console.error("WasabeeTools: failed to import data",e),Pe(Re("IMP_NOPE",{error:"data invalid"}))}}},parseDrawTools(e){const t=new Se({creator:PLAYER.nickname,name:"draw tools imported"});t.startBatchMode();let a=null;try{a=JSON.parse(e)}catch(e){return console.error("Failed parseDrawTools",e),Pe(e),null}let o=!1;for(const e of a)if("polyline"==e.type||"polygon"==e.type)if(o){if(o!==e.color){o=!1;break}}else o=e.color;const n=this.buildWindowPortalMap();let i=0,r=0;for(const e of a){if("polyline"!=e.type&&"polygon"!=e.type)continue;let a=!1,s=!1;for(const l of e.latLngs){const c={lat:l.lat.toFixed(6),lng:l.lng.toFixed(6)};let d=t.getPortalByLatLng(c.lat,c.lng);if(d||(d=this.searchWindowPortals(c,n),d&&(t.addPortal(d),r++)),!d){const e=se.fake(c.lat,c.lng);t.addPortal(e),d=e,i++}d&&a&&t.addLink(a,d,{color:o?"main":e.color}),a=d,s||(s=d)}"polygon"==e.type&&s&&a&&s!=a&&t.addLink(a,s,{color:o?"main":e.color})}return Ie(Re("dialog.import.success_message",{count:r,faked:i})),t._batchmode=!1,t},buildWindowPortalMap(){const e=new Map;for(const t in window.portals){const a=window.portals[t].getLatLng(),o=a.lat.toFixed(6)+"/"+a.lng.toFixed(6);e.set(o,t)}return e},searchWindowPortals(e,t){const a=e.lat+"/"+e.lng;if(t.has(a)){const o=t.get(a);return se.fake(e.lat,e.lng,o)}return!1}}),Wr=Fr,Yr=sr.extend({statics:{TYPE:"newopButton"},_displayDialog:function(){const e={};e[Re("OK")]=()=>{this._submit()},e[Re("IMPORT_OP")]=()=>{this.closeDialog(),new Wr(null).enable()},e[Re("CANCEL")]=()=>{this.options.cancelCallback&&this.options.cancelCallback(),this.closeDialog()},L.setOptions(this,{title:Re("NEW_OP"),label:Re("SET_NEW_OP"),callback:async()=>{if(this.inputField.value){const e=new Se({creator:PLAYER.nickname,name:this.inputField.value});await e.store(),await ze(e.ID)}else Pe(Re("OP_NAME_UNSET"))},placeholder:Re("MUST_NOT_BE_EMPTY"),nonEmpty:!0}),this.createDialog({title:this.options.title,html:this._buildContent(),width:"auto",dialogClass:"prompt",buttons:e,id:window.plugin.wasabee.static.dialogNames.newopButton,autofocus:!0})}});function Zr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function qr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(a),!0).forEach((function(t){jr(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Vr(e){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(e)}function jr(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Qr(){return Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},Qr.apply(this,arguments)}function Jr(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Xr(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var $r=Xr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),es=Xr(/Edge/i),ts=Xr(/firefox/i),as=Xr(/safari/i)&&!Xr(/chrome/i)&&!Xr(/android/i),os=Xr(/iP(ad|od|hone)/i),ns=Xr(/chrome/i)&&Xr(/android/i),is={capture:!1,passive:!1};function rs(e,t,a){e.addEventListener(t,a,!$r&&is)}function ss(e,t,a){e.removeEventListener(t,a,!$r&&is)}function ls(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function cs(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ds(e,t,a,o){if(e){a=a||document;do{if(null!=t&&(">"===t[0]?e.parentNode===a&&ls(e,t):ls(e,t))||o&&e===a)return e;if(e===a)break}while(e=cs(e))}return null}var us,ps=/\s+/g;function ms(e,t,a){if(e&&t)if(e.classList)e.classList[a?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(ps," ").replace(" "+t+" "," ");e.className=(o+(a?" "+t:"")).replace(ps," ")}}function hs(e,t,a){var o=e&&e.style;if(o){if(void 0===a)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(a=e.currentStyle),void 0===t?a:a[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=a+("string"==typeof a?"":"px")}}function gs(e,t){var a="";if("string"==typeof e)a=e;else do{var o=hs(e,"transform");o&&"none"!==o&&(a=o+" "+a)}while(!t&&(e=e.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(a)}function fs(e,t,a){if(e){var o=e.getElementsByTagName(t),n=0,i=o.length;if(a)for(;n<i;n++)a(o[n],n);return o}return[]}function Es(){return document.scrollingElement||document.documentElement}function _s(e,t,a,o,n){if(e.getBoundingClientRect||e===window){var i,r,s,l,c,d,u;if(e!==window&&e.parentNode&&e!==Es()?(r=(i=e.getBoundingClientRect()).top,s=i.left,l=i.bottom,c=i.right,d=i.height,u=i.width):(r=0,s=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||a)&&e!==window&&(n=n||e.parentNode,!$r))do{if(n&&n.getBoundingClientRect&&("none"!==hs(n,"transform")||a&&"static"!==hs(n,"position"))){var p=n.getBoundingClientRect();r-=p.top+parseInt(hs(n,"border-top-width")),s-=p.left+parseInt(hs(n,"border-left-width")),l=r+i.height,c=s+i.width;break}}while(n=n.parentNode);if(o&&e!==window){var m=gs(n||e),h=m&&m.a,g=m&&m.d;m&&(l=(r/=g)+(d/=g),c=(s/=h)+(u/=h))}return{top:r,left:s,bottom:l,right:c,width:u,height:d}}}function ws(e,t,a){for(var o=ks(e,!0),n=_s(e)[t];o;){var i=_s(o)[a];if(!("top"===a||"left"===a?n>=i:n<=i))return o;if(o===Es())break;o=ks(o,!1)}return!1}function bs(e,t,a,o){for(var n=0,i=0,r=e.children;i<r.length;){if("none"!==r[i].style.display&&r[i]!==vl.ghost&&(o||r[i]!==vl.dragged)&&ds(r[i],a.draggable,e,!1)){if(n===t)return r[i];n++}i++}return null}function Ts(e,t){for(var a=e.lastElementChild;a&&(a===vl.ghost||"none"===hs(a,"display")||t&&!ls(a,t));)a=a.previousElementSibling;return a||null}function As(e,t){var a=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===vl.clone||t&&!ls(e,t)||a++;return a}function Ls(e){var t=0,a=0,o=Es();if(e)do{var n=gs(e),i=n.a,r=n.d;t+=e.scrollLeft*i,a+=e.scrollTop*r}while(e!==o&&(e=e.parentNode));return[t,a]}function ks(e,t){if(!e||!e.getBoundingClientRect)return Es();var a=e,o=!1;do{if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var n=hs(a);if(a.clientWidth<a.scrollWidth&&("auto"==n.overflowX||"scroll"==n.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==n.overflowY||"scroll"==n.overflowY)){if(!a.getBoundingClientRect||a===document.body)return Es();if(o||t)return a;o=!0}}}while(a=a.parentNode);return Es()}function Ss(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function vs(e,t){return function(){if(!us){var a=arguments,o=this;1===a.length?e.call(o,a[0]):e.apply(o,a),us=setTimeout((function(){us=void 0}),t)}}}function Os(e,t,a){e.scrollLeft+=t,e.scrollTop+=a}function Ds(e){var t=window.Polymer,a=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):a?a(e).clone(!0)[0]:e.cloneNode(!0)}var Ns="Sortable"+(new Date).getTime();var Cs=[],ys={initializeByDefault:!0},Rs={mount:function(e){for(var t in ys)ys.hasOwnProperty(t)&&!(t in e)&&(e[t]=ys[t]);Cs.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Cs.push(e)},pluginEvent:function(e,t,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var n=e+"Global";Cs.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][n]&&t[o.pluginName][n](qr({sortable:t},a)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](qr({sortable:t},a)))}))},initializePlugins:function(e,t,a,o){for(var n in Cs.forEach((function(o){var n=o.pluginName;if(e.options[n]||o.initializeByDefault){var i=new o(e,t,e.options);i.sortable=e,i.options=e.options,e[n]=i,Qr(a,i.defaults)}})),e.options)if(e.options.hasOwnProperty(n)){var i=this.modifyOption(e,n,e.options[n]);void 0!==i&&(e.options[n]=i)}},getEventProperties:function(e,t){var a={};return Cs.forEach((function(o){"function"==typeof o.eventProperties&&Qr(a,o.eventProperties.call(t[o.pluginName],e))})),a},modifyOption:function(e,t,a){var o;return Cs.forEach((function(n){e[n.pluginName]&&n.optionListeners&&"function"==typeof n.optionListeners[t]&&(o=n.optionListeners[t].call(e[n.pluginName],a))})),o}};var Is=["evt"],Ms=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.evt,n=Jr(a,Is);Rs.pluginEvent.bind(vl)(e,t,qr({dragEl:xs,parentEl:Us,ghostEl:Bs,rootEl:Ks,nextEl:Gs,lastDownEl:Hs,cloneEl:zs,cloneHidden:Fs,dragStarted:al,putSortable:js,activeSortable:vl.active,originalEvent:o,oldIndex:Ws,oldDraggableIndex:Zs,newIndex:Ys,newDraggableIndex:qs,hideGhostForTarget:Al,unhideGhostForTarget:Ll,cloneNowHidden:function(){Fs=!0},cloneNowShown:function(){Fs=!1},dispatchSortableEvent:function(e){Ps({sortable:t,name:e,originalEvent:o})}},n))};function Ps(e){!function(e){var t=e.sortable,a=e.rootEl,o=e.name,n=e.targetEl,i=e.cloneEl,r=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,p=e.originalEvent,m=e.putSortable,h=e.extraEventProperties;if(t=t||a&&a[Ns]){var g,f=t.options,E="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||$r||es?(g=document.createEvent("Event")).initEvent(o,!0,!0):g=new CustomEvent(o,{bubbles:!0,cancelable:!0}),g.to=r||a,g.from=s||a,g.item=n||a,g.clone=i,g.oldIndex=l,g.newIndex=c,g.oldDraggableIndex=d,g.newDraggableIndex=u,g.originalEvent=p,g.pullMode=m?m.lastPutMode:void 0;var _=qr(qr({},h),Rs.getEventProperties(o,t));for(var w in _)g[w]=_[w];a&&a.dispatchEvent(g),f[E]&&f[E].call(t,g)}}(qr({putSortable:js,cloneEl:zs,targetEl:xs,rootEl:Ks,oldIndex:Ws,oldDraggableIndex:Zs,newIndex:Ys,newDraggableIndex:qs},e))}var xs,Us,Bs,Ks,Gs,Hs,zs,Fs,Ws,Ys,Zs,qs,Vs,js,Qs,Js,Xs,$s,el,tl,al,ol,nl,il,rl,sl=!1,ll=!1,cl=[],dl=!1,ul=!1,pl=[],ml=!1,hl=[],gl="undefined"!=typeof document,fl=os,El=es||$r?"cssFloat":"float",_l=gl&&!ns&&!os&&"draggable"in document.createElement("div"),wl=function(){if(gl){if($r)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),bl=function(e,t){var a=hs(e),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),n=bs(e,0,t),i=bs(e,1,t),r=n&&hs(n),s=i&&hs(i),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+_s(n).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+_s(i).width;if("flex"===a.display)return"column"===a.flexDirection||"column-reverse"===a.flexDirection?"vertical":"horizontal";if("grid"===a.display)return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(n&&r.float&&"none"!==r.float){var d="left"===r.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==d?"horizontal":"vertical"}return n&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||l>=o&&"none"===a[El]||i&&"none"===a[El]&&l+c>o)?"vertical":"horizontal"},Tl=function(e){function t(e,a){return function(o,n,i,r){var s=o.options.group.name&&n.options.group.name&&o.options.group.name===n.options.group.name;if(null==e&&(a||s))return!0;if(null==e||!1===e)return!1;if(a&&"clone"===e)return e;if("function"==typeof e)return t(e(o,n,i,r),a)(o,n,i,r);var l=(a?o:n).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var a={},o=e.group;o&&"object"==Vr(o)||(o={name:o}),a.name=o.name,a.checkPull=t(o.pull,!0),a.checkPut=t(o.put),a.revertClone=o.revertClone,e.group=a},Al=function(){!wl&&Bs&&hs(Bs,"display","none")},Ll=function(){!wl&&Bs&&hs(Bs,"display","")};gl&&!ns&&document.addEventListener("click",(function(e){if(ll)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ll=!1,!1}),!0);var kl=function(e){if(xs){e=e.touches?e.touches[0]:e;var t=(n=e.clientX,i=e.clientY,cl.some((function(e){var t=e[Ns].options.emptyInsertThreshold;if(t&&!Ts(e)){var a=_s(e),o=n>=a.left-t&&n<=a.right+t,s=i>=a.top-t&&i<=a.bottom+t;return o&&s?r=e:void 0}})),r);if(t){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[Ns]._onDragOver(a)}}var n,i,r},Sl=function(e){xs&&xs.parentNode[Ns]._isOutsideThisEl(e.target)};function vl(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Qr({},t),e[Ns]=this;var a,o,n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return bl(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==vl.supportPointer&&"PointerEvent"in window&&!as,emptyInsertThreshold:5};for(var i in Rs.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var r in Tl(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&_l,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?rs(e,"pointerdown",this._onTapStart):(rs(e,"mousedown",this._onTapStart),rs(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(rs(e,"dragover",this),rs(e,"dragenter",this)),cl.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Qr(this,(o=[],{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==hs(e,"display")&&e!==vl.ghost){o.push({target:e,rect:_s(e)});var t=qr({},o[o.length-1].rect);if(e.thisAnimationDuration){var a=gs(e,!0);a&&(t.top-=a.f,t.left-=a.e)}e.fromRect=t}}))},addAnimationState:function(e){o.push(e)},removeAnimationState:function(e){o.splice(function(e,t){for(var a in e)if(e.hasOwnProperty(a))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[a][o])return Number(a);return-1}(o,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(a),void("function"==typeof e&&e());var n=!1,i=0;o.forEach((function(e){var a=0,o=e.target,r=o.fromRect,s=_s(o),l=o.prevFromRect,c=o.prevToRect,d=e.rect,u=gs(o,!0);u&&(s.top-=u.f,s.left-=u.e),o.toRect=s,o.thisAnimationDuration&&Ss(l,s)&&!Ss(r,s)&&(d.top-s.top)/(d.left-s.left)==(r.top-s.top)/(r.left-s.left)&&(a=function(e,t,a,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-a.top,2)+Math.pow(t.left-a.left,2))*o.animation}(d,l,c,t.options)),Ss(s,r)||(o.prevFromRect=r,o.prevToRect=s,a||(a=t.options.animation),t.animate(o,d,s,a)),a&&(n=!0,i=Math.max(i,a),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout((function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null}),a),o.thisAnimationDuration=a)})),clearTimeout(a),n?a=setTimeout((function(){"function"==typeof e&&e()}),i):"function"==typeof e&&e(),o=[]},animate:function(e,t,a,o){if(o){hs(e,"transition",""),hs(e,"transform","");var n=gs(this.el),i=n&&n.a,r=n&&n.d,s=(t.left-a.left)/(i||1),l=(t.top-a.top)/(r||1);e.animatingX=!!s,e.animatingY=!!l,hs(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),hs(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),hs(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){hs(e,"transition",""),hs(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}))}function Ol(e,t,a,o,n,i,r,s){var l,c,d=e[Ns],u=d.options.onMove;return!window.CustomEvent||$r||es?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=a,l.draggedRect=o,l.related=n||t,l.relatedRect=i||_s(t),l.willInsertAfter=s,l.originalEvent=r,e.dispatchEvent(l),u&&(c=u.call(d,l,r)),c}function Dl(e){e.draggable=!1}function Nl(){ml=!1}function Cl(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,a=t.length,o=0;a--;)o+=t.charCodeAt(a);return o.toString(36)}function yl(e){return setTimeout(e,0)}function Rl(e){return clearTimeout(e)}vl.prototype={constructor:vl,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ol=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,xs):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,a=this.el,o=this.options,n=o.preventOnFilter,i=e.type,r=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(r||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=o.filter;if(function(e){hl.length=0;for(var t=e.getElementsByTagName("input"),a=t.length;a--;){var o=t[a];o.checked&&hl.push(o)}}(a),!xs&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||o.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!as||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=ds(s,o.draggable,a,!1))&&s.animated||Hs===s)){if(Ws=As(s),Zs=As(s,o.draggable),"function"==typeof c){if(c.call(this,e,s,this))return Ps({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:a,fromEl:a}),Ms("filter",t,{evt:e}),void(n&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=ds(l,o.trim(),a,!1))return Ps({sortable:t,rootEl:o,name:"filter",targetEl:s,fromEl:a,toEl:a}),Ms("filter",t,{evt:e}),!0}))))return void(n&&e.cancelable&&e.preventDefault());o.handle&&!ds(l,o.handle,a,!1)||this._prepareDragStart(e,r,s)}}},_prepareDragStart:function(e,t,a){var o,n=this,i=n.el,r=n.options,s=i.ownerDocument;if(a&&!xs&&a.parentNode===i){var l=_s(a);if(Ks=i,Us=(xs=a).parentNode,Gs=xs.nextSibling,Hs=a,Vs=r.group,vl.dragged=xs,Qs={target:xs,clientX:(t||e).clientX,clientY:(t||e).clientY},el=Qs.clientX-l.left,tl=Qs.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,xs.style["will-change"]="all",o=function(){Ms("delayEnded",n,{evt:e}),vl.eventCanceled?n._onDrop():(n._disableDelayedDragEvents(),!ts&&n.nativeDraggable&&(xs.draggable=!0),n._triggerDragStart(e,t),Ps({sortable:n,name:"choose",originalEvent:e}),ms(xs,r.chosenClass,!0))},r.ignore.split(",").forEach((function(e){fs(xs,e.trim(),Dl)})),rs(s,"dragover",kl),rs(s,"mousemove",kl),rs(s,"touchmove",kl),rs(s,"mouseup",n._onDrop),rs(s,"touchend",n._onDrop),rs(s,"touchcancel",n._onDrop),ts&&this.nativeDraggable&&(this.options.touchStartThreshold=4,xs.draggable=!0),Ms("delayStart",this,{evt:e}),!r.delay||r.delayOnTouchOnly&&!t||this.nativeDraggable&&(es||$r))o();else{if(vl.eventCanceled)return void this._onDrop();rs(s,"mouseup",n._disableDelayedDrag),rs(s,"touchend",n._disableDelayedDrag),rs(s,"touchcancel",n._disableDelayedDrag),rs(s,"mousemove",n._delayedDragTouchMoveHandler),rs(s,"touchmove",n._delayedDragTouchMoveHandler),r.supportPointer&&rs(s,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(o,r.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){xs&&Dl(xs),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ss(e,"mouseup",this._disableDelayedDrag),ss(e,"touchend",this._disableDelayedDrag),ss(e,"touchcancel",this._disableDelayedDrag),ss(e,"mousemove",this._delayedDragTouchMoveHandler),ss(e,"touchmove",this._delayedDragTouchMoveHandler),ss(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?rs(document,"pointermove",this._onTouchMove):rs(document,t?"touchmove":"mousemove",this._onTouchMove):(rs(xs,"dragend",this),rs(Ks,"dragstart",this._onDragStart));try{document.selection?yl((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(sl=!1,Ks&&xs){Ms("dragStarted",this,{evt:t}),this.nativeDraggable&&rs(document,"dragover",Sl);var a=this.options;!e&&ms(xs,a.dragClass,!1),ms(xs,a.ghostClass,!0),vl.active=this,e&&this._appendGhost(),Ps({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Js){this._lastX=Js.clientX,this._lastY=Js.clientY,Al();for(var e=document.elementFromPoint(Js.clientX,Js.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Js.clientX,Js.clientY))!==t;)t=e;if(xs.parentNode[Ns]._isOutsideThisEl(e),t)do{if(t[Ns]&&t[Ns]._onDragOver({clientX:Js.clientX,clientY:Js.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Ll()}},_onTouchMove:function(e){if(Qs){var t=this.options,a=t.fallbackTolerance,o=t.fallbackOffset,n=e.touches?e.touches[0]:e,i=Bs&&gs(Bs,!0),r=Bs&&i&&i.a,s=Bs&&i&&i.d,l=fl&&rl&&Ls(rl),c=(n.clientX-Qs.clientX+o.x)/(r||1)+(l?l[0]-pl[0]:0)/(r||1),d=(n.clientY-Qs.clientY+o.y)/(s||1)+(l?l[1]-pl[1]:0)/(s||1);if(!vl.active&&!sl){if(a&&Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(Bs){i?(i.e+=c-(Xs||0),i.f+=d-($s||0)):i={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");hs(Bs,"webkitTransform",u),hs(Bs,"mozTransform",u),hs(Bs,"msTransform",u),hs(Bs,"transform",u),Xs=c,$s=d,Js=n}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Bs){var e=this.options.fallbackOnBody?document.body:Ks,t=_s(xs,!0,fl,!0,e),a=this.options;if(fl){for(rl=e;"static"===hs(rl,"position")&&"none"===hs(rl,"transform")&&rl!==document;)rl=rl.parentNode;rl!==document.body&&rl!==document.documentElement?(rl===document&&(rl=Es()),t.top+=rl.scrollTop,t.left+=rl.scrollLeft):rl=Es(),pl=Ls(rl)}ms(Bs=xs.cloneNode(!0),a.ghostClass,!1),ms(Bs,a.fallbackClass,!0),ms(Bs,a.dragClass,!0),hs(Bs,"transition",""),hs(Bs,"transform",""),hs(Bs,"box-sizing","border-box"),hs(Bs,"margin",0),hs(Bs,"top",t.top),hs(Bs,"left",t.left),hs(Bs,"width",t.width),hs(Bs,"height",t.height),hs(Bs,"opacity","0.8"),hs(Bs,"position",fl?"absolute":"fixed"),hs(Bs,"zIndex","100000"),hs(Bs,"pointerEvents","none"),vl.ghost=Bs,e.appendChild(Bs),hs(Bs,"transform-origin",el/parseInt(Bs.style.width)*100+"% "+tl/parseInt(Bs.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,o=e.dataTransfer,n=a.options;Ms("dragStart",this,{evt:e}),vl.eventCanceled?this._onDrop():(Ms("setupClone",this),vl.eventCanceled||((zs=Ds(xs)).removeAttribute("id"),zs.draggable=!1,zs.style["will-change"]="",this._hideClone(),ms(zs,this.options.chosenClass,!1),vl.clone=zs),a.cloneId=yl((function(){Ms("clone",a),vl.eventCanceled||(a.options.removeCloneOnHide||Ks.insertBefore(zs,xs),a._hideClone(),Ps({sortable:a,name:"clone"}))})),!t&&ms(xs,n.dragClass,!0),t?(ll=!0,a._loopId=setInterval(a._emulateDragOver,50)):(ss(document,"mouseup",a._onDrop),ss(document,"touchend",a._onDrop),ss(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",n.setData&&n.setData.call(a,o,xs)),rs(document,"drop",a),hs(xs,"transform","translateZ(0)")),sl=!0,a._dragStartId=yl(a._dragStarted.bind(a,t,e)),rs(document,"selectstart",a),al=!0,as&&hs(document.body,"user-select","none"))},_onDragOver:function(e){var t,a,o,n,i=this.el,r=e.target,s=this.options,l=s.group,c=vl.active,d=Vs===l,u=s.sort,p=js||c,m=this,h=!1;if(!ml){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),r=ds(r,s.draggable,i,!0),N("dragOver"),vl.eventCanceled)return h;if(xs.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return y(!1);if(ll=!1,c&&!s.disabled&&(d?u||(o=Us!==Ks):js===this||(this.lastPutMode=Vs.checkPull(this,c,xs,e))&&l.checkPut(this,c,xs,e))){if(n="vertical"===this._getDirection(e,r),t=_s(xs),N("dragOverValid"),vl.eventCanceled)return h;if(o)return Us=Ks,C(),this._hideClone(),N("revert"),vl.eventCanceled||(Gs?Ks.insertBefore(xs,Gs):Ks.appendChild(xs)),y(!0);var g=Ts(i,s.draggable);if(!g||function(e,t,a){var o=_s(Ts(a.el,a.options.draggable));return t?e.clientX>o.right+10||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+10}(e,n,this)&&!g.animated){if(g===xs)return y(!1);if(g&&i===e.target&&(r=g),r&&(a=_s(r)),!1!==Ol(Ks,i,xs,t,r,a,e,!!r))return C(),g&&g.nextSibling?i.insertBefore(xs,g.nextSibling):i.appendChild(xs),Us=i,R(),y(!0)}else if(g&&function(e,t,a){var o=_s(bs(a.el,0,a.options,!0));return t?e.clientX<o.left-10||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-10||e.clientY<o.bottom&&e.clientX<o.left}(e,n,this)){var f=bs(i,0,s,!0);if(f===xs)return y(!1);if(a=_s(r=f),!1!==Ol(Ks,i,xs,t,r,a,e,!1))return C(),i.insertBefore(xs,f),Us=i,R(),y(!0)}else if(r.parentNode===i){a=_s(r);var E,_,w,b=xs.parentNode!==i,T=!function(e,t,a){var o=a?e.left:e.top,n=a?e.right:e.bottom,i=a?e.width:e.height,r=a?t.left:t.top,s=a?t.right:t.bottom,l=a?t.width:t.height;return o===r||n===s||o+i/2===r+l/2}(xs.animated&&xs.toRect||t,r.animated&&r.toRect||a,n),A=n?"top":"left",L=ws(r,"top","top")||ws(xs,"top","top"),k=L?L.scrollTop:void 0;if(ol!==r&&(_=a[A],dl=!1,ul=!T&&s.invertSwap||b),E=function(e,t,a,o,n,i,r,s){var l=o?e.clientY:e.clientX,c=o?a.height:a.width,d=o?a.top:a.left,u=o?a.bottom:a.right,p=!1;if(!r)if(s&&il<c*n){if(!dl&&(1===nl?l>d+c*i/2:l<u-c*i/2)&&(dl=!0),dl)p=!0;else if(1===nl?l<d+il:l>u-il)return-nl}else if(l>d+c*(1-n)/2&&l<u-c*(1-n)/2)return function(e){return As(xs)<As(e)?1:-1}(t);return(p=p||r)&&(l<d+c*i/2||l>u-c*i/2)?l>d+c/2?1:-1:0}(e,r,a,n,T?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,ul,ol===r),0!==E){var S=As(xs);do{S-=E,w=Us.children[S]}while(w&&("none"===hs(w,"display")||w===Bs))}if(0===E||w===r)return y(!1);ol=r,nl=E;var v=r.nextElementSibling,O=!1,D=Ol(Ks,i,xs,t,r,a,e,O=1===E);if(!1!==D)return 1!==D&&-1!==D||(O=1===D),ml=!0,setTimeout(Nl,30),C(),O&&!v?i.appendChild(xs):r.parentNode.insertBefore(xs,O?v:r),L&&Os(L,0,k-L.scrollTop),Us=xs.parentNode,void 0===_||ul||(il=Math.abs(_-_s(r)[A])),R(),y(!0)}if(i.contains(xs))return y(!1)}return!1}function N(s,l){Ms(s,m,qr({evt:e,isOwner:d,axis:n?"vertical":"horizontal",revert:o,dragRect:t,targetRect:a,canSort:u,fromSortable:p,target:r,completed:y,onMove:function(a,o){return Ol(Ks,i,xs,t,a,_s(a),e,o)},changed:R},l))}function C(){N("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function y(t){return N("dragOverCompleted",{insertion:t}),t&&(d?c._hideClone():c._showClone(m),m!==p&&(ms(xs,js?js.options.ghostClass:c.options.ghostClass,!1),ms(xs,s.ghostClass,!0)),js!==m&&m!==vl.active?js=m:m===vl.active&&js&&(js=null),p===m&&(m._ignoreWhileAnimating=r),m.animateAll((function(){N("dragOverAnimationComplete"),m._ignoreWhileAnimating=null})),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(r===xs&&!xs.animated||r===i&&!r.animated)&&(ol=null),s.dragoverBubble||e.rootEl||r===document||(xs.parentNode[Ns]._isOutsideThisEl(e.target),!t&&kl(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),h=!0}function R(){Ys=As(xs),qs=As(xs,s.draggable),Ps({sortable:m,name:"change",toEl:i,newIndex:Ys,newDraggableIndex:qs,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){ss(document,"mousemove",this._onTouchMove),ss(document,"touchmove",this._onTouchMove),ss(document,"pointermove",this._onTouchMove),ss(document,"dragover",kl),ss(document,"mousemove",kl),ss(document,"touchmove",kl)},_offUpEvents:function(){var e=this.el.ownerDocument;ss(e,"mouseup",this._onDrop),ss(e,"touchend",this._onDrop),ss(e,"pointerup",this._onDrop),ss(e,"touchcancel",this._onDrop),ss(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;Ys=As(xs),qs=As(xs,a.draggable),Ms("drop",this,{evt:e}),Us=xs&&xs.parentNode,Ys=As(xs),qs=As(xs,a.draggable),vl.eventCanceled||(sl=!1,ul=!1,dl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Rl(this.cloneId),Rl(this._dragStartId),this.nativeDraggable&&(ss(document,"drop",this),ss(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),as&&hs(document.body,"user-select",""),hs(xs,"transform",""),e&&(al&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),Bs&&Bs.parentNode&&Bs.parentNode.removeChild(Bs),(Ks===Us||js&&"clone"!==js.lastPutMode)&&zs&&zs.parentNode&&zs.parentNode.removeChild(zs),xs&&(this.nativeDraggable&&ss(xs,"dragend",this),Dl(xs),xs.style["will-change"]="",al&&!sl&&ms(xs,js?js.options.ghostClass:this.options.ghostClass,!1),ms(xs,this.options.chosenClass,!1),Ps({sortable:this,name:"unchoose",toEl:Us,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ks!==Us?(Ys>=0&&(Ps({rootEl:Us,name:"add",toEl:Us,fromEl:Ks,originalEvent:e}),Ps({sortable:this,name:"remove",toEl:Us,originalEvent:e}),Ps({rootEl:Us,name:"sort",toEl:Us,fromEl:Ks,originalEvent:e}),Ps({sortable:this,name:"sort",toEl:Us,originalEvent:e})),js&&js.save()):Ys!==Ws&&Ys>=0&&(Ps({sortable:this,name:"update",toEl:Us,originalEvent:e}),Ps({sortable:this,name:"sort",toEl:Us,originalEvent:e})),vl.active&&(null!=Ys&&-1!==Ys||(Ys=Ws,qs=Zs),Ps({sortable:this,name:"end",toEl:Us,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Ms("nulling",this),Ks=xs=Us=Bs=Gs=zs=Hs=Fs=Qs=Js=al=Ys=qs=Ws=Zs=ol=nl=js=Vs=vl.dragged=vl.ghost=vl.clone=vl.active=null,hl.forEach((function(e){e.checked=!0})),hl.length=Xs=$s=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":xs&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],a=this.el.children,o=0,n=a.length,i=this.options;o<n;o++)ds(e=a[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||Cl(e));return t},sort:function(e,t){var a={},o=this.el;this.toArray().forEach((function(e,t){var n=o.children[t];ds(n,this.options.draggable,o,!1)&&(a[e]=n)}),this),t&&this.captureAnimationState(),e.forEach((function(e){a[e]&&(o.removeChild(a[e]),o.appendChild(a[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ds(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(void 0===t)return a[e];var o=Rs.modifyOption(this,e,t);a[e]=void 0!==o?o:t,"group"===e&&Tl(a)},destroy:function(){Ms("destroy",this);var e=this.el;e[Ns]=null,ss(e,"mousedown",this._onTapStart),ss(e,"touchstart",this._onTapStart),ss(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ss(e,"dragover",this),ss(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),cl.splice(cl.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Fs){if(Ms("hideClone",this),vl.eventCanceled)return;hs(zs,"display","none"),this.options.removeCloneOnHide&&zs.parentNode&&zs.parentNode.removeChild(zs),Fs=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Fs){if(Ms("showClone",this),vl.eventCanceled)return;xs.parentNode!=Ks||this.options.group.revertClone?Gs?Ks.insertBefore(zs,Gs):Ks.appendChild(zs):Ks.insertBefore(zs,xs),this.options.group.revertClone&&this.animate(xs,zs),hs(zs,"display",""),Fs=!1}}else this._hideClone()}},gl&&rs(document,"touchmove",(function(e){(vl.active||sl)&&e.cancelable&&e.preventDefault()})),vl.utils={on:rs,off:ss,css:hs,find:fs,is:function(e,t){return!!ds(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},throttle:vs,closest:ds,toggleClass:ms,clone:Ds,index:As,nextTick:yl,cancelNextTick:Rl,detectDirection:bl,getChild:bs},vl.get=function(e){return e[Ns]},vl.mount=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(vl.utils=qr(qr({},vl.utils),e.utils)),Rs.mount(e)}))},vl.create=function(e,t){return new vl(e,t)},vl.version="1.15.0";var Il,Ml,Pl,xl,Ul,Bl,Kl=[],Gl=!1;function Hl(){Kl.forEach((function(e){clearInterval(e.pid)})),Kl=[]}function zl(){clearInterval(Bl)}var Fl=vs((function(e,t,a,o){if(t.scroll){var n,i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=Es(),d=!1;Ml!==a&&(Ml=a,Hl(),Il=t.scroll,n=t.scrollFn,!0===Il&&(Il=ks(a,!0)));var u=0,p=Il;do{var m=p,h=_s(m),g=h.top,f=h.bottom,E=h.left,_=h.right,w=h.width,b=h.height,T=void 0,A=void 0,L=m.scrollWidth,k=m.scrollHeight,S=hs(m),v=m.scrollLeft,O=m.scrollTop;m===c?(T=w<L&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),A=b<k&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(T=w<L&&("auto"===S.overflowX||"scroll"===S.overflowX),A=b<k&&("auto"===S.overflowY||"scroll"===S.overflowY));var D=T&&(Math.abs(_-i)<=s&&v+w<L)-(Math.abs(E-i)<=s&&!!v),N=A&&(Math.abs(f-r)<=s&&O+b<k)-(Math.abs(g-r)<=s&&!!O);if(!Kl[u])for(var C=0;C<=u;C++)Kl[C]||(Kl[C]={});Kl[u].vx==D&&Kl[u].vy==N&&Kl[u].el===m||(Kl[u].el=m,Kl[u].vx=D,Kl[u].vy=N,clearInterval(Kl[u].pid),0==D&&0==N||(d=!0,Kl[u].pid=setInterval(function(){o&&0===this.layer&&vl.active._onTouchMove(Ul);var t=Kl[this.layer].vy?Kl[this.layer].vy*l:0,a=Kl[this.layer].vx?Kl[this.layer].vx*l:0;"function"==typeof n&&"continue"!==n.call(vl.dragged.parentNode[Ns],a,t,e,Ul,Kl[this.layer].el)||Os(Kl[this.layer].el,a,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==c&&(p=ks(p,!1)));Gl=d}}),30),Wl=function(e){var t=e.originalEvent,a=e.putSortable,o=e.dragEl,n=e.activeSortable,i=e.dispatchSortableEvent,r=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=a||n;r();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(d)&&(i("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function Yl(){}function Zl(){}Yl.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=bs(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:Wl},Qr(Yl,{pluginName:"revertOnSpill"}),Zl.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:Wl},Qr(Zl,{pluginName:"removeOnSpill"}),vl.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?rs(document,"dragover",this._handleAutoScroll):this.options.supportPointer?rs(document,"pointermove",this._handleFallbackAutoScroll):t.touches?rs(document,"touchmove",this._handleFallbackAutoScroll):rs(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?ss(document,"dragover",this._handleAutoScroll):(ss(document,"pointermove",this._handleFallbackAutoScroll),ss(document,"touchmove",this._handleFallbackAutoScroll),ss(document,"mousemove",this._handleFallbackAutoScroll)),zl(),Hl(),clearTimeout(us),us=void 0},nulling:function(){Ul=Ml=Il=Gl=Bl=Pl=xl=null,Kl.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var a=this,o=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(o,n);if(Ul=e,t||this.options.forceAutoScrollFallback||es||$r||as){Fl(e,this.options,i,t);var r=ks(i,!0);!Gl||Bl&&o===Pl&&n===xl||(Bl&&zl(),Bl=setInterval((function(){var i=ks(document.elementFromPoint(o,n),!0);i!==r&&(r=i,Hl()),Fl(e,a.options,i,t)}),10),Pl=o,xl=n)}else{if(!this.options.bubbleScroll||ks(i,!0)===Es())return void Hl();Fl(e,this.options,ks(i,!1),!1)}}},Qr(e,{pluginName:"scroll",initializeByDefault:!0})}),vl.mount(Zl,Yl);const ql=vl,Vl=Ht.extend({statics:{TYPE:"skinDialog"},initialize:function(e){Ht.prototype.initialize.call(this,e),window.plugin.wasabeeSkins||(window.plugin.wasabeeSkins={}),this._skinSet=new Set(Object.getOwnPropertyNames(window.plugin.wasabeeSkins))},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_buildContent(){const e=L.DomUtil.create("div","content");L.DomUtil.create("div","desc",e).textContent=Re("SKINS_DESCRIPTION"),L.DomUtil.create("div","desc",e).textContent=Re("SKINS_AVAILABLE",{count:this._skinSet.size});const t=L.DomUtil.create("ol","left skin-list",e),a=L.DomUtil.create("ul","right skin-list",e),o=[],n=localStorage[window.plugin.wasabee.static.constants.SKIN_KEY];try{const e=JSON.parse(n);for(const t of e)this._skinSet.has(t)&&o.push(t)}catch{this._skinSet.has(n)&&o.push(n)}const i=new Set(this._skinSet);for(const e of o)L.DomUtil.create("li","ui-icon-arrow-4",t).textContent=e,i.delete(e);for(const e of i)L.DomUtil.create("li","ui-icon-arrow-4",a).textContent=e;return new ql(a,{group:"shared"}),new ql(t,{group:"shared",onSort:()=>{o.splice(0);for(const e of t.children)o.push(e.textContent);_i(o)}}),e},_displayDialog:function(){const e=this._buildContent();this.createDialog({title:Re("SKINS_MANAGE_TITLE"),html:e,width:"auto",dialogClass:"skin",id:window.plugin.wasabee.static.dialogNames.skinDialog})}}),jl=Ht.extend({statics:{TYPE:"settings"},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this)},update:function(){this.setContent(this._getContent()),this.setTitle(Re("SETTINGS_TITLE"))},_addCheckBox(e,t,a,o,n,i){const r=L.DomUtil.create("label","checkbox",e),s=L.DomUtil.create("input","",r);s.type="checkbox",s.id=a,L.DomUtil.create("span","",r).textContent=t;const l=localStorage[o];i||"true"!==l||(s.checked=!0),i&&"false"!==l&&(s.checked=!0),L.DomEvent.on(s,"change",(e=>{L.DomEvent.stop(e),localStorage[o]=s.checked,n&&n(s.checked)}))},_addSelect(e,t,a,o,n){L.DomUtil.create("label",null,e).textContent=t;const i=L.DomUtil.create("select",null,e),r=localStorage[a];for(const[e,t]of o){const a=L.DomUtil.create("option",null,i);a.textContent=e,a.value=t,t==r&&(a.selected=!0)}L.DomEvent.on(i,"change",(e=>{L.DomEvent.stop(e),localStorage[a]=i.value,n&&n(i.value)}))},_getContent:function(){const e=L.DomUtil.create("div","container"),t=[];for(const e in window.plugin.wasabee.skin.strings)t.push([e,e]);this._addSelect(e,Re("LANG"),window.plugin.wasabee.static.constants.LANGUAGE_KEY,t,(()=>{window.map.fire("wasabee:ui:lang")})),this._addSelect(e,Re("SKIP_CONFIRM"),window.plugin.wasabee.static.constants.SKIP_CONFIRM,[[Re("SKIP_CONFIRM_NEVER"),"never"],[Re("SKIP_CONFIRM_ENTITY"),"entity"],[Re("SKIP_CONFIRM_ALWAYS"),"always"]]),window.plugin.userLocation&&this._addCheckBox(e,Re("SEND LOCATION"),"wasabee-setting-sendloc",window.plugin.wasabee.static.constants.SEND_LOCATION_KEY),this._addCheckBox(e,Re("MERGE ON UPDATE"),"wasabee-setting-rebase-update",window.plugin.wasabee.static.constants.REBASE_UPDATE_KEY,null,!0),this._addCheckBox(e,Re("AUTOLOAD"),"wasabee-setting-autoload",window.plugin.wasabee.static.constants.AUTO_LOAD_FAKED),window.isSmartphone()&&this._addCheckBox(e,Re("USE PANES ON MOBILE"),"wasabee-setting-usepanes",window.plugin.wasabee.static.constants.USE_PANES),this._addCheckBox(e,Re("dialog.settings.disable_live_updates"),"wasabee-setting-firebase",window.plugin.wasabee.static.constants.FIREBASE_DISABLE),this._addCheckBox(e,Re("SEND ANALYTICS"),"wasabee-setting-analytics",window.plugin.wasabee.static.constants.SEND_ANALYTICS_KEY),this._addSelect(e,Re("AUTOLOAD_RATE"),window.plugin.wasabee.static.constants.PORTAL_DETAIL_RATE_KEY,[1,100,250,500,750,1e3].map((e=>[e,e]))),this._addSelect(e,Re("TRAWL SKIP TILES"),window.plugin.wasabee.static.constants.TRAWL_SKIP_STEPS,[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14].map((e=>[e,e])));const a=L.DomUtil.create("button","server",e);a.textContent=Re("WSERVER",{url:Ot()}),a.href="#",L.DomEvent.on(a,"click",(e=>{L.DomEvent.stop(e),this.setServer()}));const o=L.DomUtil.create("button",null,e);return o.textContent=Re("SKINS_BUTTON"),L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),(new Vl).enable()})),e},setServer:function(){const e=new sr({title:Re("CHANGE_WAS_SERVER"),label:Re("NEW_WAS_SERVER"),suggestions:window.plugin.wasabee.static.publicServers.map((e=>({text:`${e.name} (${e.url})`,value:e.url}))),callback:()=>{e.inputField.value&&(Dt(e.inputField.value),re.purge())},placeholder:Ot()});e.enable()},_displayDialog:function(){const e=this._getContent(),t={};t[Re("OK")]=()=>{this.closeDialog()},t[Re("CLEAROPS BUTTON")]=()=>{this.closeDialog(),function(){const e=new ci({title:Re("CLEAROPS BUTTON TITLE"),label:Re("CLEAROPS PROMPT"),type:"operation",callback:()=>{!async function(){(await Z).close(),function(e,{blocked:t}={}){const a=indexedDB.deleteDatabase(e);t&&a.addEventListener("blocked",(()=>t())),K(a).then((()=>{}))}("wasabee")}();for(const e of[D.SELECTED_OP_KEY,D.OPS_LIST_KEY,D.OPS_LIST_HIDDEN_KEY,D.OPS_SHOW_HIDDEN_OPS,D.SEND_LOCATION_KEY,D.SEND_ANALYTICS_KEY,D.EXPERT_MODE_KEY,D.LANGUAGE_KEY,D.AGENT_INFO_KEY,D.MULTIMAX_UNREACHABLE_KEY,D.LINK_SOURCE_KEY,D.ANCHOR_ONE_KEY,D.ANCHOR_TWO_KEY,D.ANCHOR_THREE_KEY,D.PORTAL_DETAIL_RATE_KEY,D.SKIN_KEY,D.LAST_MARKER_KEY,D.AUTO_LOAD_FAKED,D.TRAWL_SKIP_STEPS,D.USE_PANES,D.SKIP_CONFIRM,D.SERVER_BASE_KEY,D.REBASE_UPDATE_KEY,D.FIREBASE_DISABLE])delete localStorage[e];const e=window.plugin.wasabee;e.buttons.remove(),document.querySelectorAll("#toolbox a.wasabee").forEach((e=>e.remove())),window.removeLayerGroup(e.portalLayerGroup),window.removeLayerGroup(e.linkLayerGroup),window.removeLayerGroup(e.markerLayerGroup),window.removeLayerGroup(e.agentLayerGroup),window.removeLayerGroup(e.zoneLayerGroup),window.removeLayerGroup(e.backgroundOpsGroup),window.removeLayerGroup(e.defensiveLayers),window.removeLayerGroup(e.crossLinkLayers)}});e.enable()}()},this.createDialog({title:Re("SETTINGS_TITLE"),html:e,width:"auto",dialogClass:"settings",buttons:t,id:window.plugin.wasabee.static.dialogNames.settings})}}),Ql=jl;let Jl;async function Xl(){return(await q).getAll("defensivekeys")}async function $l(){if(!1!==window.isLayerGroupDisplayed("Wasabee-D Keys")){if(console.debug("running drawWasabeeDkeys"),Jl.clearLayers(),re.isLoggedIn())try{const e=await Pt("/api/v1/d");if(!e||!e.DefensiveKeys||0==e.DefensiveKeys.length)return;window.plugin.wasabee.idb.clear("defensivekeys");for(const t of e.DefensiveKeys)try{await window.plugin.wasabee.idb.put("defensivekeys",t)}catch(e){console.error(e)}}catch(e){console.error(e)}!async function(){const e=await Xl(),t=new Set;for(const a of e)t.has(a.PortalID)||(t.add(a.PortalID),ec(a))}()}}function ec(e){Jl[e.PortalID]&&Jl[e.PortalID]._leaflet_id&&Jl.removeLayer(Jl[e.PortalID]);const t=L.marker([+e.Lat,+e.Lng],{title:e.Name,icon:L.divIcon({className:"wasabee-defense-icon",shadowUrl:null,iconSize:L.point(24,40),iconAnchor:L.point(12,40),popupAnchor:L.point(-1,-48)})});Jl[e.PortalID]=t,t.addTo(Jl),window.registerMarkerForOMS(t),t.bindPopup("loading...",{className:"wasabee-popup",closeButton:!1}),t.on("click spiderfiedclick",(async a=>{L.DomEvent.stop(a);try{const a=await async function(e){const t=L.DomUtil.create("div","wasabee-wd-popup"),a=L.DomUtil.create("ul",null,t),o=await async function(e){return(await q).getAllFromIndex("defensivekeys","PortalID",e)}(e);for(const e of o){const t=await _t(e.GID),o=L.DomUtil.create("li",null,a);t?o.appendChild(si(t)):L.DomUtil.create("span",null,o).textContent=Re("LOADING"),L.DomUtil.create("span",null,o).textContent=`:  ${e.Count} ${e.CapID}`}return t}(e.PortalID);t.setPopupContent(a),t._popup._wrapper&&t._popup._wrapper.classList.add("wasabee-popup"),t.update()}catch(e){console.error("getting wd marker popup: ",e),t.setPopupContent(e),t.update()}t.openPopup()}),t)}const tc=Ht.extend({statics:{TYPE:"wasabeeDList"},addHooks:async function(){Ht.prototype.addHooks.call(this);const e=this;this._UIUpdateHook=()=>{e.update()},this._me=await wt(),await this._displayDialog(),window.addHook("portalDetailLoaded",this._UIUpdateHook)},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.removeHook("portalDetailLoaded",this._UIUpdateHook)},update:async function(){const e=await this.getListDialogContent();this.setContent(e.table)},_displayDialog:async function(){const e=await this.getListDialogContent(),t={};t[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("WASABEE_D_LIST"),html:e.table,width:"auto",dialogClass:"wasabeedlist",buttons:t,id:window.plugin.wasabee.static.dialogNames.wasabeeDList})},getListDialogContent:async function(){const e=new hi;return e.fields=[{name:Re("PORTAL"),value:e=>e.Name?e.Name:e.PortalID,sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>{const o=new se({id:a.PortalID,name:a.Name,lat:a.Lat,lng:a.Lng});e.appendChild(Je(o))}},{name:Re("COUNT"),value:e=>e.Count,sort:(e,t)=>e-t,format:(e,t)=>{e.textContent=t}},{name:Re("CAPSULE"),value:e=>e.CapID,sort:(e,t)=>e.localeCompare(t),format:(e,t)=>{e.textContent=t}}],e.sortBy=0,e.items=await async function(e){return(await Xl()).filter((t=>t.GID==e))}(this._me.id),e}}),ac=tc,oc=Ht.extend({statics:{TYPE:"defensiveKeysDialog"},addHooks:function(){Ht.prototype.addHooks.call(this),this._me=re.localGet(),this._pch=e=>{this._portalClickedHook(e)},window.addHook("portalSelected",this._pch),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.removeHook("portalSelected",this._pch)},_portalClickedHook:async function(){if(this._selectedPortal=$e(),this._selectedPortal){this._portal.textContent="",this._portal.appendChild(Je(this._selectedPortal));const e=await async function(e,t){return(await q).get("defensivekeys",[e,t])}(this._me.id,this._selectedPortal.id);e?(this._count.value=e.Count,this._capID.value=e.CapID):(this._count.value="",this._capID.value="")}else this._portal.textContent=Re("PLEASE_SELECT_PORTAL")},_buildContent:function(){const e=L.DomUtil.create("div","container");this._portal=L.DomUtil.create("div","portal",e),this._count=L.DomUtil.create("input",null,e),this._count.placeholder="number of keys",this._count.size=3,this._capID=L.DomUtil.create("input",null,e),this._capID.placeholder="Capsule ID",this._capID.size=8;const t=L.DomUtil.create("button",null,e);t.textContent=Re("UPDATE_COUNT"),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),this._addDKey()}));const a=L.DomUtil.create("button",null,e);return a.textContent=Re("D_SHOW_LIST"),L.DomEvent.on(a,"click",(e=>{L.DomEvent.stop(e),(new ac).enable()})),this._portalClickedHook(),e},_displayDialog:function(){const e=this._buildContent(),t={};t[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("INPUT_DT_KEY_COUNT"),html:e,width:"auto",dialogClass:"wdkeys",buttons:t,id:window.plugin.wasabee.static.dialogNames.wasabeeDKeyButton})},_addDKey:async function(){const e={PortalID:this._selectedPortal.id,Count:Number(this._count.value),CapID:this._capID.value,Name:this._selectedPortal.name,Lat:this._selectedPortal.lat,Lng:this._selectedPortal.lng};try{const a=JSON.stringify(e);console.log(a),await(t=a,xt("/api/v1/d",t,"application/json;charset=UTF-8")),Ie("Registered with server"),window.map.fire("wasabee:defensivekeys")}catch(e){console.error(e),Pe(e)}var t}}),nc=Ft.extend({statics:{TYPE:"wasabeeButton"},initialize:function(e){this.type=nc.TYPE,this.title=ye("WASABEE BUTTON TITLE"),this.handler=this._toggleActions,this._container=e,this.button=this._createButton({container:e,className:"wasabee-toolbar-wasabee",callback:this.handler,context:this,title:this.title}),this._lastLoginState=!1,this._buildActions(),this.setSubActions(this.getSubActions()),window.map.on("wasabee:ui:skin wasabee:ui:lang",(()=>{this.button.title=ye("WASABEE BUTTON TITLE"),this._buildActions(),this.setSubActions(this.getSubActions())})),this.update()},getSubActions:function(){let e=[];return this._lastLoginState?(e=[this._logoutAction],e.push(this._teamAction)):e=[this._loginAction],e=e.concat(this._alwaysActions),this._lastLoginState&&(e=e.concat(this._Dactions)),e=e.concat(this._SettingsActions),e},_buildActions:function(){this._loginAction={title:ye("LOG IN"),text:ye("LOG IN"),callback:()=>{this.disable(),(new zr).enable()},context:this},this._teamAction={title:ye("TEAMS BUTTON TITLE"),text:ye("TEAMS BUTTON"),callback:()=>{this.disable(),(new mr).enable()},context:this},this._logoutAction={title:ye("LOG_OUT"),text:ye("LOG_OUT"),callback:async()=>{try{await Pt("/api/v1/me/logout")}catch(e){console.error(e),Pe(e)}re.purge(),Et({id:"wasabeeLogout"})},context:this},this._teamAction={title:ye("TEAMS BUTTON TITLE"),text:ye("TEAMS BUTTON"),callback:()=>{this.disable(),(new mr).enable()},context:this},this._alwaysActions=[{title:ye("OPS BUTTON TITLE"),text:ye("OPS BUTTON"),callback:()=>{this.disable(),(new Kr).enable()},context:this},{title:ye("NEWOP BUTTON TITLE"),text:ye("NEWOP BUTTON"),callback:()=>{this.disable(),(new Yr).enable()},context:this}],this._Dactions=[{title:ye("WD BUTTON TITLE"),text:ye("WD BUTTON"),callback:()=>{this.disable(),(new oc).enable()},context:this}],this._SettingsActions=[{title:ye("toolbar.wasabee.settings"),text:ye("toolbar.wasabee.settings"),callback:()=>{this.disable(),(new Ql).enable()},context:this}]},update:function(){const e=re.isLoggedIn();e!=this._lastLoginState&&(this._lastLoginState=e,e?this.button.classList.add("wasabee-logged-in"):this.button.classList.remove("wasabee-logged-in"),this.setSubActions(this.getSubActions()),this.disable())}}),ic=nc,rc=Ft.extend({statics:{TYPE:"syncButton"},update:function(){const e=re.isLoggedIn();this.button.style.display=e?"block":"none"},initialize:function(e){this.type=rc.TYPE,this.title=Re("SYNC"),this.button=this._createButton({container:e,className:"wasabee-toolbar-sync",context:this,title:this.title,callback:async()=>{this.button.classList.add("loading"),await yr(),this.button.classList.remove("loading")}}),window.map.on("wasabee:ui:skin wasabee:ui:lang",(()=>{this.button.title=Re("SYNC")})),window.map.on("wasabee:fullsync",(()=>{this.button.classList.remove("loading")})),window.map.on("wasabee:login",(()=>{this.button.classList.add("loading")})),this.update()}}),sc=rc;let lc="";class cc{static get separator(){return lc}static set separator(e){lc=e}static parse(e){if(!isNaN(parseFloat(e))&&isFinite(e))return Number(e);const t=String(e).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""==t[t.length-1]&&t.splice(t.length-1),""==t)return NaN;let a=null;switch(t.length){case 3:a=t[0]/1+t[1]/60+t[2]/3600;break;case 2:a=t[0]/1+t[1]/60;break;case 1:a=t[0];break;default:return NaN}return/^-|[WS]$/i.test(e.trim())&&(a=-a),Number(a)}static toDms(e,t="d",a){if(isNaN(e))return null;if("string"==typeof e&&""==e.trim())return null;if("boolean"==typeof e)return null;if(e==1/0)return null;if(null==e)return null;if(void 0===a)switch(t){case"d":case"deg":a=4;break;case"dm":case"deg+min":a=2;break;case"dms":case"deg+min+sec":a=0;break;default:t="d",a=4}e=Math.abs(e);let o=null,n=null,i=null,r=null;switch(t){default:case"d":case"deg":n=e.toFixed(a),n<100&&(n="0"+n),n<10&&(n="0"+n),o=n+"";break;case"dm":case"deg+min":n=Math.floor(e),i=(60*e%60).toFixed(a),60==i&&(i=(0).toFixed(a),n++),n=("000"+n).slice(-3),i<10&&(i="0"+i),o=n+""+cc.separator+i+"";break;case"dms":case"deg+min+sec":n=Math.floor(e),i=Math.floor(3600*e/60)%60,r=(3600*e%60).toFixed(a),60==r&&(r=(0).toFixed(a),i++),60==i&&(i=0,n++),n=("000"+n).slice(-3),i=("00"+i).slice(-2),r<10&&(r="0"+r),o=n+""+cc.separator+i+""+cc.separator+r+""}return o}static toLat(e,t,a){const o=cc.toDms(cc.wrap90(e),t,a);return null===o?"":o.slice(1)+cc.separator+(e<0?"S":"N")}static toLon(e,t,a){const o=cc.toDms(cc.wrap180(e),t,a);return null===o?"":o+cc.separator+(e<0?"W":"E")}static toBrng(e,t,a){const o=cc.toDms(cc.wrap360(e),t,a);return null===o?"":o.replace("360","0")}static fromLocale(e){const t=123456.789.toLocaleString(),a={thousands:t.slice(3,4),decimal:t.slice(7,8)};return e.replace(a.thousands,"").replace(a.decimal,".").replace("",",")}static toLocale(e){const t=123456.789.toLocaleString(),a={thousands:t.slice(3,4),decimal:t.slice(7,8)};return e.replace(/,([0-9])/,"$1").replace(".",a.decimal).replace("",a.thousands)}static compassPoint(e,t=3){if(![1,2,3].includes(Number(t)))throw new RangeError(`invalid precision ${t}`);e=cc.wrap360(e);const a=4*2**(t-1);return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(e*a/360)%a*16/a]}static wrap90(e){if(-90<=e&&e<=90)return e;const t=e;return 1*Math.abs(((t-90)%360+360)%360-180)-90}static wrap180(e){if(-180<=e&&e<=180)return e;const t=360;return((360*e/t-180)%t+t)%t-180}static wrap360(e){if(0<=e&&e<360)return e;const t=360;return(360*e/t%t+t)%t}}Number.prototype.toRadians=function(){return this*Math.PI/180},Number.prototype.toDegrees=function(){return 180*this/Math.PI};const dc=cc;class uc{constructor(e,t,a){if(isNaN(e)||isNaN(t)||isNaN(a))throw new TypeError(`invalid vector [${e},${t},${a}]`);this.x=Number(e),this.y=Number(t),this.z=Number(a)}get length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}plus(e){if(!(e instanceof uc))throw new TypeError("v is not Vector3d object");return new uc(this.x+e.x,this.y+e.y,this.z+e.z)}minus(e){if(!(e instanceof uc))throw new TypeError("v is not Vector3d object");return new uc(this.x-e.x,this.y-e.y,this.z-e.z)}times(e){if(isNaN(e))throw new TypeError(`invalid scalar value ${e}`);return new uc(this.x*e,this.y*e,this.z*e)}dividedBy(e){if(isNaN(e))throw new TypeError(`invalid scalar value ${e}`);return new uc(this.x/e,this.y/e,this.z/e)}dot(e){if(!(e instanceof uc))throw new TypeError("v is not Vector3d object");return this.x*e.x+this.y*e.y+this.z*e.z}cross(e){if(!(e instanceof uc))throw new TypeError("v is not Vector3d object");const t=this.y*e.z-this.z*e.y,a=this.z*e.x-this.x*e.z,o=this.x*e.y-this.y*e.x;return new uc(t,a,o)}negate(){return new uc(-this.x,-this.y,-this.z)}unit(){const e=this.length;if(1==e)return this;if(0==e)return this;const t=this.x/e,a=this.y/e,o=this.z/e;return new uc(t,a,o)}angleTo(e,t){if(!(e instanceof uc))throw new TypeError("v is not Vector3d object");if(!(t instanceof uc||null==t))throw new TypeError("n is not Vector3d object");const a=null==t||this.cross(e).dot(t)>=0?1:-1,o=this.cross(e).length*a,n=this.dot(e);return Math.atan2(o,n)}rotateAround(e,t){if(!(e instanceof uc))throw new TypeError("axis is not Vector3d object");const a=t.toRadians(),o=this.unit(),n=e.unit(),i=Math.sin(a),r=Math.cos(a),s=1-r,l=n.x,c=n.y,d=n.z,u=[[s*l*l+r,s*l*c-i*d,s*l*d+i*c],[s*l*c+i*d,s*c*c+r,s*c*d-i*l],[s*l*d-i*c,s*c*d+i*l,s*d*d+r]],p=[u[0][0]*o.x+u[0][1]*o.y+u[0][2]*o.z,u[1][0]*o.x+u[1][1]*o.y+u[1][2]*o.z,u[2][0]*o.x+u[2][1]*o.y+u[2][2]*o.z];return new uc(p[0],p[1],p[2])}toString(e=3){return`[${this.x.toFixed(e)},${this.y.toFixed(e)},${this.z.toFixed(e)}]`}}Number.prototype.toRadians=function(){return this*Math.PI/180},Number.prototype.toDegrees=function(){return 180*this/Math.PI};const pc=uc,mc={WGS84:{a:6378137,b:6356752.314245,f:1/298.257223563}},hc={WGS84:{ellipsoid:mc.WGS84}};Object.freeze(mc.WGS84),Object.freeze(hc.WGS84);class gc{constructor(e,t,a=0){if(isNaN(e)||null==e)throw new TypeError(`invalid lat ${e}`);if(isNaN(t)||null==t)throw new TypeError(`invalid lon ${t}`);if(isNaN(a)||null==a)throw new TypeError(`invalid height ${a}`);this._lat=dc.wrap90(Number(e)),this._lon=dc.wrap180(Number(t)),this._height=Number(a)}get lat(){return this._lat}get latitude(){return this._lat}set lat(e){if(this._lat=isNaN(e)?dc.wrap90(dc.parse(e)):dc.wrap90(Number(e)),isNaN(this._lat))throw new TypeError(`invalid lat ${e}`)}set latitude(e){if(this._lat=isNaN(e)?dc.wrap90(dc.parse(e)):dc.wrap90(Number(e)),isNaN(this._lat))throw new TypeError(`invalid latitude ${e}`)}get lon(){return this._lon}get lng(){return this._lon}get longitude(){return this._lon}set lon(e){if(this._lon=isNaN(e)?dc.wrap180(dc.parse(e)):dc.wrap180(Number(e)),isNaN(this._lon))throw new TypeError(`invalid lon ${e}`)}set lng(e){if(this._lon=isNaN(e)?dc.wrap180(dc.parse(e)):dc.wrap180(Number(e)),isNaN(this._lon))throw new TypeError(`invalid lng ${e}`)}set longitude(e){if(this._lon=isNaN(e)?dc.wrap180(dc.parse(e)):dc.wrap180(Number(e)),isNaN(this._lon))throw new TypeError(`invalid longitude ${e}`)}get height(){return this._height}set height(e){if(this._height=Number(e),isNaN(this._height))throw new TypeError(`invalid height ${e}`)}get datum(){return this._datum}set datum(e){this._datum=e}static get ellipsoids(){return mc}static get datums(){return hc}static parse(...e){if(0==e.length)throw new TypeError("invalid (empty) point");let t,a,o;if("object"==typeof e[0]&&(1==e.length||!isNaN(parseFloat(e[1])))){const n=e[0];if("Point"==n.type&&Array.isArray(n.coordinates)?([a,t,o]=n.coordinates,o=o||0):(null!=n.latitude&&(t=n.latitude),null!=n.lat&&(t=n.lat),null!=n.longitude&&(a=n.longitude),null!=n.lng&&(a=n.lng),null!=n.lon&&(a=n.lon),null!=n.height&&(o=n.height),t=dc.wrap90(dc.parse(t)),a=dc.wrap180(dc.parse(a))),null!=e[1]&&(o=e[1]),isNaN(t)||isNaN(a))throw new TypeError(`invalid point ${JSON.stringify(e[0])}`)}if("string"==typeof e[0]&&2==e[0].split(",").length&&([t,a]=e[0].split(","),t=dc.wrap90(dc.parse(t)),a=dc.wrap180(dc.parse(a)),o=e[1]||0,isNaN(t)||isNaN(a)))throw new TypeError(`invalid point ${e[0]}`);if(null==t&&null==a&&([t,a]=e,t=dc.wrap90(dc.parse(t)),a=dc.wrap180(dc.parse(a)),o=e[2]||0,isNaN(t)||isNaN(a)))throw new TypeError(`invalid point ${e.toString()}`);return new this(t,a,o)}toCartesian(){const e=this.datum?this.datum.ellipsoid:this.referenceFrame?this.referenceFrame.ellipsoid:mc.WGS84,t=this.lat.toRadians(),a=this.lon.toRadians(),o=this.height,{a:n,f:i}=e,r=Math.sin(t),s=Math.cos(t),l=Math.sin(a),c=Math.cos(a),d=2*i-i*i,u=n/Math.sqrt(1-d*r*r);return new fc((u+o)*s*c,(u+o)*s*l,(u*(1-d)+o)*r)}equals(e){if(!(e instanceof gc))throw new TypeError(`invalid point ${e}`);return!(Math.abs(this.lat-e.lat)>Number.EPSILON||Math.abs(this.lon-e.lon)>Number.EPSILON||Math.abs(this.height-e.height)>Number.EPSILON||this.datum!=e.datum||this.referenceFrame!=e.referenceFrame||this.epoch!=e.epoch)}toString(e="d",t,a=null){if(!["d","dm","dms","n"].includes(e))throw new RangeError(`invalid format ${e}`);const o=(this.height>=0?" +":" ")+this.height.toFixed(a)+"m";return"n"==e?(null==t&&(t=4),`${this.lat.toFixed(t)}, ${this.lon.toFixed(t)}${null==a?"":o}`):`${dc.toLat(this.lat,e,t)}, ${dc.toLon(this.lon,e,t)}${null==a?"":o}`}}class fc extends pc{constructor(e,t,a){super(e,t,a)}toLatLon(e=mc.WGS84){if(!e||!e.a)throw new TypeError(`invalid ellipsoid ${e}`);const{x:t,y:a,z:o}=this,{a:n,b:i,f:r}=e,s=2*r-r*r,l=s/(1-s),c=Math.sqrt(t*t+a*a),d=i*o/(n*c)*(1+l*i/Math.sqrt(c*c+o*o)),u=d/Math.sqrt(1+d*d),p=u/d,m=isNaN(p)?0:Math.atan2(o+l*i*u*u*u,c-s*n*p*p*p),h=Math.atan2(a,t),g=Math.sin(m),f=c*Math.cos(m)+o*g-n*n/(n/Math.sqrt(1-s*g*g));return new gc(m.toDegrees(),h.toDegrees(),f)}toString(e=0){return`[${this.x.toFixed(e)},${this.y.toFixed(e)},${this.z.toFixed(e)}]`}}const Ec=Math.PI,_c=Number.EPSILON;class wc extends gc{distanceTo(e){try{const t=this.inverse(e).distance;return Number(t.toFixed(3))}catch(e){if(e instanceof EvalError)return NaN;throw e}}initialBearingTo(e){try{const t=this.inverse(e).initialBearing;return Number(t.toFixed(7))}catch(e){if(e instanceof EvalError)return NaN;throw e}}finalBearingTo(e){try{const t=this.inverse(e).finalBearing;return Number(t.toFixed(7))}catch(e){if(e instanceof EvalError)return NaN;throw e}}destinationPoint(e,t){return this.direct(Number(e),Number(t)).point}finalBearingOn(e,t){const a=this.direct(Number(e),Number(t)).finalBearing;return Number(a.toFixed(7))}intermediatePointTo(e,t){if(0==t)return this;if(1==t)return e;const a=this.inverse(e),o=a.distance,n=a.initialBearing;return isNaN(n)?this:this.destinationPoint(o*t,n)}direct(e,t){if(isNaN(e))throw new TypeError(`invalid distance ${e}`);if(0==e)return{point:this,finalBearing:NaN,iterations:0};if(isNaN(t))throw new TypeError(`invalid bearing ${t}`);if(0!=this.height)throw new RangeError("point must be on the surface of the ellipsoid");const a=this.lat.toRadians(),o=this.lon.toRadians(),n=Number(t).toRadians(),i=Number(e),r=this.datum?this.datum.ellipsoid:gc.ellipsoids.WGS84,{a:s,b:l,f:c}=r,d=Math.sin(n),u=Math.cos(n),p=(1-c)*Math.tan(a),m=1/Math.sqrt(1+p*p),h=p*m,g=Math.atan2(p,u),f=m*d,E=1-f*f,_=E*(s*s-l*l)/(l*l),w=1+_/16384*(4096+_*(_*(320-175*_)-768)),b=_/1024*(256+_*(_*(74-47*_)-128));let T=i/(l*w),A=null,L=null,k=null,S=null,v=0;do{k=Math.cos(2*g+T),A=Math.sin(T),L=Math.cos(T),S=T,T=i/(l*w)+b*A*(k+b/4*(L*(2*k*k-1)-b/6*k*(4*A*A-3)*(4*k*k-3)))}while(Math.abs(T-S)>1e-12&&++v<100);if(v>=100)throw new EvalError("Vincenty formula failed to converge");const O=h*A-m*L*u,D=Math.atan2(h*L+m*A*u,(1-c)*Math.sqrt(f*f+O*O)),N=c/16*E*(4+c*(4-3*E)),C=o+(Math.atan2(A*d,m*L-h*A*u)-(1-N)*c*f*(T+N*A*(k+N*L*(2*k*k-1)))),y=Math.atan2(f,-O);return{point:new wc(D.toDegrees(),C.toDegrees(),0,this.datum),finalBearing:dc.wrap360(y.toDegrees()),iterations:v}}inverse(e){if(!(e instanceof gc))throw new TypeError(`invalid point ${e}`);if(0!=this.height||0!=e.height)throw new RangeError("point must be on the surface of the ellipsoid");const t=e,a=this.lat.toRadians(),o=this.lon.toRadians(),n=t.lat.toRadians(),i=t.lon.toRadians(),r=this.datum?this.datum.ellipsoid:gc.ellipsoids.WGS84,{a:s,b:l,f:c}=r,d=i-o,u=(1-c)*Math.tan(a),p=1/Math.sqrt(1+u*u),m=u*p,h=(1-c)*Math.tan(n),g=1/Math.sqrt(1+h*h),f=h*g,E=Math.abs(d)>Ec/2||Math.abs(n-a)>Ec/2;let _=d,w=null,b=null,T=E?Ec:0,A=0,L=E?-1:1,k=null,S=1,v=1,O=null,D=0;do{if(w=Math.sin(_),b=Math.cos(_),k=(g*w)**2+(p*f-m*g*b)**2,Math.abs(k)<1e-24)break;A=Math.sqrt(k),L=m*f+p*g*b,T=Math.atan2(A,L);const e=p*g*w/A;v=1-e*e,S=0!=v?L-2*m*f/v:0;const t=c/16*v*(4+c*(4-3*v));if(O=_,_=d+(1-t)*c*e*(T+t*A*(S+t*L*(2*S*S-1))),(E?Math.abs(_)-Ec:Math.abs(_))>Ec)throw new EvalError(" > ")}while(Math.abs(_-O)>1e-12&&++D<1e3);if(D>=1e3)throw new EvalError("Vincenty formula failed to converge");const N=v*(s*s-l*l)/(l*l),C=N/1024*(256+N*(N*(74-47*N)-128)),y=l*(1+N/16384*(4096+N*(N*(320-175*N)-768)))*(T-C*A*(S+C/4*(L*(2*S*S-1)-C/6*S*(4*A*A-3)*(4*S*S-3)))),R=Math.abs(k)<_c?0:Math.atan2(g*w,p*f-m*g*b),I=Math.abs(k)<_c?Ec:Math.atan2(p*w,-m*g+p*f*b);return{distance:y,initialBearing:Math.abs(y)<_c?NaN:dc.wrap360(R.toDegrees()),finalBearing:Math.abs(y)<_c?NaN:dc.wrap360(I.toDegrees()),iterations:D}}}const bc=Ht.extend({statics:{TYPE:"trawler"},options:{points:[],zoom:13,automark:!1},addHooks:function(){Ht.prototype.addHooks.call(this),this._mapRefreshHook=this.tileRequestNext.bind(this),this._pointTileDataRequest(this.options.points,this.options.zoom),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.plugin.wasabee.tileTrawlQueue&&delete window.plugin.wasabee.tileTrawlQueue,window.removeHook("mapDataRefreshEnd",this._mapRefreshHook)},_update:function(e){this&&this.remaining&&(this.remaining.textContent=Re("TRAWL_REMAINING",{count:e}))},_buildContent:function(){const e=window.plugin.wasabee.tileTrawlQueue.size,t=L.DomUtil.create("div","container");L.DomUtil.create("label",null,t).textContent=Re("TRAWLING");const a=L.DomUtil.create("div",null,t);this.remaining=L.DomUtil.create("span",null,a),this.remaining.textContent=Re("TRAWL_REMAINING",{count:e}),L.DomUtil.create("label",null,t).textContent=Re("TRAWL SKIP TILES");const o=L.DomUtil.create("select",null,t),n=Number(localStorage[window.plugin.wasabee.static.constants.TRAWL_SKIP_STEPS]);let i=0;for(;i<15;){const e=L.DomUtil.create("option",null,o);e.textContent=i,e.value=i,n==i&&(e.selected=!0),i++}return L.DomEvent.on(o,"change",(e=>{L.DomEvent.stop(e),localStorage[window.plugin.wasabee.static.constants.TRAWL_SKIP_STEPS]=o.value})),t},_displayDialog:function(){const e=this._buildContent(),t={};t[Re("CLOSE")]=()=>{this.closeDialog("close")},this.createDialog({title:Re("TRAWL TITLE"),html:e,width:"auto",dialogClass:"trawl",buttons:t})},_pointTileDataRequest:function(e,t=13){if(localStorage[window.plugin.wasabee.static.constants.TRAWL_SKIP_STEPS]||(localStorage[window.plugin.wasabee.static.constants.TRAWL_SKIP_STEPS]=0),window.plugin.wasabee.tileTrawlQueue)return void console.log("pointTileDataRequest already running");if(0==e.length)return;const a=window.getDataZoomForMapZoom(t),o=window.getMapZoomTileParameters(a);window.mapDataRequest.setStatus("trawling",void 0,-1),window.plugin.wasabee.tileTrawlQueue=new Map;for(const t of e){const e=window.latToTile(t.lat,o),a=window.lngToTile(t.lng,o),n=window.pointToTileId(o,a,e),i=L.latLng([Number(window.tileToLat(e,o).toFixed(6)),Number(window.tileToLng(a,o).toFixed(6))]);window.plugin.wasabee.tileTrawlQueue.set(n,JSON.stringify(i))}window.addHook("mapDataRefreshEnd",this._mapRefreshHook),window.map.setZoom(t),this.tileRequestNext()},tileRequestNext:function(){if(!window.plugin.wasabee.tileTrawlQueue)return void window.removeHook("mapDataRefreshEnd",this._mapRefreshHook);for(const e of Object.keys(window.mapDataRequest.cache._cache))window.plugin.wasabee.tileTrawlQueue.has(e)&&window.plugin.wasabee.tileTrawlQueue.delete(e);const e=window.plugin.wasabee.tileTrawlQueue.keys();let t=Number(localStorage[window.plugin.wasabee.static.constants.TRAWL_SKIP_STEPS]),a=e.next().value;for(;a&&window.mapDataRequest.cache.get(a);)console.log("removing in cache check 2",a),window.plugin.wasabee.tileTrawlQueue.delete(a),a=e.next().value,t>0&&t--;for(;a&&t>0;)window.plugin.wasabee.tileTrawlQueue.delete(a),a=e.next().value,t--;if(a){const e=JSON.parse(window.plugin.wasabee.tileTrawlQueue.get(a));return window.plugin.wasabee.tileTrawlQueue.delete(a),window.map.panTo(e,{duration:.25,animate:!0}),void this._update(window.plugin.wasabee.tileTrawlQueue.size)}delete window.plugin.wasabee.tileTrawlQueue,window.removeHook("mapDataRefreshEnd",this._mapRefreshHook),this.options.automark&&Hr(Ke()),this.closeDialog(),Ie("trawl done")}}),Tc=Ht.extend({statics:{TYPE:"trawl"},addHooks:function(){Ht.prototype.addHooks.call(this),window.map.on("wasabee:op:select",this.closeDialog,this),this._displayDialog()},_displayDialog:function(){const e=Ke(),t=L.DomUtil.create("div","container"),a=L.DomUtil.create("div",null,t),o=L.DomUtil.create("label",null,a);o.textContent=Re("TRAWL_CLEAR_MARKERS"),o.htmlFor="wasabee-trawl-clear";const n=L.DomUtil.create("input",null,a);n.type="checkbox",n.checked=!1,n.id="wasabee-trawl-clear";const i=L.DomUtil.create("label",null,a);i.textContent=Re("TRAWL_AUTOMARK"),i.htmlFor="wasabee-trawl-automark",this.automark=L.DomUtil.create("input",null,a),this.automark.type="checkbox",this.automark.checked=!1,this.automark.id="wasabee-trawl-automark",e.canWrite()||(a.style.display="none"),L.DomUtil.create("h4",null,t).textContent=Re("TRAWL WARNING");const r=L.DomUtil.create("button",null,t);r.textContent=Re("TRAWL"),L.DomEvent.on(r,"click",(async()=>{const e=Ke();1==n.checked&&this._clearMarkers(),await j.removeBlockers(e.ID);const t=this._getTrawlPoints();new bc({points:t,zoom:13,automark:this.automark.checked}).enable(),this.closeDialog()})),L.DomUtil.create("h4",null,t).textContent=Re("TRAWL_BULK_LOAD_WARNING");const s=L.DomUtil.create("button",null,t);s.textContent=Re("TRAWL_BULK_LOAD"),L.DomEvent.on(s,"click",(async()=>{const e=Ke();await j.removeBlockers(e.ID),1==n.checked&&this._clearMarkers();const t=this._getTrawlPoints();this._bulkLoad(t,14),this.closeDialog()}));const l={};l[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("TRAWL TITLE"),html:t,width:"auto",dialogClass:"trawl",buttons:l,id:window.plugin.wasabee.static.dialogNames.trawl})},_getTrawlPoints:function(){const e=Ke();window.mapDataRequest.setStatus("calculating",void 0,-1);const t=new Array;for(const a of e.links){const o=a.getLatLngs(e),n=new wc(o[0].lat,o[0].lng),i=new wc(o[1].lat,o[1].lng),r=n.distanceTo(i);let s=n.initialBearingTo(i),l=0;t.push(o[0]);let c=n,d=0;for(;l<r;){l+=250,d++;const e=c.destinationPoint(250,s);d%10==0&&(s=c.initialBearingTo(i)),t.push(new L.LatLng(Number(e.lat.toFixed(6)),Number(e.lon.toFixed(6)))),c=e}}return t},_clearMarkers:function(){const e=Ke();e.markers=e.markers.filter((e=>e.type!==ie.constants.MARKER_TYPE_DESTROY&&e.type!==ie.constants.MARKER_TYPE_VIRUS)),e.update()},_bulkLoad:function(e,t){if(this._mapRefreshHook=this.bulkLoadDone.bind(this),window.addHook("mapDataRefreshEnd",this._mapRefreshHook),0==e.length)return;const a=window.mapDataRequest;a.debugTiles.reset(),this.oldDebugTiles=window.mapDataRequest.debugTiles,window.mapDataRequest.debugTiles=new Ac;const o=window.getDataZoomForMapZoom(t),n=window.getMapZoomTileParameters(o),i=new L.latLngBounds(e);window.map.fitBounds(i);const r=new Map;for(const t of e){const e=window.latToTile(t.lat,n),a=window.lngToTile(t.lng,n),o=window.pointToTileId(n,a,e);r.set(o,o)}const s={};for(const e of r.keys())s[e]=e;a.resetRenderQueue(),a.pauseRenderQueue(!0),a.clearTimeout(),a.queuedTiles=s,a.processRequestQueue(!0),a.pauseRenderQueue(!1),this.bulkAlert=Ie("please wait until status says 'done'; If the first didn't trigger a load, close this dialog and try again")},bulkLoadDone:function(){1==this.automark.checked&&Hr(Ke()),window.mapDataRequest.debugTiles=this.oldDebugTiles,this.bulkAlert.dialog("close"),Ie("bulk data load done"),window.removeHook("mapDataRefreshEnd",this._mapRefreshHook)}});class Ac{reset(){console.log("fdt reset")}create(){console.log("fdt create")}setState(){}runClearPass(){console.log("fdt runClearPass")}}const Lc=Tc,kc=Ht.extend({statics:{TYPE:"blockerList"},options:{usePane:!0},addHooks:function(){Ht.prototype.addHooks.call(this),window.map.on("wasabee:op:select wasabee:op:change",this.update,this),window.map.on("wasabee:crosslinks:update",this.update,this),window.map.on("wasabee:crosslinks:done",this.update,this),window.addHook("portalAdded",tt),window.addHook("portalDetailLoaded",at),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.map.off("wasabee:op:select wasabee:op:change",this.update,this),window.map.off("wasabee:crosslinks:update",this.update,this),window.map.off("wasabee:crosslinks:done",this.update,this),window.removeHook("portalAdded",tt),window.removeHook("portalDetailLoaded",at)},_displayDialog:async function(){const e=Ke();this.sortable=await this._getListDialogContent(0,!1),rt(e);const t={};t[Re("CLOSE")]=()=>{this.closeDialog()},e.canWrite()&&(t[Re("AUTOMARK")]=()=>{Hr(Ke())}),t[Re("RESET")]=async()=>{const e=Ke();await j.removeBlockers(e.ID),this.update(),window.map.fire("wasabee:crosslinks")},t[Re("LOAD PORTALS")]=()=>{rt(Ke(),!0)},t[Re("TRAWL TITLE")]=()=>{(new Lc).enable()},e.canWrite()&&(t[Re("dialog.blockers.clear_automark")]=()=>{const e=Ke();e.startBatchMode(),e.markers=e.markers.filter((e=>"auto-marked"!==e.comment)),e.cleanPortalList(),e.endBatchMode()}),this.createDialog({title:Re("KNOWN_BLOCK",{opName:e.name}),html:this.sortable.table,width:"auto",dialogClass:"blockerlist",buttons:t,id:window.plugin.wasabee.static.dialogNames.blockerList})},update:async function(){if(!this._enabled)return;if(!this.sortable)return;const e=Ke();this.sortable=await this._getListDialogContent(this.sortable.sortBy,this.sortable.sortAsc),this.setContent(this.sortable.table),this.setTitle(Re("KNOWN_BLOCK",{opName:e.name}))},async _getListDialogContent(e,t){const a=Ke(),o=new hi,n=await j.getAll(a);return o.fields=[{name:Re("FROM_PORT"),value:e=>e.fromPortal?e.fromPortal.name:e.from,sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>{a.fromPortal?e.appendChild(Je(a.fromPortal)):e.textContent=t}},{name:this._smallScreen?"#":Re("COUNT"),value:e=>n.filter((t=>t.from==e.from||t.to==e.from)).length,format:(e,t)=>e.textContent=t},{name:Re("TO_PORT"),value:e=>e.toPortal?e.toPortal.name:e.to,sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>{a.toPortal?e.appendChild(Je(a.toPortal)):e.textContent=t}},{name:this._smallScreen?"#":Re("COUNT"),value:e=>n.filter((t=>t.from==e.to||t.to==e.to)).length,format:(e,t)=>e.textContent=t}],o.sortBy=e,o.sortAsc=t,o.items=n,o}}),Sc=Mi.extend({statics:{TYPE:"markerList"},SORTBY_KEY:"wasabee-markerlist-sortby",SORTASC_KEY:"wasabee-markerlist-sortasc",_displayDialog:async function(){const e=Ke();it(e),this.sortable=this.getListDialogContent(e,e.markers,this.SORTBY_KEY,this.SORTASC_KEY);const t={};e.canWrite()&&(t[Re("CLEAR MARKERS")]=()=>{!function(e){new ci({title:Re("dialog.clear_markers.title",{opName:e.name}),label:Re("dialog.clear_markers.text",{opName:e.name}),type:"operation",callback:()=>{e.clearAllMarkers(),window.map.fire("wasabee:crosslinks")}}).enable()}(Ke())},t[Re("dialog.blockers.clear_automark")]=()=>{const e=Ke();e.startBatchMode(),e.markers=e.markers.filter((e=>"auto-marked"!==e.comment)),e.cleanPortalList(),e.endBatchMode()}),t[Re("CLOSE")]=()=>{this.closeDialog()},await this.sortable.done,this.createDialog({title:Re("MARKER_LIST",{opName:e.name}),html:this.sortable.table,width:"auto",dialogClass:"checklist",buttons:t,id:window.plugin.wasabee.static.dialogNames.markerList})},update:async function(){if(!this.sortable)return;const e=Ke();this.setTitle(Re("MARKER_LIST",{opName:e.name})),this.sortable=this.getListDialogContent(e,e.markers,this.SORTBY_KEY,this.SORTASC_KEY),await this.sortable.done,this.setContent(this.sortable.table)}}),vc=Ht.extend({statics:{TYPE:"keyListPortal"},options:{},addHooks:function(){Ht.prototype.addHooks.call(this),window.map.on("wasabee:op:select wasabee:op:change",this.update,this),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.map.off("wasabee:op:select wasabee:op:change",this.update,this)},_displayDialog:function(){if(!this.options.portalID)return void this.disable();this._sortable=this.getSortable();const e={};e[Re("CLOSE")]=()=>{this.closeDialog()};const t=Ke().getPortal(this.options.portalID);this.createDialog({title:Re("PORTAL KEY LIST",{portalName:Qe(t)}),html:this.getListDialogContent(this.options.portalID),width:"auto",dialogClass:"keylistportal",buttons:e,id:window.plugin.wasabee.static.dialogNames.keyListPortal})},update:function(){const e=Ke().getPortal(this.options.portalID);if(null==e)return this.setTitle("unknown portal"),void this.setContent("selected operation changed");const t=this.getListDialogContent(this.options.portalID);this.setContent(t),this.setTitle(Re("PORTAL KEY LIST",{portalName:Qe(e)}))},getSortable:function(){const e=new hi;return e.fields=[{name:Re("AGENT"),value:e=>e.gid,sort:(e,t)=>e.localeCompare(t),format:async(e,t,a)=>{const o=await _t(a.gid);e.textContent=o?o.getName():a.gid}},{name:Re("ON_HAND"),value:e=>e.onhand},{name:Re("CAPSULE"),value:e=>e.capsule,sort:(e,t)=>e.localeCompare(t),format:(e,t)=>{e.textContent=t}}],e.sortBy=0,e},getListDialogContent:function(e){const t=Ke();return this._sortable.items=t.keysonhand.filter((function(t){return t.portalId==e})),this._sortable.table}});function Oc(e,t,a,o){return function(e,t,a,o){const n=new FormData;return n.append("count",`${a}`),n.append("capsule",o),xt(`/api/v1/draw/${e}/portal/${t}/keyonhand`,n)}(e,t,a,o).catch((e=>(e instanceof xe&&406==e.code&&Pe(Re("dialog.keys.update_error")),Promise.reject())))}const Dc=Ht.extend({statics:{TYPE:"keysList"},options:{usePane:!0},addHooks:function(){Ht.prototype.addHooks.call(this);const e=Ke();this._opID=e.ID,window.map.on("wasabee:login wasabee:logout",this.update,this),window.map.on("wasabee:op:select wasabee:op:change",this.update,this),window.map.on("wasabee:filter",this.update,this),re.isLoggedIn()?this._me=re.localGet():this._me=null,this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.map.off("wasabee:login wasabee:logout",this.update,this),window.map.off("wasabee:op:select wasabee:op:change",this.update,this),window.map.off("wasabee:filter",this.update,this)},_displayDialog:function(){const e=Ke(),t={};t[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("KEY_LIST2",{opName:e.name}),html:this.getListDialogContent(e,0,!0).table,width:"auto",dialogClass:"keyslist",buttons:t,id:window.plugin.wasabee.static.dialogNames.keysList})},update:function(){const e=Ke();e.ID!=this._opID&&console.log("operation changed"),re.isLoggedIn()?this._me=re.localGet():this._me=null,this.setTitle(Re("KEY_LIST2",{opName:e.name}));const t=this.getListDialogContent(e,this.sortable.sortBy,this.sortable.sortAsc).table;this.setContent(t)},getListDialogContent:function(e,t,a){this.sortable=new hi;const o=[{name:Re("PORTAL"),value:t=>e.getPortal(t.id).name,sort:(e,t)=>e.localeCompare(t),format:(t,a,o)=>{t.appendChild(Je(e.getPortal(o.id)))}},{name:Re("REQUIRED"),value:e=>e.required,format:(e,t,a)=>{a.open?e.textContent=Re("OPEN_REQUEST"):a.done?e.textContent=t-a.done+"/"+t:e.textContent=t,a.onHand>=a.value-a.done?L.DomUtil.addClass(e,"enough"):L.DomUtil.addClass(e,"notenough")}},{name:Re("ON_HAND"),value:e=>parseInt(e.onHand,10),format:(e,t,a)=>{const o=L.DomUtil.create("a");o.name=a.id,L.DomEvent.on(o,"click",L.DomEvent.stopPropagation).on(o,"mousedown",L.DomEvent.stopPropagation).on(o,"dblclick",L.DomEvent.stopPropagation).on(o,"click",L.DomEvent.preventDefault).on(o,"click",this.showKeyByPortal,a),o.textContent=t,e.appendChild(o)}}];let n="no-user";this._me&&e.isOnCurrentServer()?(n=this._me.id,this.sortable.fields=o.concat([{name:Re("MY_COUNT"),value:e=>parseInt(e.iHave,10),format:(t,a,o)=>{const i=L.DomUtil.create("input");i.value=a,i.size=3,L.DomEvent.on(i,"change",(()=>{Oc(e.ID,o.id,i.value,o.capsule).then((()=>e.keyOnHand(o.id,n,i.value,o.capsule))).catch((()=>i.value=a))})),t.appendChild(i)}},{name:Re("MY_CAP_ID"),value:e=>e.capsule,sort:(e,t)=>e.localeCompare(t),format:(t,a,o)=>{const i=L.DomUtil.create("input");i.value=a,i.size=8,L.DomEvent.on(i,"change",(()=>{Oc(e.ID,o.id,o.iHave,i.value).then((()=>e.keyOnHand(o.id,n,o.iHave,i.value))).catch((()=>i.value=a))})),t.appendChild(i)}}])):this.sortable.fields=o;const i=new Array;for(const t of e.anchors){const a={},o=e.links.filter((function(e){return Ii(e)&&e.toPortalId==t}));if(!o.length)continue;a.id=t,a.required=o.length,a.onHand=0,a.iHave=0,a.capsule="",a.done=0;for(const e of o)e.completed&&a.done++;const r=e.keysonhand.filter((function(e){return e.portalId==t}));if(r&&r.length>0)for(const e of r)a.onHand+=e.onhand,e.gid==n&&(a.iHave=e.onhand,a.capsule=e.capsule);i.push(a)}for(const t of e.markers.filter((function(e){return Ii(e)&&e.type==ie.constants.MARKER_TYPE_KEY}))){const a={};a.id=t.portalId,a.open=!0,a.onHand=0,a.iHave=0,a.capsule="";const o=e.keysonhand.filter((function(e){return e.portalId==a.id}));if(o&&o.length>0)for(const e of o)a.onHand+=e.onhand,e.gid==n&&(a.iHave=e.onhand,a.capsule=e.capsule);i.push(a)}return this.sortable.sortBy=t,this.sortable.sortAsc=a,this.sortable.items=i,this.sortable},showKeyByPortal:function(e){new vc({portalID:e.srcElement.name}).enable()}}),Nc=Dc;let Cc=[],yc=[],Rc=!1;function Ic(){const e=Ke();Cc=[new Se(e)],yc=[]}function Mc(){if(Rc)return;const e=Ke();Cc.push(new Se(e)),Cc.length>D.UNDO_HISTORY_SIZE&&Cc.shift(),yc=[]}function Pc(e){const t=Ke();for(const a of t.links)Ii(a)&&(a.color=e);t.update(),Ti(e)}function xc(e){const t=Ke();for(const a of t.links)Ii(a)&&a.assign(e);for(const a of t.markers)Ii(a)&&a.assign(e);t.update()}function Uc(e){const t=Ke();for(const a of t.links)Ii(a)&&(a.state=e);for(const a of t.markers)Ii(a)&&(a.state=e);t.update()}function Bc(e){const t=Ke();for(const a of t.links)Ii(a)&&(a.comment=e);for(const a of t.markers)Ii(a)&&(a.comment=e);t.update()}function Kc(e){const t=Ke();t.links=t.links.filter((t=>Ii(t)===e)),t.markers=t.markers.filter((t=>Ii(t)===e)),t.cleanAll(),t.update()}class Gc extends Ht{addHooks(){super.addHooks(),this._filters={},this._activeTab=0,window.map.on("wasabee:op:select",this.update,this),window.map.on("wasabee:teams",this.update,this),this._displayDialog()}removeHooks(){super.removeHooks(),window.map.off("wasabee:op:select",this.update,this),window.map.off("wasabee:teams",this.update,this),Ni=null,window.map.fire("wasabee:filter")}async update(){this.setContent(await this._getContent()),this.setTitle(Re("dialog.filter.title"))}_createSelect(e,t){return this._createSelectMultiple(e,void 0!==t?[t]:[],!0)}_createSelectMultiple(e,t,a){const o=L.DomUtil.create("select");o.multiple=!a;for(const[a,n]of e){const e=L.DomUtil.create("option",null,o);e.textContent=a,e.value=n,t&&t.includes(n)&&(e.selected=!0)}return o}_createPortal(e,t){const a=L.DomUtil.create("div","set-portal-small"),o=L.DomUtil.create("span","set-portal-display",a),n=L.DomUtil.create("button","set-portal-button",a);return n.textContent=Re("SET"),e?o.appendChild(Je(e)):o.textContent=Re("NOT_SET"),L.DomEvent.on(n,"click",(()=>{const e=$e();e&&(o.textContent="",o.appendChild(Je(e)),t&&t(e))})),a}_addFieldPortal(e,t,a){this._filters[t]||(this._filters[t]={enabled:!1,selected:null,toFilter:a.toFilter});const o=this._filters[t],n=L.DomUtil.create("label","checkbox",e),i=L.DomUtil.create("input","",n);i.type="checkbox",i.checked=o.enabled,L.DomUtil.create("span","",n).textContent=a.label;const r=this._createPortal(o.selected,(e=>{o.selected=e,o.enabled=i.checked&&!!o.selected}));e.appendChild(r),L.DomEvent.on(i,"change",(e=>{L.DomEvent.stop(e),o.enabled=i.checked&&!!o.selected}))}_addField(e,t,a){this._filters[t]||(this._filters[t]={enabled:!1,selected:[],toFilter:a.toFilter});const o=this._filters[t],n=L.DomUtil.create("label","checkbox",e),i=L.DomUtil.create("input","",n);i.type="checkbox",i.checked=o.enabled,L.DomUtil.create("span","",n).textContent=a.label;const r=this._createSelectMultiple(a.options,o.selected);r.disabled=!o.enabled,e.appendChild(r),L.DomEvent.on(i,"change",(e=>{L.DomEvent.stop(e),o.enabled=i.checked,r.disabled=!i.checked})),L.DomEvent.on(r,"change",(e=>{L.DomEvent.stop(e),o.selected=Array.from(r.selectedOptions).map((e=>e.value))}))}_addFieldText(e,t,a){this._filters[t]||(this._filters[t]={enabled:!1,selected:"",toFilter:a.toFilter});const o=this._filters[t],n=L.DomUtil.create("label","checkbox",e),i=L.DomUtil.create("input","",n);i.type="checkbox",i.checked=o.enabled,L.DomUtil.create("span","",n).textContent=a.label;const r=L.DomUtil.create("input");r.disabled=!o.enabled,e.appendChild(r),L.DomEvent.on(i,"change",(e=>{L.DomEvent.stop(e),o.enabled=i.checked,r.disabled=!i.checked})),L.DomEvent.on(r,"change",(e=>{L.DomEvent.stop(e),o.selected=r.value}))}_addFieldNumber(e,t,a){this._filters[t]||(this._filters[t]={enabled:!1,selected:null,toFilter:a.toFilter});const o=this._filters[t],n=L.DomUtil.create("label","checkbox",e),i=L.DomUtil.create("input","",n);i.type="checkbox",i.checked=o.enabled,L.DomUtil.create("span","",n).textContent=a.label;const r=L.DomUtil.create("input");r.type="number",r.disabled=!o.enabled,e.appendChild(r),L.DomEvent.on(i,"change",(e=>{L.DomEvent.stop(e),o.enabled=i.checked,r.disabled=!i.checked})),L.DomEvent.on(r,"change",(e=>{L.DomEvent.stop(e),o.selected=r.valueAsNumber}))}_addAction(e,t,a,o,n){L.DomUtil.create("label","",e).textContent=t,e.appendChild(a);const i=L.DomUtil.create("button","",e);i.textContent=o,L.DomEvent.on(i,"click",(()=>n(a.value)))}async _getFiltersTab(){const e=L.DomUtil.create("a");e.textContent=Re("dialog.filter.filters.title");const t=L.DomUtil.create("div","filters");L.DomUtil.create("div","desc",t).textContent=Re("dialog.filter.filters.description");const a=Ke(),o=re.localGet(),n=new Map;for(const e of a.teamlist)if(o&&o.teamJoined(e.teamid)){const t=await bt(e.teamid,300);if(t)for(const e of t.agents)n.set(e.id,e.name)}const i=[];for(const[e,t]of n)i.push([t,e]);i.sort(((e,t)=>e[0].localeCompare(t[0]))),i.unshift([Re("UNASSIGNED"),""]),this._addField(t,"assignedTo",{label:Re("ASS_TO"),options:i,toFilter:e=>({op:"in",key:"assignedTo",value:e.map((e=>e||null))})}),this._addField(t,"zone",{label:Re("ZONE"),options:a.zones.map((e=>[e.name,""+e.id])),toFilter:e=>({op:"in",key:"zone",value:e.map((e=>+e))})}),this._addField(t,"state",{label:Re("STATE"),options:[[Re("pending"),"pending"],[Re("assigned"),"assigned"],[Re("acknowledged"),"acknowledged"],[Re("completed"),"completed"]],toFilter:e=>({op:"in",key:"state",value:e})}),this._addField(t,"kind",{label:Re("dialog.filter.filters.field.task"),options:[[Re("dialog.common.links"),"link"],[Re("dialog.common.markers"),"marker"]],toFilter:e=>({op:"or",list:e.map((e=>({op:"kind",value:e})))})}),this._addFieldPortal(t,"fromPortal",{label:Re("FROM_PORT"),toFilter:e=>({op:"or",list:["fromPortalId","portalId"].map((t=>({op:"==",key:t,value:e.id})))})}),this._addFieldPortal(t,"toPortal",{label:Re("TO_PORT"),toFilter:e=>({op:"==",key:"toPortalId",value:e.id})}),this._addFieldText(t,"comment",{label:Re("COMMENT"),toFilter:e=>({op:"match",key:"comment",value:e})}),this._addFieldNumber(t,"order_min",{label:Re("dialog.filter.filters.field.min_order"),toFilter:e=>({op:">=",key:"order",value:e})}),this._addFieldNumber(t,"order_max",{label:Re("dialog.filter.filters.field.max_order"),toFilter:e=>({op:"<=",key:"order",value:e})});const r=L.DomUtil.create("button","apply",t);return r.textContent=Re("dialog.filter.filters.apply"),L.DomEvent.on(r,"click",this._applyFilter,this),[e,t]}async _getActionsTab(){const e=L.DomUtil.create("a");e.textContent=Re("dialog.filter.actions.title");const t=L.DomUtil.create("div","actions");L.DomUtil.create("div","desc",t).textContent=Re("dialog.filter.actions.description");const a=Ke(),o=new Map;for(const e of a.teamlist){const t=await bt(e.teamid,300);if(t)for(const e of t.agents)o.set(e.id,e.name)}const n=[[Re("UNASSIGNED"),""]];for(const[e,t]of o)n.push([t,e]);this._addAction(t,Re("ASS_TO"),this._createSelect(n),Re("SET"),xc),this._addAction(t,Re("ZONE"),this._createSelect(a.zones.map((e=>[e.name,""+e.id]))),Re("SET"),(e=>function(e){const t=Ke();e=e||0;for(const a of t.links)Ii(a)&&(a.zone=e);for(const a of t.markers)Ii(a)&&(a.zone=e);t.update()}(+e))),this._addAction(t,Re("STATE"),this._createSelect([[Re("pending"),"pending"],[Re("assigned"),"assigned"],[Re("acknowledged"),"acknowledged"],[Re("completed"),"completed"]]),Re("SET"),Uc);const i=L.DomUtil.create("input");i.type="color",i.value=ai(a.getColor()),i.setAttribute("list","wasabee-colors-datalist"),this._addAction(t,Re("dialog.common.color"),i,Re("SET"),Pc),this._addAction(t,Re("COMMENT"),L.DomUtil.create("input"),Re("SET"),Bc);const r=L.DomUtil.create("input");r.type="number",this._addAction(t,Re("ORDER"),r,Re("SET"),(e=>function(e){if(isNaN(e)||!isFinite(e))return;const t=Ke();for(const a of t.links)Ii(a)&&(a.order=e);for(const a of t.markers)Ii(a)&&(a.order=e);t.update()}(+e)));const s=L.DomUtil.create("input");s.type="number",this._addAction(t,Re("dialog.filter.actions.shift.label"),s,Re("dialog.filter.actions.shift.button"),(e=>function(e){if(isNaN(e)||!isFinite(e))return;const t=Ke();for(const a of t.links)Ii(a)&&(a.order+=e);for(const a of t.markers)Ii(a)&&(a.order+=e);t.update()}(+e)));const l=L.DomUtil.create("button","delete-tasks",t);l.textContent=Re("dialog.filter.actions.delete_visible"),L.DomEvent.on(l,"click",(()=>Kc(!1)));const c=L.DomUtil.create("button","delete-tasks",t);return c.textContent=Re("dialog.filter.actions.delete_hidden"),L.DomEvent.on(c,"click",(()=>Kc(!0))),[e,t]}async _getContent(){const e=L.DomUtil.create("div","container"),t=Ke(),a=[];a.push(await this._getFiltersTab()),t.canWrite()&&a.push(await this._getActionsTab());const o=L.DomUtil.create("div","ui-tabs tabs",e),n=L.DomUtil.create("ul","ui-tabs-nav nav",o);for(let e=0;e<a.length;e++){const[t,i]=a[e];L.DomUtil.create("li","ui-tabs-tab",n).appendChild(t),t.classList.add("ui-tabs-anchor"),o.appendChild(i),i.classList.add("ui-tabs-panel"),i.style.display="none",L.DomEvent.on(t,"click",(()=>{for(const e of a)e[0].parentElement.classList.remove("ui-tabs-active"),e[1].style.display="none";t.parentElement.classList.add("ui-tabs-active"),i.style.display=null,this._activeTab=e,this._applyFilter()}))}return this._activeTab>=a.length&&(this._activeTab=0),a[this._activeTab][0].parentElement.classList.add("ui-tabs-active"),a[this._activeTab][1].style.display=null,e}_getFilter(){const e={op:"and",list:[]};for(const t in this._filters){const a=this._filters[t];a.enabled&&e.list.push(a.toFilter(a.selected))}return e}_applyFilter(){var e;!Ri(e=this._getFilter())||(Ni=e,0)?Pe("filter invalid"):window.map.fire("wasabee:filter")}async _displayDialog(){const e=await this._getContent(),t={};t[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("dialog.filter.title"),html:e,width:"auto",dialogClass:"filter",buttons:t,id:"wasabee-filter"})}}Gc.TYPE="settings";const Hc=Ft.extend({statics:{TYPE:"opButton"},initialize:function(e){this.type=Hc.TYPE,this.handler=this._toggleActions,this._container=e;const t=Ke();this.button=this._createButton({container:this._container,className:"wasabee-toolbar-op",callback:this._toggleActions,context:this,title:Re("toolbar.op.title",{opName:t.name})}),this.setSubActions(this.getSubActions()),window.map.on("wasabee:ui:skin wasabee:ui:lang",(()=>{const e=Ke();this.button.title=Re("toolbar.op.title",{opName:e.name}),this.setSubActions(this.getSubActions())}))},update:function(){Ft.prototype.update.call(this);const e=Ke();this.button.title=Re("toolbar.op.title",{opName:e.name}),this.setSubActions(this.getSubActions())},getSubActions:function(){const e=[{title:Re("OP_SETTINGS_TITLE"),text:Re("OP_SETTINGS_BUTTON"),callback:()=>{this.disable(),(new Br).enable()},context:this},{title:Re("CHECKLIST BUTTON TITLE"),text:Re("CHECKLIST BUTTON"),callback:()=>{this.disable(),(new Mi).enable()},context:this},{title:Re("MARKER LIST TITLE"),text:Re("MARKER LIST"),callback:()=>{this.disable(),(new Sc).enable()},context:this},{title:Re("BLOCKER LIST TITLE"),text:Re("BLOCKER TITLE"),callback:()=>{this.disable(),(new kc).enable()},context:this},{title:Re("KEYS"),text:Re("KEYS"),callback:()=>{this.disable(),(new Nc).enable()},context:this},{title:Re("toolbar.op.filter"),text:Re("toolbar.op.filter"),callback:()=>{this.disable(),(new Gc).enable()},context:this}];return Cc.length>1&&e.push({title:Re("toolbar.op.undo"),text:Re("toolbar.op.undo"),accesskey:"z",callback:()=>{Et({id:"analytics",action:"undo"}),async function(){if(Cc.length<2)return!1;const e=Ke();yc.push(Cc.pop()),Rc=!0;const t=Cc[Cc.length-1];t.fetched=e.fetched,t.fetchedOp=e.fetchedOp,t.lasteditid=e.lasteditid,await t.store(),await ze(t.ID),Rc=!1}()},context:this}),yc.length>0&&e.push({title:Re("toolbar.op.redo"),text:Re("toolbar.op.redo"),accesskey:"y",callback:()=>{Et({id:"analytics",action:"redo"}),async function(){if(!yc.length)return!1;const e=Ke();Cc.push(yc.pop()),Rc=!0;const t=Cc[Cc.length-1];t.fetched=e.fetched,t.fetchedOp=e.fetchedOp,t.lasteditid=e.lasteditid,await t.store(),await ze(t.ID),Rc=!1}()},context:this}),e}}),zc=Hc,Fc=Ht.extend({statics:{TYPE:"linkDialog"},needWritePermission:!0,initialize:function(e){Ht.prototype.initialize.call(this,e);let t=localStorage[D.LINK_SOURCE_KEY];t&&(this._source=new se(t)),t=localStorage[D.ANCHOR_ONE_KEY],t&&(this._anchor1=new se(t)),t=localStorage[D.ANCHOR_TWO_KEY],t&&(this._anchor2=new se(t))},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_addPortalSet(e,t,a,o,n){L.DomUtil.create("label",null,e).textContent=t;const i=L.DomUtil.create("button","set",e);if(i.textContent=Re("SET"),n){const t=L.DomUtil.create("button","add",e);t.textContent=n,L.DomEvent.on(t,"click",(e=>{if(L.DomEvent.stop(e),this._source&&this[a]){const e=Ke();e.addLink(this._source,this[a],{description:this._desc.value,order:e.nextOrder})}else Pe("Select both Source and Anchor")}))}const r=L.DomUtil.create("span","portal",e);this[a]?r.appendChild(Je(this[a])):r.textContent=Re("NOT_SET"),L.DomEvent.on(i,"click",(e=>{L.DomEvent.stop(e),this[a]=$e(),this[a]?(localStorage[o]=JSON.stringify(this[a]),r.textContent="",r.appendChild(Je(this[a]))):Pe(Re("PLEASE_SELECT_PORTAL"))}))},_displayDialog:function(){const e=L.DomUtil.create("div","container");this._addPortalSet(e,Re("SOURCE_PORT"),"_source",D.LINK_SOURCE_KEY),this._addPortalSet(e,Re("ANCHOR1"),"_anchor1",D.ANCHOR_ONE_KEY,Re("ADD1")),this._addPortalSet(e,Re("ANCHOR2"),"_anchor2",D.ANCHOR_TWO_KEY,Re("ADD2"));const t=L.DomUtil.create("button","drawb",e);t.textContent=Re("ADD_BUTTON_LINKS"),this._desc=L.DomUtil.create("input","desc",e),this._desc.placeholder=Re("DESCRIP_PLACEHOLD"),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),this._source||Pe(Re("SEL_SRC_PORT"));const t=Ke();t.startBatchMode(),this._anchor1&&t.addLink(this._source,this._anchor1,{description:this._desc.value,order:t.nextOrder}),this._anchor2&&t.addLink(this._source,this._anchor2,{description:this._desc.value,order:t.nextOrder}),t.endBatchMode()}));const a={};a[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("ADD_LINKS"),html:e,width:"auto",dialogClass:"link",buttons:a,id:window.plugin.wasabee.static.dialogNames.linkDialogButton})}}),Wc=Fc,Yc=Ht.extend({statics:{TYPE:"autodraw"},needWritePermission:!0,initialize:function(e){Ht.prototype.initialize.call(this,e),this._portalSets={}},addHooks:function(){Ht.prototype.addHooks.call(this),window.map.on("wasabee:op:select wasabee:op:change",this._opChange,this),this._mapRefreshHook=this._updatePortalSet.bind(this),window.addHook("mapDataRefreshEnd",this._mapRefreshHook),this._operation=Ke()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.map.off("wasabee:op:select wasabee:op:change",this._opChange,this),window.removeHook("mapDataRefreshEnd",this._mapRefreshHook)},_opChange:function(){this._operation=Ke(),this._updatePortalSet()},_initPortalSet:function(e,t,a){const o=this._portalSets[e];o.zone=t,o.keys=a,o.portals=[]},_updatePortalSet:function(){for(const e in this._portalSets){const t=this._portalSets[e];if(t.keys){const e=this._operation.markers.filter((e=>e.type===ie.constants.MARKER_TYPE_KEY));if(t.portals=e.map((e=>this._operation.getPortal(e.portalId))),t.zone){const e=this._operation.getZone(t.zone);e&&(t.portals=t.portals.filter((t=>e.contains(t.latLng))))}}else{const e=et(this._operation);if(0==t.zone)t.portals=e;else{const a=new Set(t.portals.map((e=>e.id)));for(const o of e)a.has(o.id)||t.portals.push(o);const o=this._operation.getZone(t.zone);o&&(t.portals=t.portals.filter((e=>o.contains(e.latLng))))}}t.display.textContent=Re("PORTAL_COUNT",{count:t.portals.length})}},_addSetPortal:function(e,t,a,o,n){L.DomUtil.create("label","set-portal-label",a).textContent=e;const i=L.DomUtil.create("button","set-portal-button",a);i.textContent=Re("SET");const r=L.DomUtil.create("span","set-portal-display",a);this[t]?r.appendChild(Je(this[t])):r.textContent=Re("NOT_SET"),L.DomEvent.on(i,"click",(()=>{this[t]=$e(),this[t]?(o&&(localStorage[o]=JSON.stringify(this[t])),r.textContent="",r.appendChild(Je(this[t]))):(r.textContent=Re("NOT_SET"),Pe(Re("PLEASE_SELECT_PORTAL"))),n&&n()}))},_addCheckbox:function(e,t,a,o,n){const i=L.DomUtil.create("label","checkbox-label",o);i.textContent=e,i.htmlFor=t;const r=L.DomUtil.create("input","checkbox-input",o);r.type="checkbox",r.id=t,r.checked=n,this[a]=n,L.DomEvent.on(r,"change",(()=>{this[a]=r.checked}))},_addSelectSet:function(e,t,a,o){L.DomUtil.create("label","select-set-label",a).textContent=e;const n=L.DomUtil.create("select","select-set-input",a),i=L.DomUtil.create("span","select-set-display",a);i.textContent=Re("NOT_SET");{const e=L.DomUtil.create("option",null,n);e.textContent=Re("MM_SET_ALL_PORTALS"),e.value="all",e.selected=o==e.value}{const e=L.DomUtil.create("option",null,n);e.textContent=Re("MM_SET_ALL_KEYS"),e.value="keys",e.selected=o==e.value}for(const e of this._operation.zones){const t=L.DomUtil.create("option",null,n);t.textContent=e.name,t.value=e.id,t.selected=o==t.value}for(const e of this._operation.zones){const t=L.DomUtil.create("option",null,n);t.textContent=Re("MM_SET_KEYS_ZONE",{zoneName:e.name}),t.value="keys"+e.id,t.selected=o==t.value}L.DomEvent.on(n,"change",(e=>{L.DomEvent.stop(e);const a="keys"===n.value.slice(0,4),o="all"===n.value||"keys"===n.value?0:+(a?n.value.slice(4):n.value);this._initPortalSet(t,o,a),this._updatePortalSet()})),this._portalSets[t]={portals:[],zone:0,keys:!1,display:i}}});function Zc(e,t,a){const o=function(e){const t=new Map,a=o=>{if(void 0===t.get(o)){const n={children:[],length:1,number:1},i="__start__"===o?Array.from(e.keys()):e.get(o).filter((e=>e!==o));for(const e of i){const t=a(e);t.length+1>n.length&&(n.length=t.length+1,n.children=[],n.number=0),t.length+1==n.length&&(n.children.push(e),n.number+=t.number)}t.set(o,n)}return t.get(o)};return{maxima:a("__start__").children,poset:t,number:a("__start__").number}}(e);if(!o.maxima.length)return[];const n=new Map;a||(a=()=>0);const i=e=>{if(void 0===n.get(e)){const t=o.poset.get(e);if(1==t.length)n.set(e,{seq:[e],dist:0});else{const o=t.children.map(i).reduce(((t,o)=>t.dist+a(e,t.seq[t.seq.length-1])<o.dist+a(e,o.seq[o.seq.length-1])?t:o)),r={seq:Array.from(o.seq),dist:o.dist};r.dist+=a(r.seq[r.seq.length-1],e),r.seq.push(e),n.set(e,r)}}return n.get(e)};return t?(console.debug(o.poset.get(t).number,"possible paths from the given start"),i(t).seq):(console.debug(o.number,"possible paths"),o.maxima.map(i).reduce(((e,t)=>e.dist<t.dist?e:t)).seq)}function qc(e,t,a,o=!1){const n=new Map(a.map((e=>[e.id,e]))),[i,r]=function(e,t,a){const o=new Map,n=new Map;for(const i of a){if(i.id===e.id||i.id===t.id)continue;const r=[],s=we(e,t,i);for(const o of a)o.id!==e.id&&o.id!==t.id&&(i===o||we(e,t,o)*s>0&&we(t,i,o)*s>0&&we(i,e,o)*s>0)&&r.push(o.id);s>0?o.set(i.id,r):n.set(i.id,r)}return[o,n]}(e,t,a),s=Zc(i,null,((e,t)=>window.map.distance(n.get(e).latLng,n.get(t).latLng))),l=Zc(r,null,((e,t)=>window.map.distance(n.get(e).latLng,n.get(t).latLng)));return o?[s.map((e=>n.get(e))),l.map((e=>n.get(e)))]:[(s.length>l.length?s:l).map((e=>n.get(e)))]}function Vc(e,t){if(e.id==t.id)throw Error("same portal");return e.latLng.lng==t.latLng.lng?e.latLng.lat>t.latLng.lat?0:Math.PI:new Le(e.latLng,t.latLng).bearing()}function jc(e,t){const a=new Map;for(const o of t){if(o.id==e.id)continue;const t=Vc(e,o);a.set(t,o)}return new Array(...a.entries()).sort(((e,t)=>e[0]-t[0])).map((e=>e[1]))}function Qc(e,t,a,o){const n=Vc(e,a);((Vc(e,o)-n)%(2*Math.PI)+2*Math.PI)%(2*Math.PI)>Math.PI&&([a,o]=[o,a]);const i=new Array;let r=0;for(r=0;t[r].id!=a.id;r++);for(;t[r%t.length].id!=o.id;r++)i.push(t[r%t.length]);return i.push(o),i}function Jc(e,t,a,o=!1){for(const e of t)e.order=0;if(!o&&a<e.nextOrder-1){for(const o of e.links)o.order>a&&(o.order+=t.length);for(const o of e.markers)o.order>a&&(o.order+=t.length)}for(const e of t)e.order=++a;return a}function Xc(e,t,a,o,n,i={}){const r=function(e,t,a,o={}){const n=[];let i=null;for(const r of a)n.push({from:r,to:e}),n.push({from:r,to:t}),o.backlink&&i&&n.push({from:r,to:i,back:!0}),i=r;return n}(t,a,o,i),s=i.commentPrefix||"",l=r.map((t=>e.addLink(t.from,t.to,{description:s+(t.back?"backlink":"link")}))).filter((e=>e));return Jc(e,l,n,i.noShift)}const $c=Yc.extend({statics:{TYPE:"multimaxDialog"},initialize:function(e){Yc.prototype.initialize.call(this,e);let t=localStorage[window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY];t&&(this._anchorOne=new se(t)),t=localStorage[window.plugin.wasabee.static.constants.ANCHOR_TWO_KEY],t&&(this._anchorTwo=new se(t))},addHooks:function(){Yc.prototype.addHooks.call(this),this._displayDialog(),this._updatePortalSet()},_buildContent:function(){const e=L.DomUtil.create("div","container");L.DomUtil.create("div","desc",e).textContent=Re("SELECT_INSTRUCTIONS"),L.DomUtil.create("div","desc",e).textContent=Re("SEL_SB_ANCHOR2"),this._addSetPortal(Re("ANCHOR1"),"_anchorOne",e,window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY),this._addSetPortal(Re("ANCHOR2"),"_anchorTwo",e,window.plugin.wasabee.static.constants.ANCHOR_TWO_KEY),this._addCheckbox(Re("ADD_BL"),"wasabee-multimax-backlink","_flcheck",e),this._addCheckbox(Re("MM_INSERT_ORDER"),"wasabee-multimax-insert-order","_orderFromEnd",e,!0),this._addCheckbox(Re("MM_BOTH_SIDE"),"wasabee-multimax-both-side","_bothSide",e,!1),this._addSelectSet(Re("MM_SPINE"),"spine",e,"all");const t=L.DomUtil.create("button","drawb",e);return t.textContent=Re("MULTI_M"),L.DomEvent.on(t,"click",(()=>{const e=this.doMultimax.call(this);2===e.length?Ie(Re("autodraw.multimax.result_both_side",{count1:e[0],count2:e[1]})):Ie(Re("autodraw.multimax.result",{count:e[0]}))})),e},_displayDialog:function(){const e=this._buildContent(),t={};t[Re("CLOSE")]=()=>{this.closeDialog()},t[Re("CLEAR LINKS")]=()=>{Dr(Ke())},this.createDialog({title:Re("MULTI_M_TITLE"),html:e,width:"auto",dialogClass:"multimax",buttons:t,id:window.plugin.wasabee.static.dialogNames.multimaxButton})},MM:function(e,t,a,o=0,n=!0,i="multimax ",r=!1){const s=qc(e,t,a,r);n&&(o=Jc(this._operation,[this._operation.addLink(e,t,{description:i+"base"})],o));for(const a of s)o=Xc(this._operation,e,t,a,o,{commentPrefix:"multimax ",backlink:this._flcheck});return s.map((e=>e.length))},doMultimax:function(){const e=this._portalSets.spine.portals;if(!this._anchorOne||!this._anchorTwo||!e.length)return Pe(Re("INVALID REQUEST")),0;this._operation.startBatchMode(),console.log("starting multimax");const t=this.MM(this._anchorOne,this._anchorTwo,e,this._orderFromEnd?this._operation.nextOrder-1:0,!0,"multimax ",this._bothSide);return console.log("multimax done"),this._operation.endBatchMode(),t}}),ed=$c;const td=Yc.extend({statics:{TYPE:"FanfieldDialog"},initialize:function(e){Yc.prototype.initialize.call(this,e);let t=localStorage["wasabee-anchor-1"];t&&(this._anchor=new se(t)),t=localStorage["wasabee-fanfield-start"],t&&(this._start=new se(t)),t=localStorage["wasabee-fanfield-end"],t&&(this._end=new se(t))},addHooks:function(){Yc.prototype.addHooks.call(this),this._displayDialog(),this._updatePortalSet()},_displayDialog:function(){const e=L.DomUtil.create("div","container");L.DomUtil.create("div","desc",e).textContent=Re("SELECT_FAN_PORTALS"),this._addSetPortal(Re("ANCHOR_PORTAL"),"_anchor",e,"wasabee-anchor-1"),this._addSetPortal(Re("START_PORT"),"_start",e,"wasabee-fanfield-start"),this._addSetPortal(Re("END_PORT"),"_end",e,"wasabee-fanfield-end"),this._addSelectSet(Re("AUTODRAW_PORTALS_SET"),"set",e,"all"),L.DomUtil.create("div","desc secondary",e).textContent=Re("SELECT_FAN_PORTALS2");const t=L.DomUtil.create("button","drawb",e);t.textContent=Re("FANFIELD"),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),this.fanfield.call(this)}));const a={};a[Re("CLOSE")]=()=>{this.closeDialog()},a[Re("CLEAR LINKS")]=()=>{Dr(Ke())},this.createDialog({title:Re("FANFIELD2"),html:e,width:"auto",dialogClass:"fanfield",buttons:a,id:window.plugin.wasabee.static.dialogNames.fanfield})},fanfield:function(){if(!this._anchor||!this._start||!this._end)return void Pe(Re("SET_3_PORT"));const[e,t]=function(e,t,a,o){let n=0;const i=[],r=function(e,t,a,o){return t.find((e=>e.id===a.id))||t.push(a),t.find((e=>e.id===o.id))||t.push(o),Qc(e,jc(e,t),a,o)}(e,t,a,o),s=Array.from(r);s.reverse();for(let t=s.length-1;t>=0;t--){const a=s[t];if(i.push({from:a,to:e,comment:"anchor"}),t+1==s.length)continue;let o=t+1,r=null;for(;o<s.length;o++){const t=s[o];if(r&&Ae(e.latLng,r.latLng,a.latLng,t.latLng))break;r=t}o--,i.push({from:a,to:s[o],comment:"subfield"}),n++;for(var l=o-1;l>t;l--)i.push({from:a,to:s[l],comment:"double subfield"}),n+=2;s.splice(t+1,o-t-1)}return[i,n]}(this._anchor,this._portalSets.set.portals,this._start,this._end),a=Ke();a.startBatchMode();const o=e.map((e=>a.addLink(e.from,e.to,{description:"fanfield "+e.comment}))).filter((e=>e));Jc(a,o,0),a.endBatchMode();const n=313*e.length+1250*t;Ie(Re("autodraw.fanfield.result",{links:e.length,fields:t,ap:n}))}}),ad=td,od=Yc.extend({statics:{TYPE:"StarburstDialog"},initialize:function(e){Yc.prototype.initialize.call(this,e);const t=localStorage[window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY];t&&(this._anchor=new se(t))},addHooks:function(){Yc.prototype.addHooks.call(this),this._displayDialog()},_buildContent:function(){const e=L.DomUtil.create("div","container");L.DomUtil.create("div","desc",e).textContent=Re("SEL_SB_ANCHOR"),this._addSetPortal(Re("ANCHOR_PORTAL"),"_anchor",e,window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY),L.DomUtil.create("div","desc secondary",e).textContent=Re("SEL_SB_ANCHOR2"),this._addSelectSet(Re("MM_SPINE"),"spine",e,"all");const t=L.DomUtil.create("button","drawb",e);return t.textContent=Re("STARBURST_DRAW"),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),this.starburst.call(this)})),e},_displayDialog:function(){const e=this._buildContent(),t={};t[Re("CLOSE")]=()=>{this.closeDialog()},t[Re("CLEAR LINKS")]=()=>{Dr(Ke())},this.createDialog({title:Re("STARBURST TITLE"),html:e,width:"auto",dialogClass:"starburst",buttons:t,id:window.plugin.wasabee.static.dialogNames.starburst})},starburst:function(){if(!this._anchor)return void Pe(Re("SEL_SB_ANCHOR"));const e=Ke();e.startBatchMode();const t=this._portalSets.spine.portals;for(const a of t)a.id!=this._anchor.id&&e.addLink(a,this._anchor,{description:"auto starburst"});e.endBatchMode()}}),nd=od,id=Yc.extend({statics:{TYPE:"SaveLinksDialog"},initialize:function(e){Yc.prototype.initialize.call(this,e);const t=localStorage[window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY];t&&(this._anchor=new se(t))},addHooks:function(){Yc.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:function(){const e=L.DomUtil.create("div","container");L.DomUtil.create("div","desc",e).textContent=Re("SEL_SL_ANCHOR"),this._addSetPortal(Re("ANCHOR_PORTAL"),"_anchor",e,window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY);const t=L.DomUtil.create("button","drawb",e);t.textContent=Re("SAVELINKS_DRAW"),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),this.saveLinks.call(this)}));const a={};a[Re("CLOSE")]=()=>{this.closeDialog()},a[Re("CLEAR LINKS")]=()=>{Dr(Ke())},this.createDialog({title:Re("SAVELINKS TITLE"),html:e,width:"auto",dialogClass:"savelinks",buttons:a,id:window.plugin.wasabee.static.dialogNames.savelinks})},saveLinks:function(){if(!this._anchor)return void Pe("Select an anchor portal");const e=Ke();e.startBatchMode();for(const t of function(e,t){const a=[];for(const o in window.links){const n=window.links[o];if(e.containsLinkFromTo(n.options.data.oGuid,n.options.data.dGuid))continue;const i=new se({id:n.options.data.oGuid,lat:(n.options.data.oLatE6/1e6).toFixed(6),lng:(n.options.data.oLngE6/1e6).toFixed(6),name:n.options.data.oGuid,comment:"in"}),r=new se({id:n.options.data.dGuid,lat:(n.options.data.dLatE6/1e6).toFixed(6),lng:(n.options.data.dLngE6/1e6).toFixed(6),name:n.options.data.dGuid,comment:"out"});i.id===t.id&&a.push(r),r.id===t.id&&a.push(i)}return a}(e,this._anchor))t.id!=this._anchor.id&&("out"===t.comment?e.addLink(this._anchor,t,{description:"Save Links (Outbound from anchor)"}):e.addLink(t,this._anchor,{description:"Save Links (Inbound to anchor)"}));e.endBatchMode()}}),rd=id;function sd(e,t,a){return[[e,ld(e,t,a)],[t,ld(t,a,e)],[a,ld(a,e,t)]].sort(((e,t)=>t[1]-e[1])).map((e=>e[0]))}function ld(e,t,a){const o=window.map.project(t.latLng),n=window.map.project(e.latLng),i=window.map.project(a.latLng),r=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2)),s=Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2)),l=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2));return Math.acos((s*s+r*r-l*l)/(2*s*r))}const cd=Yc.extend({statics:{TYPE:"OnionDialog"},initialize:function(e){Yc.prototype.initialize.call(this,e);const t=localStorage[window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY];t&&(this._anchor=new se(t))},addHooks:function(){Yc.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:function(){const e=L.DomUtil.create("div","container");L.DomUtil.create("div","desc",e).textContent=Re("SELECT_ONION_PORTALS"),L.DomUtil.create("div","desc",e).textContent=Re("SEL_SB_ANCHOR2"),this._addSetPortal(Re("ANCHOR_PORTAL"),"_anchor",e,window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY),L.DomUtil.create("label",null,e).textContent=Re("autodraw.onion.variant"),this.optionMenu=L.DomUtil.create("select",null,e);for(const[e,t]of[[Re("autodraw.onion.variant.equilateral"),"equi"],[Re("autodraw.onion.variant.grow"),"grow"],[Re("autodraw.onion.variant.balanced"),"balanced"]]){const a=L.DomUtil.create("option",null,this.optionMenu);a.value=t,a.textContent=e}const t=L.DomUtil.create("button","drawb",e);t.textContent=Re("ONION"),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),this.onion.call(this)}));const a={};a[Re("CLOSE")]=()=>{this.closeDialog()},a[Re("CLEAR LINKS")]=()=>{Dr(Ke())},this.createDialog({title:Re("ONION_WAS_TAKEN"),html:e,width:"auto",dialogClass:"onion",buttons:a})},onion:function(){if(this._operation=Ke(),!this._anchor)return void Pe("no anchor selected");const e=["#f80c12","#ee1100","#ff3311","#ff4422","#ff6644","#ff9933","#feae2d","#ccbb33","#d0c310","#aacc22","#69d025","#22ccaa","#12bdb9","#11aabb","#4444dd","#3311bb","#3b0cbd","#442299"],t=et(this._operation),a=function(e,t,a){if(t=t.filter((t=>t.id!==e.id)),t.length<2)return[];const o=new Map;for(const a of t){const t=window.map.distance(e.latLng,a.latLng);o.set(t,a)}const n=[...o.entries()].sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));let[i,r,s]=sd(e,n[0],n[1]);const l=[{from:r,to:i},{from:s,to:i},{from:s,to:r}];t=t.filter((e=>e.id!==r.id&&e.id!==s.id));const c="grow"===a?3:1;let d=c;for(;d>0&&t.length>0;){d-=1;const e=new Map;for(const a of t){const t=window.map.distance(i.latLng,a.latLng);e.set(t,a)}const o=[...e.entries()].sort(((e,t)=>e[0]-t[0])).map((e=>e[1])).find((e=>be(e,r,s,i)));o&&(d=c,t=t.filter((e=>e.id!==o.id)),l.push({from:o,to:r}),l.push({from:o,to:s}),l.push({from:o,to:i}),[i,r,s]="balanced"===a?[r,s,o]:sd(r,s,o)),d<c&&"grow"==a&&([i,r,s]=[r,s,i])}return l}(this._anchor,t,this.optionMenu.value);this._operation.startBatchMode(),a.forEach(((t,a)=>this._operation.addLink(t.from,t.to,{order:a+1,color:e[a%e.length]}))),this._operation.endBatchMode()}}),dd=cd;function ud(e,t,a,o,n){const i=new Array;for(const r of t){const t=r.id||r.options.guid;t!==e.id&&t!==a.id&&t!==o.id&&t!==n.id&&i.push(r)}const r=new Array,s=new Array,l=new Array;for(const t of i)Ae(t.latLng,a.latLng,e.latLng,o.latLng)||Ae(t.latLng,a.latLng,e.latLng,n.latLng)?s.push(t):Ae(t.latLng,o.latLng,e.latLng,a.latLng)||Ae(t.latLng,o.latLng,e.latLng,n.latLng)?l.push(t):r.push(t);return[r,s,l]}function pd(e,t){const a=_e(t)._cartesian,o=new Map(e.map((e=>{return[e.id,(t=a,o=_e(e.latLng)._cartesian,function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]}([t[0]-o[0],t[1]-o[1],t[2]-o[2]]))];var t,o})));return e.sort(((e,t)=>o.get(e.id)-o.get(t.id)))}function md(e){return(3**(e-1)-1)/2}function hd(e,t,a,o,n){if(n<=1)return{success:!0,anchors:[t,a,o],split:0};let i={success:!1,anchors:[t,a,o],split:0,portal:null,children:null};if(!e.length)return i;pd(e,Te(t,a,o));let r=e.length,s=[],l={};for(const n of e){const i=ud(n,new Array(...e),t,a,o),c=Math.max(i[0].length,i[1].length,i[2].length)-Math.min(i[0].length,i[1].length,i[2].length);if(c<r&&(s=i,r=c,l=n),0==r)break}return i.portal=l,i.children=[hd(new Array(...s[0]),t,a,l,n-1),hd(new Array(...s[1]),a,o,l,n-1),hd(new Array(...s[2]),t,o,l,n-1)],i.success=i.children[0].success&&i.children[1].success&&i.children[2].success,i.split=1+i.children[0].split+i.children[1].split+i.children[2].split,i}const gd=Yc.extend({statics:{TYPE:"HomogeneousDialog"},initialize:function(e){Yc.prototype.initialize.call(this,e);let t=localStorage[window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY];t&&(this._anchorOne=new se(t)),t=localStorage[window.plugin.wasabee.static.constants.ANCHOR_TWO_KEY],t&&(this._anchorTwo=new se(t)),t=localStorage[window.plugin.wasabee.static.constants.ANCHOR_THREE_KEY],t&&(this._anchorThree=new se(t)),this._failed=0},addHooks:function(){Yc.prototype.addHooks.call(this),this._layerGroup=new L.LayerGroup,window.addLayerGroup("Wasabee H-G Debug",this._layerGroup,!0),this._displayDialog(),this._updatePortalSet()},_updatePortalSet:function(){Yc.prototype._updatePortalSet.call(this),this._anchorOne&&this._anchorTwo&&this._anchorThree&&(this._portalSets.portals.portals=this._portalSets.portals.portals.filter((e=>be(this._anchorOne,this._anchorTwo,this._anchorThree,e))),this._portalSets.portals.display.textContent=Re("PORTAL_COUNT",{count:this._portalSets.portals.portals.length}))},removeHooks:function(){window.removeLayerGroup(this._layerGroup),Yc.prototype.removeHooks.call(this)},_displayDialog:function(){const e=L.DomUtil.create("div","container");L.DomUtil.create("div","desc",e).textContent=Re("H-GEN_INST"),this._addSetPortal(Re("ANCHOR_PORTAL"),"_anchorOne",e,window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY,this._updatePortalSet.bind(this)),this._addSetPortal(Re("ANCHOR_PORTAL2"),"_anchorTwo",e,window.plugin.wasabee.static.constants.ANCHOR_TWO_KEY,this._updatePortalSet.bind(this)),this._addSetPortal(Re("ANCHOR_PORTAL3"),"_anchorThree",e,window.plugin.wasabee.static.constants.ANCHOR_THREE_KEY,this._updatePortalSet.bind(this)),this._addSelectSet(Re("AUTODRAW_PORTALS_SET"),"portals",e,"all"),this.spanPortalNeeded=L.DomUtil.create("span","",e),L.DomUtil.create("label",null,e).textContent=Re("MAX_SPLITS"),this.depthMenu=L.DomUtil.create("input",null,e),this.depthMenu.type="number",this.depthMenu.min=2,this.depthMenu.value=4,L.DomEvent.on(this.depthMenu,"change",(()=>{this.spanPortalNeeded.textContent=Re("autodraw.homogeneous.portals_required",{count:md(+this.depthMenu.value)})})),L.DomUtil.create("label",null,e).textContent=Re("autodraw.homogeneous.order"),this.orderMenu=L.DomUtil.create("select",null,e);for(const[e,t]of[[Re("FROM_DEPTH"),"core"],[Re("FROM_1-2"),"base12"],[Re("FROM_1-3"),"base13"],[Re("FROM_2-3"),"base23"]]){const a=L.DomUtil.create("option",null,this.orderMenu);a.value=t,a.textContent=e}this._addCheckbox(Re("HF_DEEP_SEARCH"),"wasabee-homogeneous-deep","_fullSearch",e,!0);const t=L.DomUtil.create("div",null,e);this._redrawButton=L.DomUtil.create("button",null,t),this._redrawButton.textContent=Re("HF_REDRAW_BUTTON"),this._redrawButton.style.display="none",L.DomEvent.on(this._redrawButton,"click",(e=>{L.DomEvent.stop(e),this._operation=Ke(),this._tree&&this._draw.call(this)}));const a=L.DomUtil.create("button","drawb",e);a.textContent=Re("HF_DRAW_BUTTON"),L.DomEvent.on(a,"click",(e=>{L.DomEvent.stop(e),this._operation=Ke(),+this.depthMenu.value<2||(this._fullSearch?this.hdeepfield():this.hfield())}));const o={};o[Re("CLOSE")]=()=>{this.closeDialog()},o[Re("CLEAR LINKS")]=()=>{this._layerGroup.clearLayers(),Dr(Ke())},this.createDialog({title:Re("HG"),html:e,width:"auto",dialogClass:"homogeneous",buttons:o})},hfield:function(){if(this._failed=0,this._layerGroup.clearLayers(),!this._anchorOne||!this._anchorTwo||!this._anchorThree)return void Pe("please select three anchors");const e=new Array;for(const t of et(this._operation))be(this._anchorOne,this._anchorTwo,this._anchorThree,t)&&e.push(t);console.time("HF greedy");const t=hd(e,this._anchorOne,this._anchorTwo,this._anchorThree,+this.depthMenu.value);console.timeEnd("HF greedy"),this._tree=t,this._failed=md(+this.depthMenu.value)-t.split,this._draw(),this._failed>0&&Me(Re("autodraw.homogeneous.missing_split",{count:this._failed}))},hdeepfield:function(){if(this._failed=0,this._layerGroup.clearLayers(),!this._anchorOne||!this._anchorTwo||!this._anchorThree)return void Pe("please select three anchors");const e=new Array;for(const t of et(this._operation))be(this._anchorOne,this._anchorTwo,this._anchorThree,t)&&e.push(t);console.time("HF deep recurser");const t=function(e,t,a,o,n){const i=new Map;console.log("Expect at least",Math.max(0,md(n)-e.length),"missing splits");const r=(e,t,a,o,n)=>{if(e<=1)return{success:!0,anchors:[a,o,n],split:0};const s=[e,a.id,o.id,n.id].sort().toString();if(void 0===i.get(s)){const l=Math.min(md(e),t.length);let c={success:!1,anchors:[a,o,n],split:0,portal:null,children:null};pd(t,Te(a,o,n));for(const i of t){const s=ud(i,new Array(...t),a,o,n);if(Math.min(md(e-1),s[0].length)+Math.min(md(e-1),s[1].length)+Math.min(md(e-1),s[2].length)+1<=c.split)continue;let d=r(e-1,new Array(...s[0]),a,o,i),u=r(e-1,new Array(...s[1]),o,n,i),p=r(e-1,new Array(...s[2]),a,n,i);const m=d.split+u.split+p.split+1;if(m>c.split&&(c.success=d.success&&u.success&&p.success,c.split=m,c.portal=i,c.children=[d,u,p]),m==l)break}i.set(s,c)}return i.get(s)};return r(n,e,t,a,o)}(e,this._anchorOne,this._anchorTwo,this._anchorThree,+this.depthMenu.value);console.timeEnd("HF deep recurser"),this._tree=t,this._failed=md(+this.depthMenu.value)/2-t.split,this._draw(),this._failed>0&&Me(Re("autodraw.homogeneous.missing_split",{count:this._failed})),this._failed=0,this._anchorOne&&this._anchorTwo&&this._anchorThree||Pe("please select three anchors")},_draw:function(){this._colors=["#f80c12","#ee1100","#ff3311","#ff4422","#ff6644","#ff9933","#feae2d","#ccbb33","#d0c310","#aacc22","#69d025","#22ccaa","#12bdb9","#11aabb","#4444dd","#3311bb","#3b0cbd","#442299"],this._operation.startBatchMode(),"base12"==this.orderMenu.value?this._drawTreeBase(this._tree,this._anchorOne,this._anchorTwo):"base13"==this.orderMenu.value?this._drawTreeBase(this._tree,this._anchorOne,this._anchorThree):"base23"==this.orderMenu.value?this._drawTreeBase(this._tree,this._anchorTwo,this._anchorThree):this._drawTreeCore(this._tree),this._operation.endBatchMode(),this._operation.cleanPortalList(),this._redrawButton.style.display=""},_drawTreeCore:function(e){const t=+this.depthMenu.value-1,[a,o,n]=e.anchors,i=(e,t,a)=>{if(t.portal){a.set(t.portal.id,e);for(const o of t.children)i(e+1,o,a)}},r=new Map([[a.id,0],[o.id,0],[n.id,0]]);i(1,e,r);const s=(e,n)=>{let i=r.get(e.id),s=r.get(n.id);const l=(t-s)*(t-s-1)/2+1;return 0!=s||n.id==a.id?l+i-s-1:n.id==o.id?l+t+i:l+2*t+i+1},l=(e,t)=>{if(t.portal){const[a,o,n]=t.anchors.map((e=>[r.get(e.id),e])).sort().map((e=>e[1])),i=s(t.portal,a),c=s(t.portal,o),d=s(t.portal,n),u=[r.get(a.id)?[a,t.portal,"intern",i]:[a,t.portal,"anchor intern",i],r.get(o.id)>0?[t.portal,o,"early",d]:[o,t.portal,"anchor intern",c],0==r.get(n.id)?[n,t.portal,"anchor intern",d]:[t.portal,n,"to father",d]];for(const[e,t,a,o]of u)this._operation.addLink(e,t,{description:a,order:o,color:this._colors[o%this._colors.length],replace:!0});for(const a of t.children)l(e+1,a)}},c=(e,t)=>{if(t.portal)for(const a of t.children)c(e-1,a);if(!t.portal&&!t.success){const a=1==e?"orange":"red",o=[t.anchors[0].latLng,t.anchors[1].latLng,t.anchors[2].latLng,t.anchors[0].latLng];L.polygon(o,{color:a}).addTo(this._layerGroup)}};c(t,e),this._operation.addPortal(a),this._operation.addPortal(o),this._operation.addPortal(n),this._operation.addLink(o,a,{description:"Outer 1",order:t*(t-1)/2+t+1,color:this._colors[(t*(t-1)/2+t+1)%this._colors.length],replace:!0}),this._operation.addLink(n,a,{description:"Outer 2",order:t*(t-1)/2+2*t+2,color:this._colors[(t*(t-1)/2+2*t+2)%this._colors.length],replace:!0}),this._operation.addLink(n,o,{description:"Outer 3",order:t*(t-1)/2+2*t+2,color:this._colors[(t*(t-1)/2+2*t+2)%this._colors.length],replace:!0}),l(1,e)},_drawTreeBase:function(e,t,a){const o=+this.depthMenu.value-1,n=(e,t,a,o,i)=>{if(t.portal){const s=t.anchors.filter((e=>e.id!==a.id&&e.id!==o.id))[0];for(const n of t.children)n.anchors.every((e=>e.id!==s.id))&&(i=r(e+1,n,a,o,i));let l,c;for(const r of t.children)r.anchors.every((e=>e.id!==o.id))&&(l=n(e+1,r,a,t.portal,i));for(const r of t.children)r.anchors.every((e=>e.id!==a.id))&&(c=n(e+1,r,o,t.portal,i));i=Math.max(l,c)}return i},i=(e,t,a,n)=>{if(t.portal){this._operation.addLink(a,t.portal,{description:"intern link",order:n+1,color:this._colors[n%this._colors.length],replace:!0});for(const o of t.children)o.anchors.includes(a)&&i(e+1,o,a,n+1)}return n+o-e+1},r=(e,t,a,o,r=1)=>{r=n(e,t,a,o,r);const s=t.anchors.filter((e=>e.id!==a.id&&e.id!==o.id))[0];for(const e of[a,o])this._operation.addLink(s,e,{order:r+1,color:this._colors[r%this._colors.length],replace:!0});return t.portal?i(e,t,s,r+1):r+1},s=(e,t)=>{if(t.portal)for(const a of t.children)s(e-1,a);if(!t.portal&&!t.success){const a=1==e?"orange":"red",o=[t.anchors[0].latLng,t.anchors[1].latLng,t.anchors[2].latLng,t.anchors[0].latLng];L.polygon(o,{color:a}).addTo(this._layerGroup)}};s(o,e);for(const t of e.anchors)this._operation.addPortal(t);this._operation.addLink(a,t,{description:"Outer base",order:1,color:this._colors[0],replace:!0}),r(1,e,t,a)},_getCenter:function(e,t,a){const o=window.map.project(e.latLng||e._latlng),n=window.map.project(t.latLng||t._latlng),i=window.map.project(a.latLng||a._latlng),r=L.point((o.x+n.x+i.x)/3,(o.y+n.y+i.y)/3);return window.map.unproject(r)}}),fd=gd;function Ed(e,t,a,o,n){const[i]=qc(e,t,n,!1),r=i[i.length-1],[s]=qc(t,r,a.filter((a=>e.id==a.id||be(t,r,a,e))),!1),l=s[s.length-1],[c]=qc(r,l,o.filter((e=>t.id==e.id||be(r,l,e,t))),!1);return[s,c,i]}const _d=Yc.extend({statics:{TYPE:"madridDialog"},initialize:function(e){Yc.prototype.initialize.call(this,e);let t=localStorage[window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY];t&&(this._anchorOne=new se(t)),t=localStorage[window.plugin.wasabee.static.constants.ANCHOR_TWO_KEY],t&&(this._anchorTwo=new se(t))},addHooks:function(){Yc.prototype.addHooks.call(this),this._displayDialog(),this._updatePortalSet()},_buildContent:function(){const e=L.DomUtil.create("div","container");L.DomUtil.create("div","desc",e).textContent=Re("SELECT_INSTRUCTIONS"),this._addSetPortal(Re("ANCHOR1"),"_anchorOne",e,window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY),this._addSelectSet(Re("MADRID_SET_1"),"setOne",e,"all"),this._addSetPortal(Re("ANCHOR2"),"_anchorTwo",e,window.plugin.wasabee.static.constants.ANCHOR_TWO_KEY),this._addSelectSet(Re("MADRID_SET_2"),"setTwo",e,"all"),L.DomUtil.create("label",null,e).textContent=Re("ANCHOR3"),L.DomUtil.create("span",null,e).textContent=Re("autodraw.madrid.auto_determined"),this._addSelectSet(Re("MADRID_SET_3"),"setThree",e,"all"),this._addCheckbox(Re("ADD_BL"),"wasabee-madrid-backlink","_flcheck",e),this._addCheckbox(Re("autodraw.madrid.balanced"),"wasabee-madrid-balanced","_balancedcheck",e);const t=L.DomUtil.create("label","newline",e),a=L.DomUtil.create("span",null,e);t.textContent="\0",a.textContent="\0",L.DomUtil.create("label","placeholder",e).textContent="";const o=L.DomUtil.create("button","drawb",e);return o.textContent=Re("MADRID"),L.DomEvent.on(o,"click",(()=>{this._operation=Ke();const e=this._balancedcheck?this.doBalancedMadrid.call(this):this.doMadrid.call(this);Ie(Re("autodraw.madrid.result",{count:e}))})),e},_displayDialog:function(){const e=this._buildContent(),t={};t[Re("CLOSE")]=()=>{this.closeDialog()},t[Re("CLEAR LINKS")]=()=>{Dr(Ke())},this.createDialog({title:Re("MADRID_TITLE"),html:e,width:"auto",dialogClass:"madrid",buttons:t,id:window.plugin.wasabee.static.dialogNames.madrid})},doBalancedMadrid:function(){if(!(this._anchorOne&&this._anchorTwo&&this._portalSets.setOne.portals.length&&this._portalSets.setTwo.portals.length&&this._portalSets.setThree.portals.length))return Pe(Re("INVALID REQUEST")),0;null==this._portalSets.setOne.portals.find((e=>this._anchorOne.id==e.id))&&this._portalSets.setOne.portals.push(this._anchorOne),null==this._portalSets.setTwo.portals.find((e=>this._anchorTwo.id==e.id))&&this._portalSets.setTwo.portals.push(this._anchorTwo);const e=Ed(this._anchorOne,this._anchorTwo,this._portalSets.setOne.portals,this._portalSets.setTwo.portals,this._portalSets.setThree.portals),t=e.map((e=>1/e.length));this._operation.startBatchMode(),this._operation.addLink(e[0][0],e[1][0],{description:"inner field"}),this._operation.addLink(e[1][0],e[2][0],{description:"inner field"}),this._operation.addLink(e[2][0],e[0][0],{description:"inner field"});const a=[1,1,1];for(;a.some(((t,a)=>t<e[a].length));){let o=[0,1,2].sort(((e,o)=>a[e]*t[e]-a[o]*t[o])),n=e[o[0]][a[o[0]]],i=e[o[0]][a[o[0]]-1],r=e[o[1]][a[o[1]]-1],s=e[o[2]][a[o[2]]-1];for(let t=0;(!n||!be(n,r,s,i))&&t<3;t++)this._operation.setPortalComment(i,"point of disbalance"),o=[o[1],o[2],o[0]],n=e[o[0]][a[o[0]]],i=e[o[0]][a[o[0]]-1],r=e[o[1]][a[o[1]]-1],s=e[o[2]][a[o[2]]-1];be(n,r,s,i)||console.log("well, this doesn't work here...");const l=this._operation.addLink(n,r,{description:"link"}),c=this._operation.addLink(n,s,{description:"link"});l.zone=o[0]+1,c.zone=o[0]+1,a[o[0]]+=1}return this._operation.endBatchMode(),a[0]+a[1]+a[2]-2},doMadrid:function(){if(!(this._anchorOne&&this._anchorTwo&&this._portalSets.setOne.portals.length&&this._portalSets.setTwo.portals.length&&this._portalSets.setThree.portals.length))return Pe(Re("INVALID REQUEST")),0;null==this._portalSets.setOne.portals.find((e=>this._anchorOne.id==e.id))&&this._portalSets.setOne.portals.push(this._anchorOne),null==this._portalSets.setTwo.portals.find((e=>this._anchorTwo.id==e.id))&&this._portalSets.setTwo.portals.push(this._anchorTwo);const e=Ed(this._anchorOne,this._anchorTwo,this._portalSets.setOne.portals,this._portalSets.setTwo.portals,this._portalSets.setThree.portals);this._operation.startBatchMode();let t=Jc(this._operation,[this._operation.addLink(this._anchorOne,this._anchorTwo,{description:"madrid base"})],this._operation.nextOrder-1);return t=Xc(this._operation,this._anchorOne,this._anchorTwo,e[2],t,{commentPrefix:"madrid ",backlink:this._flcheck}),t=Xc(this._operation,this._anchorTwo,e[2][e[2].length-1],e[0].slice(1),t,{commentPrefix:"madrid ",backlink:this._flcheck}),Xc(this._operation,e[2][e[2].length-1],e[0][e[0].length-1],e[1].slice(1),t,{commentPrefix:"madrid ",backlink:this._flcheck}),this._operation.endBatchMode(),e[0].length+e[1].length+e[2].length-2}}),wd=_d;function bd(e,t,a,o,n,i){const r=[],s=[t,a];i.get(t.id)>i.get(a.id)&&s.reverse();for(let t=n;t<o.length;t++){const a=o[t];if(!i.has(a.id))continue;let n=s.length-1,l=0;for(;n>=0&&i.get(s[n].id)>i.get(a.id);)n--;for(;l<s.length&&i.get(s[l].id)<i.get(a.id);)l++;Ae(e,a,s[n],s[l])||(r.push([a,s[n],s[l]]),s.splice(n+1,0,a))}return r}const Td=Yc.extend({statics:{TYPE:"flipflopDialog"},initialize:function(e){Yc.prototype.initialize.call(this,e);let t=localStorage[window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY];t&&(this._anchorOne=new se(t))},addHooks:function(){Yc.prototype.addHooks.call(this),this._displayDialog(),this._updatePortalSet()},_buildContent:function(){const e=L.DomUtil.create("div","container");L.DomUtil.create("div","desc",e).textContent=Re("FLIP_FLOP_DESC"),L.DomUtil.create("div","desc",e).textContent=Re("FLIP_FLOP_INSTRUCTION"),this._addSetPortal(Re("ANCHOR1"),"_anchorOne",e,window.plugin.wasabee.static.constants.ANCHOR_ONE_KEY),this._addSelectSet(Re("AUTODRAW_PORTALS_SET"),"set",e,"all"),L.DomUtil.create("label",null,e).textContent="#SBUL",this._nbSbul=L.DomUtil.create("input",null,e),this._nbSbul.type="number",this._nbSbul.value=2,this._nbSbul.size=1,this._nbSbul.min=0,this._nbSbul.max=4;const t=L.DomUtil.create("button","drawb",e);return t.textContent=Re("autodraw.common.draw_button"),L.DomEvent.on(t,"click",(()=>{const e=this.doFanGun();Ie(Re("autodraw.flipflop.result",{count:e}))})),e},_displayDialog:function(){const e=this._buildContent(),t={};t[Re("CLOSE")]=()=>{this.closeDialog()},t[Re("FLIP_FLOP_FIND_ANCHORS")]=()=>{this.findOtherAnchors()},t[Re("CLEAR LINKS")]=()=>{Dr(Ke())},this.createDialog({title:Re("FLIP_FLOP_TITLE"),html:e,width:"auto",dialogClass:"flipflop",buttons:t,id:"flipflop"})},findOtherAnchors:function(){if(!this.best)return;this._operation=Ke();const e=et(this._operation),t=this.best.steps.map((e=>e[0])).concat([this.best.two,this.best.three]),a=[];for(const o of e){let e=!0;for(const[t,a,n]of this.best.steps)if(window.map.distance(o.latLng,t.latLng)>window.map.distance(o.latLng,a.latLng)||window.map.distance(o.latLng,t.latLng)>window.map.distance(o.latLng,n.latLng)){e=!1;break}if(!e)continue;const n=Qc(o,jc(o,t),this.best.two,this.best.three);if(n.length!==t.length)continue;const i=n.map((e=>e.id));let r=0,s=0;for(;r<i.length&&s<this.best.angleSort.length;)this.best.angleSort[s]===i[r]&&r++,s++;e=r==i.length,e&&a.push(o)}for(const e of a)this._operation.addMarker(ie.constants.MARKER_TYPE_LINK,e,{comment:"flipflop anchor"})},getDistances:function(e,t){if(this.distCache&&this.distCache.has(e.id))return this.distCache.get(e.id);const a=new Map(t.map((t=>[t.id,window.map.distance(t.latLng,e.latLng)])));return this.distCache&&this.distCache.set(e.id,a),a},createFanLinks:function(e,t,a,o,n=0){this._operation.addLink(t,a,{description:"flipflop origin",order:n+1});for(const[e,t,a]of o)this._operation.addLink(e,t,{description:"flipflop origin",order:n+1}),this._operation.addLink(e,a,{description:"flipflop origin",order:n+1});n++,this._operation.addLink(e,t,{description:"flipflop fire",order:++n}),this._operation.addLink(e,a,{description:"flipflop fire",order:++n});for(const t of o){const a=t[0];this._operation.addLink(e,a,{description:"flipflop fire",order:++n})}},doFanGun:function(){if(!this._anchorOne)return Pe(Re("INVALID REQUEST")),0;this._operation=Ke();const e=this._portalSets.set.portals.filter((e=>e.id!=this._anchorOne.id)),t=+this._nbSbul.value<0?0:+this._nbSbul.value>4?4:+this._nbSbul.value;console.log("starting fastfan"),this.distCache=new Map;const a=this.getDistances(this._anchorOne,e);e.sort(((e,t)=>a.get(t.id)-a.get(e.id)));const o=jc(this._anchorOne,e),n={two:null,three:null,steps:[]},i=8*(t+1)-2;for(let t=0;t<e.length;t++){const a=e[t];for(let r=t+1;r<e.length;r++){const t=e[r],s=Qc(this._anchorOne,o,a,t),l=new Map(s.map(((e,t)=>[e.id,t]))),c=bd(this._anchorOne,a,t,e,r+1,l);if((!n.two||n.steps.length<c.length)&&(n.steps=c,n.two=a,n.three=t,n.angleSort=s.map((e=>e.id)),n.steps.length>=i))break}if(n.steps.length>=i)break}return n.steps.length>i&&(n.steps=n.steps.slice(0,i)),n.two?(this.best=n,this._operation.startBatchMode(),this.createFanLinks(this._anchorOne,n.two,n.three,n.steps,this._operation.nextOrder-1),console.log("fastfan done"),this._operation.endBatchMode(),n.steps.length+2):(Pe(Re("INVALID REQUEST")),0)}}),Ad=Td,Ld=Ht.extend({statics:{TYPE:"autodraws"},needWritePermission:!0,initialize:function(e){Ht.prototype.initialize.call(this,e),this.menuItems=[{text:Re("MM"),callback:()=>{this.closeDialog(),(new ed).enable()}},{text:Re("MAX"),callback:()=>{this.closeDialog(),(new ad).enable()}},{text:Re("STARBURST"),callback:()=>{this.closeDialog(),(new nd).enable()}},{text:Re("ONION_WAS_TAKEN"),callback:()=>{this.closeDialog(),(new dd).enable()}},{text:Re("HG"),callback:()=>{this.closeDialog(),(new fd).enable()}},{text:Re("MADRID_WAS_TAKEN"),callback:()=>{this.closeDialog(),(new wd).enable()}},{text:Re("SAVELINKS"),callback:()=>{this._dialog.dialog("close"),(new rd).enable()}},{text:Re("FLIP_FLOP_NAME"),callback:()=>{this.closeDialog(),(new Ad).enable()}}]},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:function(){const e=L.DomUtil.create("div","container");for(const t of this.menuItems){const a=L.DomUtil.create("a",null,e);a.href="#",a.textContent=t.text,L.DomEvent.on(a,"click",L.DomEvent.stopPropagation).on(a,"mousedown",L.DomEvent.stopPropagation).on(a,"dblclick",L.DomEvent.stopPropagation).on(a,"click",L.DomEvent.preventDefault).on(a,"click",t.callback,this)}const t={};t[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("AUTODRAWS"),html:e,width:"auto",dialogClass:"autodraws",buttons:t,id:window.plugin.wasabee.static.dialogNames.autodraws})}}),kd=Ft.extend({statics:{TYPE:"LinkButton"},needWritePermission:!0,initialize:function(e){this.type=kd.TYPE,this.title=Re("LINKS BUTTON TITLE"),this.handler=this._toggleActions,this._container=e,this.button=this._createButton({container:this._container,className:"wasabee-toolbar-link",callback:this._toggleActions,context:this,title:this.title}),this.setSubActions(this.getSubActions()),window.map.on("wasabee:ui:skin wasabee:ui:lang",(()=>{this.button.title=Re("LINKS BUTTON TITLE"),this.setSubActions(this.getSubActions())}))},getSubActions:function(){return[{title:Re("ADD LINK TITLE"),text:Re("ADD_LINKS"),callback:()=>{this.disable(),(new Wc).enable()},context:this},{title:Re("AUTO_DRAWS"),text:Re("AUTO_DRAWS"),callback:()=>{this.disable(),(new Ld).enable()},context:this}]}}),Sd=kd,vd=Ht.extend({statics:{TYPE:"markerButton"},needWritePermission:!0,addHooks:function(){Ht.prototype.addHooks.call(this);const e=this;this._pch=()=>{e.update()},window.addHook("portalSelected",this._pch),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.removeHook("portalSelected",this._pch)},update:async function(){if(this._selectedPortal&&$e()&&this._selectedPortal.id!==$e().id&&this._bulk.checked)return this._selectedPortal=$e(),void(ie.markerTypes.has(this._type.value)&&await this._addMarker(this._type.value,this._comment.value,this._zones.value,this._assign.value));this._zones.textContent="";const e=L.DomUtil.create("option",null,this._zones);e.value=0,e.textContent=Re("dialog.common.zone_all");for(const e of Ke().zones){const t=L.DomUtil.create("option",null,this._zones);t.value=e.id,t.textContent=e.name}const t=await this._getAgentMenu();this._assign.textContent="";for(const e of t)this._assign.appendChild(e);if(this._type.textContent="",this._selectedPortal=$e(),this._selectedPortal){this._portal.textContent="",this._portal.textContent="",this._portal.appendChild(Je(this._selectedPortal)),this._zones.value=Ke().determineZone(this._selectedPortal.latLng);let e=window.plugin.wasabee.static.constants.DEFAULT_MARKER_TYPE;null!=localStorage[window.plugin.wasabee.static.constants.LAST_MARKER_KEY]&&(e=localStorage[window.plugin.wasabee.static.constants.LAST_MARKER_KEY]);const t=Array.from(ie.markerTypes).map((e=>[e,Re(e)]));t.sort(((e,t)=>e[1].localeCompare(t[1])));for(const[e,a]of t){const t=L.DomUtil.create("option",null,this._type);t.value=e,t.textContent=a}this._type.value=e}else this._portal.textContent=Re("PLEASE_SELECT_PORTAL");this.setTitle(Re("ADD MARKER TITLE"))},_displayDialog:async function(){this._marker=null;const e=L.DomUtil.create("div","content");this._portal=L.DomUtil.create("div","portal",e),L.DomUtil.create("label",null,e).textContent=Re("TYPE"),this._type=L.DomUtil.create("select",null,e),L.DomUtil.create("label",null,e).textContent=Re("ZONE"),this._zones=L.DomUtil.create("select",null,e),L.DomUtil.create("label",null,e).textContent=Re("AGENT"),this._assign=L.DomUtil.create("select",null,e),L.DomUtil.create("label",null,e).textContent=Re("ADD_BULK");const t=L.DomUtil.create("div","bulk",e);this._bulk=L.DomUtil.create("input","checkbox-input",t),this._bulk.type="checkbox",this._comment=L.DomUtil.create("input",null,e),this._comment.placeholder=Re("SET_COMMENT"),await this.update();const a=L.DomUtil.create("button",null,e);a.textContent=Re("ADD"),L.DomEvent.on(a,"click",(e=>{L.DomEvent.stop(e),ie.markerTypes.has(this._type.value)&&this._addMarker(this._type.value,this._comment.value,this._zones.value,this._assign.value)}));const o={};o[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("ADD MARKER TITLE"),html:e,width:"auto",dialogClass:"markeradd",buttons:o,id:window.plugin.wasabee.static.dialogNames.markerButton})},_addMarker:async function(e,t,a,o){const n=Ke(),i={comment:t,assign:o,zone:a};n.addMarker(e,$e(),i)?(localStorage[window.plugin.wasabee.static.constants.LAST_MARKER_KEY]=e,ie.isDestructMarkerType(e)&&j.removeBlocker(n,$e().id),await this.update()):Pe(Re("ALREADY_HAS_MARKER"))},_getAgentMenu:async function(){const e=[],t=L.DomUtil.create("option",null);if(t.value="",t.textContent=Re("UNASSIGNED"),e.push(t),!re.isLoggedIn())return e;const a=Ke();if(!a.isOnCurrentServer())return e;const o=new Set,n=await wt();for(const t of a.teamlist)if(0!=n.teamJoined(t.teamid))try{const a=await bt(t.teamid,300);for(const t of a.agents)if(!o.has(t.id)){o.add(t.id);const a=L.DomUtil.create("option");a.value=t.id,a.textContent=t.getName(),e.push(a)}}catch(e){console.error(e)}return e}}),Od=Ft.extend({statics:{TYPE:"MarkerButton"},needWritePermission:!0,initialize:function(e){this.type=Od.TYPE,this.title=Re("ADD MARKER TITLE"),this.button=this._createButton({container:e,className:"wasabee-toolbar-marker",callback:()=>{(new vd).enable()},context:this,title:this.title}),window.map.on("wasabee:ui:skin wasabee:ui:lang",(()=>{this.button.title=Re("ADD MARKER TITLE")}))}}),Dd=Od,Nd=Ft.extend({statics:{TYPE:"uploadButton"},needWritePermission:!0,initialize:function(e){this.type=Nd.TYPE;const t=Ke();this.title=Re("UPLOAD BUTTON HOVER",{opName:t.name}),this._container=e,this.button=this._createButton({title:this.title,container:this._container,className:"wasabee-toolbar-upload",context:this,callback:async()=>{const e=await Ke();e.isServerOp()?this.doUpdate(e):this.doUpload(e)}}),window.map.on("wasabee:ui:skin wasabee:ui:lang",this.update,this)},update:function(){if(!re.isLoggedIn())return this._invisible(),this.title="",void(this.button.title=this.title);const e=Ke();return e.isServerOp()?e.canWriteServer()&&e.localchanged?e.server&&e.server!=Ot()?(this._invisible(),this.title="",void(this.button.title=this.title)):(this._visible(),this.title=Re("UPDATE HOVER",{opName:e.name}),void(this.button.title=this.title)):(this._invisible(),this.title="",void(this.button.title=this.title)):(this._visible(),this.title=Re("UPLOAD BUTTON HOVER",{opName:e.name}),void(this.button.title=this.title))},_visible:function(){this.button.style.display="block"},_invisible:function(){this.button.style.display="none",this.button.classList.remove("loading")},doUpload:async function(e){this.button.classList.add("loading");try{const e=await async function(){const e=Ke(),t=e.toExport(),a=await xt("/api/v1/draw",t,"application/json;charset=UTF-8");new re(a).store();const o=await yt(e.ID);return o.localchanged=!1,await o.store(),o}();await ze(e.ID),Ie(Re("UPLOADED")),this.button.classList.remove("loading"),this.update()}catch(t){if(t instanceof xe&&406==t.code)return void Pe(`Upload Failed: ${t.toString()}`);console.warn(t.toString()+": trying as update"),e.creator=re.localGet().id,this.doUpdate(e)}},doUpdate:async function(e,t=!1){const a="false"!==localStorage[window.plugin.wasabee.static.constants.REBASE_UPDATE_KEY];try{t&&delete e.lasteditid,this.button.classList.add("loading");const o=await async function(e){const t=e.toExport();try{const a=await Mt({url:`/api/v1/draw/${e.ID}`,method:"PUT",body:t,headers:e.lasteditid?{"Content-Type":"application/json;charset=UTF-8","If-Match":e.lasteditid}:{"Content-Type":"application/json;charset=UTF-8"}});return e.lasteditid=a.updateID,e.remoteChanged=!1,e.localchanged=!1,e.fetched=(new Date).toUTCString(),e.fetchedOp=t,e.server=Ot(),!0}catch(t){if(!(t instanceof xe))return console.error(t),Promise.reject(new xe({code:-1,text:`Unexpected error: ${t}`}));switch(t.code){case 412:return!1;case 410:await Fe(e.ID);default:return Promise.reject(t)}}}(e);if(o)await e.store(),e!=Ke()&&await ze(e.ID),this.update();else if(a){const t=await yt(e.ID);new Or({title:Re("UPDATE_CONFLICT_TITLE"),opOwn:Ke(),opRemote:t,updateCallback:e=>this.doUpdate(e,!0),cancelText:Re("dialog.conflict.cancel_upload")}).enable()}else new ci({title:Re("UPDATE_CONFLICT_TITLE"),label:Re("UPDATE_CONFLICT_DESC"),type:"operation",callback:()=>this.doUpdate(e,!0)}).enable()}catch(e){console.error(e),Pe(`Update Failed: ${e.toString()}`)}this.button.classList.remove("loading")}}),Cd=Nd,yd=window.plugin.wasabee;class Rd extends Ft{constructor(e){super(e),this.needWritePermission=!0,this.title=Re("toolbar.quick_delete.title"),this.type=Rd.TYPE,this.handler=new Id(this),this.button=this._createButton({title:this.title,container:e,className:"wasabee-toolbar-quickdelete",context:this,callback:this.toggleActions}),this.state="off",this.setSubActions(this.getSubActions()),this._container.appendChild(this.actionsContainer),window.map.on("wasabee:op:change",this.opChange,this),window.map.on("wasabee:ui:skin wasabee:ui:lang",(()=>{this.button.title=Re("toolbar.quick_delete.title"),this.setSubActions(this.getSubActions())})),this.update()}opChange(){"on"==this.state?this.disable():"instant"==this.state&&(this.handler.disable(),this.handler.enable())}toggleActions(){"off"==this.state?(this.state="instant",this.enable(),this.setSubActions(this.getSubActions()),Et({id:"analytics",action:"quickdelete:instant"}),this.button.classList.add("blink")):"instant"==this.state?(this.disable(),this.state="on",this.enable(),this.setSubActions(this.getSubActions()),Et({id:"analytics",action:"quickdelete"})):this.disable()}actionApply(){const e=Ke();e.markers=e.markers.filter((e=>!this.handler.deletedMarker.has(e.ID))),e.links=e.links.filter((e=>!this.handler.deletedLink.has(e.ID))),e.cleanAnchorList(),e.cleanPortalList(),e.update(!0),e.updateBlockers(),this.disable()}actionClear(){const e=Ke();e.clearAllItems(),e.updateBlockers(),this.disable()}actionCancel(){this.disable()}getSubActions(){return"instant"===this.state?[{text:Re("toolbar.quick_delete.stop.text"),title:Re("toolbar.quick_delete.stop.title"),callback:this.disable,context:this},{text:Re("toolbar.quick_delete.clear.text"),title:Re("toolbar.quick_delete.clear.title"),callback:this.actionClear,context:this}]:[{text:Re("toolbar.quick_delete.apply.text"),title:Re("toolbar.quick_delete.apply.title"),callback:this.actionApply,context:this},{text:Re("toolbar.quick_delete.cancel.text"),title:Re("toolbar.quick_delete.cancel.title"),callback:this.actionCancel,context:this}]}enable(){return super.enable(),this.button.classList.add("active"),this.handler.enable(),this}disable(){return super.disable(),this.button.classList.remove("active"),this.button.classList.remove("blink"),this.handler.disable(),this.state="off",this}}Rd.TYPE="QuickdeleteButton";class Id extends L.Handler{constructor(e){super(window.map),this.deletedMarker=new Set,this.deletedLink=new Set,this.control=e}clickMarker(e){if(!this.enabled())return;const t=e.target;t.closePopup(),this.toggleMarker(t)}toggleMarker(e){if("instant"==this.control.state)return Ke().removeMarkerByID(e.options.id);this.deletedMarker.has(e.options.id)?(this.deletedMarker.delete(e.options.id),e.setOpacity(1)):(this.deletedMarker.add(e.options.id),e.setOpacity(.5))}clickLink(e){if(!this.enabled())return;const t=e.target;t.closePopup(),this.toggleLink(t)}toggleLink(e){if("instant"==this.control.state)return Ke().removeLinkByID(e.options.linkID);this.deletedLink.has(e.options.linkID)?(this.deletedLink.delete(e.options.linkID),e.setStyle({opacity:window.plugin.wasabee.skin.linkStyle.opacity||1})):(this.deletedLink.add(e.options.linkID),e.setStyle({opacity:.5*(window.plugin.wasabee.skin.linkStyle.opacity||1)}))}clickAnchor(e){if(!this.enabled())return;const t=e.target;t.closePopup(),this.toggleAnchor(t)}toggleAnchor(e){const t=Ke();if("instant"==this.control.state)return t.removeAnchor(e.options.portalId);const a=t.getPortal(e.options.portalId),o=t.getLinkListFromPortal(a);o.every((e=>this.deletedLink.has(e.ID)))?yd.linkLayerGroup.eachLayer((e=>{o.find((t=>t.ID==e.options.linkID))&&this.toggleLink(e)})):yd.linkLayerGroup.eachLayer((e=>{this.deletedLink.has(e.options.linkID)||o.find((t=>t.ID==e.options.linkID))&&this.toggleLink(e)}))}keyUpListener(e){this.enabled()&&27===e.originalEvent.keyCode&&this.control.disable()}addHooks(){yd.portalLayerGroup.eachLayer((e=>{e.on("spiderfiedclick",this.clickAnchor,this)})),yd.markerLayerGroup.eachLayer((e=>{e.on("spiderfiedclick",this.clickMarker,this)})),yd.linkLayerGroup.eachLayer((e=>{e.on("click",this.clickLink,this)})),window.map.on("keyup",this.keyUpListener,this),this.tooltip=new Kt(window.map),this.tooltip.updateContent("instant"===this.control.state?Re("toolbar.quick_delete.tooltip.quick_mode"):Re("toolbar.quick_delete.tooltip.toggle_mode"))}removeHooks(){yd.portalLayerGroup.eachLayer((e=>{e.off("spiderfiedclick",this.clickAnchor,this)})),yd.markerLayerGroup.eachLayer((e=>{e.off("spiderfiedclick",this.clickMarker,this),e.setOpacity(1)})),yd.linkLayerGroup.eachLayer((e=>{e.off("click",this.clickLink,this),e.setStyle({opacity:window.plugin.wasabee.skin.linkStyle.opacity||1})})),window.map.off("keyup",this.keyUpListener,this),this.tooltip.dispose()}}const Md=Rd,Pd=Ht.extend({statics:{TYPE:"about"},addHooks:function(){Ht.prototype.addHooks.call(this),this._displayDialog()},_displayDialog:function(){const e=L.DomUtil.create("div",null);L.DomUtil.create("div",null,e).innerHTML=Re("SUPPORT_INSTRUCT"),this._smallScreen&&(L.DomUtil.create("div",null,e).innerHTML=Re("dialog.about.download_mobile_app")),L.DomUtil.create("div",null,e).innerHTML="<h3>Show your love</h3><a href='https://www.patreon.com/wasabee' target=\"_blank\">Patreon</a>",L.DomUtil.create("div",null,e).innerHTML="<h3>About Wasabee-IITC</h3>Current version: "+window.plugin.wasabee.info.version,L.DomUtil.create("div",null,e).innerHTML=Re("HOW_TO_VIDS");const t={};t[Re("CLOSE")]=()=>{this.closeDialog()},this.createDialog({title:Re("ABOUT_WASABEE"),html:e,width:"auto",dialogClass:"about",buttons:t})}}),xd=Ht.extend({statics:{TYPE:"OnlineAgentList"},addHooks:function(){Ht.prototype.addHooks.call(this),window.map.on("wasabee:agentlocations",this.update,this),window.map.on("wasabee:logout",this.closeDialog,this),this._displayDialog()},removeHooks:function(){Ht.prototype.removeHooks.call(this),window.map.off("wasabee:agentlocations",this.update,this),window.map.off("wasabee:logout",this.closeDialog,this)},_displayDialog:function(){const e={};e[Re("CLOSE")]=()=>{this.closeDialog()},this.update(),this.createDialog({title:Re("dialog.online_agents.title"),html:this._table.table,width:"auto",dialogClass:"teamlist",buttons:e})},update:async function(){this._table=new hi,this._table.fields=[{name:Re("AGENT"),value:e=>e.getName(),sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>e.appendChild(si(a))},{name:Re("dialog.online_agents.last_seen"),value:e=>e.date,sort:(e,t)=>e.localeCompare(t),format:(e,t,a)=>{a&&(e.textContent=li(a))}},{name:Re("dialog.online_agents.actions"),value:e=>e.id,format:(e,t,a)=>{if(t){const t=L.DomUtil.create("a",null,e);t.textContent="",t.href="#",L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),window.map.setView(a.latLng,7)}));const o=L.DomUtil.create("a",null,e);o.textContent="",o.href="#",L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),window.map.setView(a.latLng,13)}))}}}],this._table.sortBy=0;const e=new Array,t=window.plugin.wasabee.idb.transaction(["agents"],"readonly"),a=IDBKeyRange.lowerBound(this._last_hour());let o=await t.store.index("date").openCursor(a);for(;o;)e.push(new V(o.value)),o=await o.continue();this._table.items=e},_last_hour:function(){const e=new Date(Date.now()-36e5),t=e.getUTCDate(),a=e.getUTCMonth()+1,o=e.getUTCFullYear(),n=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds();return o+"-"+(a<=9?"0"+a:a)+"-"+(t<=9?"0"+t:t)+" "+(n<=9?"0"+n:n)+":"+(i<=9?"0"+i:i)+":"+(r<=9?"0"+r:r)}}),Ud=xd;async function Bd(e){if("permission-blocked"===e.data)return void Me(Re("dialog.firebase.setup",{url:`<a href="${D.FIREBASE_IFRAME}">${D.FIREBASE_IFRAME}</a>`}),!0);const t=e.data.data;switch(t.cmd){case"Agent Location Change":console.debug("firebase update of whole team location: ",t),window.map.fire("wasabee:agentlocations");break;case"Delete":console.warn("server requested op delete: ",t.opID),await Fe(t.opID),await Ge();break;case"Generic Message":{const e=await _t(t.sender),a=e?e.name:"[unknown sender]";Ie(Re("dialog.team_message",{message:t.msg,sender:a}))}break;case"Login":console.debug("server reported teammate login: ",t.gid),window.map.fire("wasabee:agentlocations");break;case"Link Assignment Change":case"Link Status Change":case"Marker Assignment Change":case"Task Status Change":case"Task Assignment Change":case"Marker Status Change":case"Map Change":!async function(e){let t=e.updateID;if("Map Change"!==e.cmd&&(t+=e.cmd),window.plugin.wasabee._updateList.has(t))return void console.debug("skipping firebase requested update of op since it was our change",e.cmd,e.updateID);if(window.plugin.wasabee._updateList.set(t,Date.now()),!Se.load(e.opID))return void console.warn("Got operation change for an unknown op",e.opID);const a=Ke(),o=a.ID===e.opID;switch(e.cmd){case"Link Assignment Change":o&&async function(e,t){const a=new ee(await Rt(t.opID,t.linkID));e.assignLink(a.ID,a.assignedTo)}(a,e),console.log(e);break;case"Link Status Change":o&&async function(e,t){const a=new ee(await Rt(t.opID,t.linkID));e.setLinkState(a.ID,a.state)}(a,e),console.log(e);break;case"Marker Assignment Change":o&&async function(e,t){const a=new ie(await It(t.opID,t.markerID));e.assignMarker(a.ID,a.assignedTo)}(a,e),console.log(e);break;case"Marker Status Change":o&&async function(e,t){const a=new ie(await It(t.opID,t.markerID));e.setMarkerState(a.ID,a.state)}(a,e),console.log(e);break;case"Map Change":try{const t=await Se.load(e.opID),a=await yt(e.opID);await Cr(t,a)?(console.log("firebase trigger reload of current op: ",e),await ze(a.ID)):console.debug("firebase trigger update of op",e.opID)}catch(e){console.error(e)}break;default:console.log(e)}}(t);break;case"Target":try{const e=JSON.parse(t.msg),a={id:e.ID,name:e.Name,lat:e.Lat,lng:e.Lon};Ie(Je(new se(a)).outerHTML+"<br>Sent by: "+e.Sender,!0)}catch(e){console.error(e)}break;default:console.warn("unknown firebase command: ",t)}}function Kd(e,t){const a=e.split(".",3),o=t.split(".",3);return+a[0]<+o[0]||+a[0]==+o[0]&&+a[1]<+o[1]}const Gd=window.plugin.wasabee;Gd.static=N,window.plugin.wasabee.init=async()=>{if(Promise.allSettled||(Promise.allSettled=function(e){let t=e.map((e=>e.then((e=>({status:"fulfilled",value:e}))).catch((e=>({status:"rejected",reason:e})))));return Promise.all(t)}),Gd._inited)return;if(Gd._inited=!0,Object.freeze(Gd.static),null==window.iitcBuildDate||window.iitcBuildDate<"2020-01-18-170317")return void Pe("Wasabee won't work on this version of IITC; please <a href='https://iitc.app'>update to 0.30.1 or newer from https://iitc.app</a>. On desktop, <strong>do not use the IITC button</strong>, use the TamperMonkey/GreaseMonkey method.");try{Gd.idb=await q}catch(e){return Pe("Wasabee: unable to access the storage: "+e.toString()),void(plugin_info.error=e)}Gd._selectedOp=null,Gd._updateList=new Map,Gd.portalDetailQueue=[],fi(),function(){if(void 0!==window.gapi)return Pe("Wasabee detected another GAPI instance; there may be authentication issues"),void window.gapi.load("auth2",(()=>{window.gapi.auth2.enableDebugLogs(!1),console.log("loading GAPI auth2")}));const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.defer=!0,e.src="https://apis.google.com/js/platform.js",e.onload=()=>{window.gapi.load("auth2",(()=>{window.gapi.auth2.enableDebugLogs(!1)}))},(document.body||document.head||document.documentElement).appendChild(e)}(),await async function(){let e=await Ye();null!=e&&0!=e.length||(await async function(){const e=await He();await async function(){const e=await Ye();await Promise.all(e.map(Se.delete)),e.map(j.removeBlockers)}(),e.update()}(),e=await Ye());const t=[];for(const a of e)t.push(Se.migrate(a));await Promise.allSettled(t);let a=Be();null!=a&&null!=a||(a=e[0],Ue(a))}(),await async function(){if(null==window.plugin.wasabee._selectedOp){const e=Be();null==e?await He():null==await Se.load(e)?(console.log("most recently loaded up not present in local store, starting with new default op"),await He()):await ze(e)}return Ke()}(),Ot();const e=[],t=localStorage[Gd.static.constants.SKIN_KEY];try{const a=JSON.parse(t);for(const t of a)e.push(t)}catch{e.push(t)}function a(e){window.map.fire("wasabee:portal:click",{portal:Ve(e.target)})}e.length>0&&(window.iitcLoaded?_i(e):window.addHook("iitcLoaded",(()=>{_i(e)}))),Gd.portalLayerGroup=new L.LayerGroup,Gd.linkLayerGroup=new L.LayerGroup,Gd.markerLayerGroup=new L.LayerGroup,Gd.agentLayerGroup=new L.LayerGroup,Gd.zoneLayerGroup=new L.FeatureGroup,window.addLayerGroup("Wasabee Draw Portals",Gd.portalLayerGroup,!0),window.addLayerGroup("Wasabee Draw Links",Gd.linkLayerGroup,!0),window.addLayerGroup("Wasabee Draw Markers",Gd.markerLayerGroup,!0),window.addLayerGroup("Wasabee Agents",Gd.agentLayerGroup,!0),window.addLayerGroup("Wasabee Zones",Gd.zoneLayerGroup,!0),Gd.zoneLayerGroup.bringToBack(),Gd.backgroundOpsGroup=new L.LayerGroup,window.addLayerGroup("Wasabee Background Ops",Gd.backgroundOpsGroup,!0),window.addHook("mapDataRefreshStart",(()=>{window.map.fire("wasabee:agentlocations")})),window.addHook("portalDetailsUpdated",(e=>{at({success:!0,guid:e.guid,details:e.portalDetails})})),window.addHook("portalAdded",(e=>e.portal.on("click",a))),window.addHook("mapDataEntityInject",Xi),window.map.on("wasabee:op:select",Xi),window.addHook("mapDataEntityInject",$i),window.map.on("wasabee:ui:skin",Yi),window.map.on("wasabee:filter",Yi),window.map.on("wasabee:op:change",Yi),window.map.on("wasabee:op:select",Yi),window.map.on("wasabee:agentlocations",Vi),window.map.on("wasabee:logout",Vi),window.map.on("wasabee:logout",qe),window.map.on("wasabee:logout",Lt),window.addResumeFunction((()=>{re.isLoggedIn()&&(window.map.fire("wasabee:agentlocations"),Gr())})),window.map.on("wasabee:op:select",(()=>{Zi()})),window.map.on("wasabee:op:background",(e=>{e.background?Gd._selectedOp&&Gd._selectedOp.ID!==e.opID&&Se.load(e.opID).then(qi):Zi()}));const o="true"===localStorage[Gd.static.constants.USE_PANES];window.isSmartphone()&&o&&new Gt({paneId:"wasabee",paneName:"Wasabee",default:()=>new Mi}),window.plugin.userLocation&&window.addHook("pluginUserLocation",zd),window.map.on("layeradd",(e=>{e.layer!==Gd.portalLayerGroup&&e.layer!==Gd.linkLayerGroup&&e.layer!==Gd.markerLayerGroup&&e.layer!==Gd.zoneLayerGroup||Yi(),e.layer===Gd.backgroundOpsGroup&&Zi()})),window.map.on("layerremove",(e=>{e.layer!==Gd.portalLayerGroup&&e.layer!==Gd.linkLayerGroup&&e.layer!==Gd.markerLayerGroup&&e.layer!==Gd.zoneLayerGroup||e.layer.clearLayers()})),function(e){const t=L.DomUtil.create("iframe");t.width="0",t.height="0",t.src=D.FIREBASE_IFRAME,t.id="wasabeeFirebaseFrame",t.addEventListener("load",(()=>{ft.onmessage=t=>{"ready"===t.data&&(ft.onmessage=e,re.isLoggedIn()&&Et({id:"wasabeeLogin",method:"auto"}))},t.contentWindow.postMessage("init","*",[gt.port2])})),document.body.append(t)}(Bd),window.map.on("wasabee:crosslinks",ut),window.plugin.wasabee.crossLinkLayers=new L.FeatureGroup,window.plugin.wasabee._crosslinkCache=new Map,window.addLayerGroup("Wasabee Cross Links",window.plugin.wasabee.crossLinkLayers,!0),window.map.on("layeradd",(e=>{e.layer===window.plugin.wasabee.crossLinkLayers&&(window.plugin.wasabee._crosslinkCache=new Map,ut())})),window.map.on("layerremove",(e=>{e.layer===window.plugin.wasabee.crossLinkLayers&&(window.plugin.wasabee.crossLinkLayers.clearLayers(),delete window.plugin.wasabee._crosslinkCache)})),window.addHook("mapDataRefreshStart",mt),window.addHook("mapDataRefreshEnd",ht),window.plugin.wasabee.defensiveLayers=Jl=new L.LayerGroup,window.addLayerGroup("Wasabee-D Keys",Jl,!1),window.map.on("wasabee:defensivekeys",$l),window.map.on("layeradd",(e=>{e.layer===Jl&&window.map.fire("wasabee:defensivekeys")})),window.map.on("layerremove",(e=>{e.layer===Jl&&Jl.clearLayers()})),"true"!==localStorage[Gd.static.constants.SEND_LOCATION_KEY]&&(localStorage[Gd.static.constants.SEND_LOCATION_KEY]="false"),Ic(),window.map.on("wasabee:op:change",Mc),window.map.on("wasabee:op:select",Ic),function(){if(window.plugin.wasabee.buttons)return;const e={container:L.DomUtil.create("ul","leaflet-bar"),position:"topleft",buttons:new Map};for(const t of[ic,zc,rr,Md,Sd,Dd,sc,Cd]){const a=new t(L.DomUtil.create("li",null,e.container));e.buttons.set(a.type,a)}window.plugin.wasabee.buttons=new zt(e),window.map.addControl(window.plugin.wasabee.buttons),window.plugin.wasabee.buttons.update()}(),function(){const e=document.getElementById("toolbox"),t=L.DomUtil.create("a","wasabee",e);t.href="#",t.textContent=Re("ABOUT_WASABEE"),L.DomEvent.on(t,"click",(e=>{L.DomEvent.stop(e),(new Pd).enable()}));const a=L.DomUtil.create("a","wasabee",e);a.href="#",a.textContent=Re("SETTINGS_TOOLBOX"),L.DomEvent.on(a,"click",(e=>{L.DomEvent.stop(e),(new Ql).enable()}));const o=L.DomUtil.create("a","wasabee",e);o.textContent=Re("SEND_LOC"),L.DomEvent.on(o,"click",(e=>{L.DomEvent.stop(e),navigator.geolocation.getCurrentPosition((async e=>{try{await Nt(e.coords.latitude,e.coords.longitude),Ie(Re("LOC_PROC"))}catch(e){console.error(e)}}),(e=>{console.error(e)}))}));const n=L.DomUtil.create("a","wasabee",e);n.textContent=Re("toolbox.teammates"),L.DomEvent.on(n,"click",(e=>{L.DomEvent.stop(e),(new Ud).enable()}))}(),window.map.fire("wasabee:agentlocations"),Yi(),Zi(),window.map.fire("wasabee:crosslinks"),re.isLoggedIn()&&(wt(!0),window.map.fire("wasabee:defensivekeys")),window.map.on("wdialog",(e=>{Et({id:"analytics",action:e.dialogType})})),async function(){const e=await(await fetch("https://cdn2.wasabee.rocks/iitcplugin/prod/wasabee.meta.js")).text();for(const t of e.split("\n"))if(t.startsWith("// @version")){const e=t.slice(11).trim();return Kd(window.plugin.wasabee.info.version,e)}return!1}().then((e=>{e&&Me(Re("dialog.update_warning"))}))};let Hd=0;function zd(e){const{event:t,data:a}=e;"onLocationChange"===t&&a.latlng&&"true"===localStorage[Gd.static.constants.SEND_LOCATION_KEY]&&(Date.now()-Hd<5e3||re.isLoggedIn()&&(Nt(a.latlng.lat,a.latlng.lng),Hd=Date.now()))}})()})();
    window.plugin.wasabee.init();
  };

  setup.info = plugin_info; //add the script info data to the function as a property
  if (!window.bootPlugins) {
    window.bootPlugins = [];
  }
  window.bootPlugins.push(setup);
  // if IITC has already booted, immediately run the 'setup' function
  if (window.iitcLoaded && typeof setup === "function") {
    setup();
  }
}

var script = document.createElement("script");
var info = {};
if (typeof GM_info !== "undefined" && GM_info && GM_info.script) {
  info.script = {
    version: GM_info.script.version,
    name: GM_info.script.name,
    description: GM_info.script.description,
  };
}

script.appendChild(
  document.createTextNode("(" + wrapper + ")(" + JSON.stringify(info) + ");")
);
(document.body || document.head || document.documentElement).appendChild(
  script
);
